<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自然正向經濟：平衡發展與保護</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f8f9fa;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .kpi-value {
            font-weight: 900;
            color: #FF6B6B;
        }
        .flow-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #073B4C;
            font-size: 2rem;
            font-weight: bold;
            margin: 0 0.5rem;
        }
        .flow-box {
            border: 2px solid #118AB2;
            background-color: #ffffff;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="relative text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black text-[#073B4C] mb-4" data-lang-key="mainTitle">自然正向經濟</h1>
            <p class="text-xl md:text-2xl text-[#118AB2]" data-lang-key="headerSubtitle">我們的繁榮根植於一個健康的星球。全球超過一半的GDP依賴於大自然，但這份珍貴的資產正以前所未有的速度流失。</p>
            <button id="lang-toggle" class="absolute top-0 right-0 bg-[#118AB2] text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-[#073B4C] transition-colors">English</button>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <div class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-lg p-6 flex flex-col md:flex-row items-center justify-around text-center">
                <div class="mb-6 md:mb-0">
                    <h2 class="text-2xl font-bold text-[#073B4C]" data-lang-key="kpi1Title">全球野生動物種群數量</h2>
                    <p class="text-lg text-[#118AB2]" data-lang-key="kpi1Subtitle">自1970年以來</p>
                    <p class="text-7xl kpi-value">-69%</p>
                </div>
                <div class="w-full md:w-1/3">
                    <div class="chart-container h-64 md:h-72">
                        <canvas id="populationDeclineChart"></canvas>
                    </div>
                </div>
                <div class="mt-6 md:mt-0">
                    <h2 class="text-2xl font-bold text-[#073B4C]" data-lang-key="kpi2Title">最受衝擊的地區</h2>
                    <p class="text-lg text-[#118AB2]" data-lang-key="kpi2Subtitle">拉丁美洲及加勒比地區</p>
                    <p class="text-7xl kpi-value">-94%</p>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-center text-[#073B4C] mb-4" data-lang-key="driversChartTitle">生物多樣性喪失的主要驅動因素</h2>
                <p class="text-center text-gray-600 mb-4" data-lang-key="driversChartDesc">人類活動是生態系統衰退的根本原因，其中土地利用的改變影響最為深遠。</p>
                <div class="chart-container h-80">
                    <canvas id="driversChart"></canvas>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-center text-[#073B4C] mb-4" data-lang-key="lossesTitle">不可逆的損失</h2>
                <div class="text-center">
                    <p class="text-6xl kpi-value">1M</p>
                    <p class="text-xl text-[#118AB2] mt-2" data-lang-key="losses1">物種瀕臨滅絕</p>
                    <hr class="my-4 border-t-2 border-gray-200">
                    <p class="text-6xl kpi-value">90%</p>
                    <p class="text-xl text-[#118AB2] mt-2" data-lang-key="losses2">的濕地自1700年以來消失</p>
                     <hr class="my-4 border-t-2 border-gray-200">
                    <p class="text-6xl kpi-value">83%</p>
                    <p class="text-xl text-[#118AB2] mt-2" data-lang-key="losses3">的淡水物種種群數量下降</p>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-center text-[#073B4C] mb-4" data-lang-key="agriTitle">農業的影響</h2>
                <p class="text-center text-gray-600 mb-4" data-lang-key="agriDesc">農業擴張是近90%森林砍伐的驅動力。精準農業等創新技術有助於減少環境足跡。</p>
                <div class="chart-container h-80">
                    <canvas id="precisionAgriChart"></canvas>
                </div>
            </div>

            <div class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-3xl font-bold text-center text-[#073B4C] mb-6" data-lang-key="economyTitle">從線性榨取到循環再生</h2>
                <p class="text-center text-gray-600 mb-8" data-lang-key="economyDesc">我們需要從「開採-製造-拋棄」的線性模式，轉向一個從源頭就杜絕廢棄物、使資源得以循環、並再生自然系統的循環經濟。</p>
                <div class="flex flex-col space-y-8">
                    <div>
                        <h3 class="text-xl font-bold text-center text-[#FF6B6B] mb-4" data-lang-key="linearEconomy">線性經濟</h3>
                        <div class="flex flex-wrap items-center justify-center">
                            <div class="p-4 rounded-lg flow-box text-center" data-lang-key="linear1"><strong>開採</strong><br>資源</div>
                            <div class="flow-arrow">→</div>
                            <div class="p-4 rounded-lg flow-box text-center" data-lang-key="linear2"><strong>製造</strong><br>產品</div>
                            <div class="flow-arrow">→</div>
                            <div class="p-4 rounded-lg flow-box text-center" data-lang-key="linear3"><strong>使用</strong><br>消費</div>
                            <div class="flow-arrow">→</div>
                            <div class="p-4 rounded-lg flow-box text-center bg-gray-200" data-lang-key="linear4"><strong>拋棄</strong><br>廢棄物</div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-center text-[#06D6A0] mb-4" data-lang-key="circularEconomy">循環經濟</h3>
                        <div class="relative p-8 border-4 border-dashed border-[#06D6A0] rounded-full flex items-center justify-center">
                           <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                                <div class="p-3 rounded-lg flow-box" data-lang-key="circular1"><strong>設計</strong><br>杜絕廢棄</div>
                                <div class="p-3 rounded-lg flow-box" data-lang-key="circular2"><strong>再利用</strong><br>維修/翻新</div>
                                <div class="p-3 rounded-lg flow-box" data-lang-key="circular3"><strong>回收</strong><br>材料循環</div>
                                <div class="p-3 rounded-lg flow-box" data-lang-key="circular4"><strong>再生</strong><br>自然系統</div>
                           </div>
                           <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl text-[#06D6A0]">♻️</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-center text-[#073B4C] mb-4" data-lang-key="costaRicaTitle">為自然定價：哥斯大黎加的奇蹟</h2>
                <p class="text-center text-gray-600 mb-4" data-lang-key="costaRicaDesc">透過向化石燃料徵稅來支付生態系統服務費用，哥斯大黎加成功扭轉了森林砍伐的趨勢。</p>
                <div class="chart-container h-80">
                    <canvas id="costaRicaChart"></canvas>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col justify-center items-center text-center">
                <h2 class="text-2xl font-bold text-[#073B4C] mb-4" data-lang-key="goalTitle">全球目標：「30x30」</h2>
                <p class="text-gray-600 mb-4" data-lang-key="goalDesc">《昆明—蒙特婁全球生物多樣性框架》要求到2030年，保護全球至少30%的陸地和海洋。</p>
                <div class="chart-container w-48 h-48">
                    <canvas id="goal30x30Chart"></canvas>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col justify-center items-center text-center">
                <h2 class="text-2xl font-bold text-[#073B4C] mb-4" data-lang-key="subsidyTitle">改革有害補貼</h2>
                <p class="text-gray-600 mb-4" data-lang-key="subsidyDesc">全球框架呼籲每年至少改革或淘汰</p>
                <p class="text-6xl kpi-value">$500B</p>
                <p class="text-xl text-[#118AB2] mt-2" data-lang-key="subsidyUnit">對生物多樣性有害的補貼。</p>
            </div>

             <div class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-3xl font-bold text-center text-[#073B4C] mb-6" data-lang-key="actionTitle">全社會共同行動</h2>
                <p class="text-center text-gray-600 mb-8" data-lang-key="actionDesc">轉型需要政府、私營部門、公民社會和每個人的共同努力，形成一個協同合作的網絡。</p>
                <div class="flex items-center justify-center p-4">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                        <div class="flex flex-col items-center">
                            <div class="text-5xl mb-2">🏛️</div>
                            <h3 class="font-bold text-lg text-[#073B4C]" data-lang-key="actor1Name">政府</h3>
                            <p class="text-sm text-gray-600" data-lang-key="actor1Desc">制定政策<br>改革補貼</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="text-5xl mb-2">🏢</div>
                            <h3 class="font-bold text-lg text-[#073B4C]" data-lang-key="actor2Name">私營部門</h3>
                            <p class="text-sm text-gray-600" data-lang-key="actor2Desc">循環創新<br>ESG整合</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="text-5xl mb-2">🤝</div>
                            <h3 class="font-bold text-lg text-[#073B4C]" data-lang-key="actor3Name">公民社會</h3>
                            <p class="text-sm text-gray-600" data-lang-key="actor3Desc">監督倡導<br>在地實踐</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="text-5xl mb-2">🧑‍🤝‍🧑</div>
                            <h3 class="font-bold text-lg text-[#073B4C]" data-lang-key="actor4Name">公民個人</h3>
                            <p class="text-sm text-gray-600" data-lang-key="actor4Desc">責任消費<br>公民科學</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p data-lang-key="footerSource">資料來源：自然正向經濟：調和人類繁榮與生物多樣性保護報告。</p>
            <p data-lang-key="footerDisclaimer">此資訊圖表為視覺化摘要，僅供教育目的使用。</p>
        </footer>

    </div>

    <script>
        const translations = {
            en: {
                mainTitle: "Nature-Positive Economy",
                headerSubtitle: "Our prosperity is rooted in a healthy planet. Over half of the world's GDP depends on nature, yet this precious asset is declining at an unprecedented rate.",
                kpi1Title: "Global Wildlife Population",
                kpi1Subtitle: "Since 1970",
                kpi2Title: "Most Impacted Region",
                kpi2Subtitle: "Latin America & Caribbean",
                driversChartTitle: "Main Drivers of Biodiversity Loss",
                driversChartDesc: "Human activities are the root cause of ecosystem degradation, with changes in land use having the most profound impact.",
                lossesTitle: "Irreversible Losses",
                losses1: "species are threatened with extinction",
                losses2: "of wetlands have disappeared since 1700",
                losses3: "decline in freshwater species populations",
                agriTitle: "Impact of Agriculture",
                agriDesc: "Agricultural expansion drives almost 90% of deforestation. Innovations like precision agriculture help reduce the environmental footprint.",
                economyTitle: "From Linear Extraction to Circular Regeneration",
                economyDesc: "We need to shift from a linear 'take-make-waste' model to a circular economy that designs out waste, circulates resources, and regenerates natural systems.",
                linearEconomy: "Linear Economy",
                linear1: "<strong>Take</strong><br>Resources",
                linear2: "<strong>Make</strong><br>Products",
                linear3: "<strong>Use</strong><br>Consumption",
                linear4: "<strong>Dispose</strong><br>Waste",
                circularEconomy: "Circular Economy",
                circular1: "<strong>Design Out</strong><br>Waste",
                circular2: "<strong>Reuse</strong><br>Repair/Remanufacture",
                circular3: "<strong>Recycle</strong><br>Material Loop",
                circular4: "<strong>Regenerate</strong><br>Natural Systems",
                costaRicaTitle: "Pricing Nature: The Costa Rican Miracle",
                costaRicaDesc: "By taxing fossil fuels to pay for ecosystem services, Costa Rica successfully reversed deforestation.",
                goalTitle: "Global Goal: '30x30'",
                goalDesc: "The Kunming-Montreal Global Biodiversity Framework calls for protecting at least 30% of the planet's land and oceans by 2030.",
                subsidyTitle: "Reforming Harmful Subsidies",
                subsidyDesc: "The global framework calls for reforming or eliminating at least",
                subsidyUnit: "in subsidies harmful to biodiversity annually.",
                actionTitle: "A Whole-of-Society Approach",
                actionDesc: "The transition requires a collaborative network of governments, the private sector, civil society, and every individual.",
                actor1Name: "Government",
                actor1Desc: "Set Policies<br>Reform Subsidies",
                actor2Name: "Private Sector",
                actor2Desc: "Circular Innovation<br>ESG Integration",
                actor3Name: "Civil Society",
                actor3Desc: "Advocacy & Monitoring<br>Local Action",
                actor4Name: "Individuals",
                actor4Desc: "Responsible Consumption<br>Citizen Science",
                footerSource: "Source: Nature-Positive Economy: Reconciling Human Prosperity with Biodiversity Conservation Report.",
                footerDisclaimer: "This infographic is a visual summary for educational purposes only.",
                populationDeclineChartLabels: ['Decline', 'Remaining'],
                driversChartLabels: ['Land & Sea Use Change', 'Direct Exploitation', 'Climate Change', 'Pollution', 'Invasive Species'],
                driversChartLabel: 'Impact Level',
                precisionAgriChartLabels: ['Herbicides/Pesticides', 'Fossil Fuels', 'Water Use'],
                precisionAgriChartLabel: 'Reduction in Use (%)',
                precisionAgriChartYAxis: 'Percentage Reduction (%)',
                costaRicaChartLabel: 'Forest Cover (%)',
                costaRicaChartYAxis: 'Coverage (%)',
                costaRicaChartLabels: ["1980s", "1997", "Today"],
                goal30x30ChartLabels: ['Protection Goal', 'Other'],
            },
            zh: {
                mainTitle: "自然正向經濟",
                headerSubtitle: "我們的繁榮根植於一個健康的星球。全球超過一半的GDP依賴於大自然，但這份珍貴的資產正以前所未有的速度流失。",
                kpi1Title: "全球野生動物種群數量",
                kpi1Subtitle: "自1970年以來",
                kpi2Title: "最受衝擊的地區",
                kpi2Subtitle: "拉丁美洲及加勒比地區",
                driversChartTitle: "生物多樣性喪失的主要驅動因素",
                driversChartDesc: "人類活動是生態系統衰退的根本原因，其中土地利用的改變影響最為深遠。",
                lossesTitle: "不可逆的損失",
                losses1: "物種瀕臨滅絕",
                losses2: "的濕地自1700年以來消失",
                losses3: "的淡水物種種群數量下降",
                agriTitle: "農業的影響",
                agriDesc: "農業擴張是近90%森林砍伐的驅動力。精準農業等創新技術有助於減少環境足跡。",
                economyTitle: "從線性榨取到循環再生",
                economyDesc: "我們需要從「開採-製造-拋棄」的線性模式，轉向一個從源頭就杜絕廢棄物、使資源得以循環、並再生自然系統的循環經濟。",
                linearEconomy: "線性經濟",
                linear1: "<strong>開採</strong><br>資源",
                linear2: "<strong>製造</strong><br>產品",
                linear3: "<strong>使用</strong><br>消費",
                linear4: "<strong>拋棄</strong><br>廢棄物",
                circularEconomy: "循環經濟",
                circular1: "<strong>設計</strong><br>杜絕廢棄",
                circular2: "<strong>再利用</strong><br>維修/翻新",
                circular3: "<strong>回收</strong><br>材料循環",
                circular4: "<strong>再生</strong><br>自然系統",
                costaRicaTitle: "為自然定價：哥斯大黎加的奇蹟",
                costaRicaDesc: "透過向化石燃料徵稅來支付生態系統服務費用，哥斯大黎加成功扭轉了森林砍伐的趨勢。",
                goalTitle: "全球目標：「30x30」",
                goalDesc: "《昆明—蒙特婁全球生物多樣性框架》要求到2030年，保護全球至少30%的陸地和海洋。",
                subsidyTitle: "改革有害補貼",
                subsidyDesc: "全球框架呼籲每年至少改革或淘汰",
                subsidyUnit: "對生物多樣性有害的補貼。",
                actionTitle: "全社會共同行動",
                actionDesc: "轉型需要政府、私營部門、公民社會和每個人的共同努力，形成一個協同合作的網絡。",
                actor1Name: "政府",
                actor1Desc: "制定政策<br>改革補貼",
                actor2Name: "私營部門",
                actor2Desc: "循環創新<br>ESG整合",
                actor3Name: "公民社會",
                actor3Desc: "監督倡導<br>在地實踐",
                actor4Name: "公民個人",
                actor4Desc: "責任消費<br>公民科學",
                footerSource: "資料來源：自然正向經濟：調和人類繁榮與生物多樣性保護報告。",
                footerDisclaimer: "此資訊圖表為視覺化摘要，僅供教育目的使用。",
                populationDeclineChartLabels: ['下降', '剩餘'],
                driversChartLabels: ['土地和海洋利用變遷', '生物的過度開發', '氣候變遷', '污染', '外來物種入侵'],
                driversChartLabel: '影響程度',
                precisionAgriChartLabels: ['除草劑/殺蟲劑', '化石燃料', '用水量'],
                precisionAgriChartLabel: '使用量減少 (%)',
                precisionAgriChartYAxis: '減少百分比 (%)',
                costaRicaChartLabel: '森林覆蓋率 (%)',
                costaRicaChartYAxis: '覆蓋率 (%)',
                costaRicaChartLabels: ["1980s", "1997", "今日"],
                goal30x30ChartLabels: ['保護目標', '其他'],
            }
        };

        let currentLang = 'zh';
        let chartInstances = {};

        const FONT_COLOR = '#073B4C';
        const GRID_COLOR = '#d1d5db';
        const PALETTE = {
            red: '#FF6B6B',
            yellow: '#FFD166',
            green: '#06D6A0',
            blue: '#118AB2',
            darkBlue: '#073B4C'
        };

        Chart.defaults.color = FONT_COLOR;
        Chart.defaults.font.family = "'Inter', 'Noto Sans TC', sans-serif";
        
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };
        
        const SHARED_CHART_OPTIONS = {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    },
                    backgroundColor: 'rgba(7, 59, 76, 0.9)',
                    titleFont: { size: 16 },
                    bodyFont: { size: 14 },
                    padding: 12,
                    cornerRadius: 8
                }
            }
        };

        function wrapLabels(label, maxLength) {
            if (typeof label !== 'string' || label.length <= maxLength) {
                return label;
            }
            const words = label.split(/\s+/);
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxLength && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine.length > 0) {
                lines.push(currentLine);
            }
            return lines;
        }
        
        function createPopulationDeclineChart(lang) {
            const ctx = document.getElementById('populationDeclineChart').getContext('2d');
            chartInstances.populationDecline = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: translations[lang].populationDeclineChartLabels,
                    datasets: [{
                        data: [69, 31],
                        backgroundColor: [PALETTE.red, '#e5e7eb'],
                        borderColor: '#ffffff',
                        borderWidth: 4,
                        hoverOffset: 4
                    }]
                },
                options: { ...SHARED_CHART_OPTIONS, responsive: true, cutout: '70%', plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { display: false } } }
            });
        }

        function createDriversChart(lang) {
            const ctx = document.getElementById('driversChart').getContext('2d');
            const driversLabels = translations[lang].driversChartLabels.map(label => wrapLabels(label, 16));
            chartInstances.drivers = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: driversLabels,
                    datasets: [{
                        label: translations[lang].driversChartLabel,
                        data: [50, 24, 14, 7, 5],
                        backgroundColor: [PALETTE.red, PALETTE.yellow, PALETTE.blue, PALETTE.green, '#a7a7a7'],
                        borderRadius: 5
                    }]
                },
                options: { ...SHARED_CHART_OPTIONS, indexAxis: 'y', scales: { x: { beginAtZero: true, grid: { color: GRID_COLOR } }, y: { grid: { display: false } } }, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { display: false } } }
            });
        }

        function createPrecisionAgriChart(lang) {
            const ctx = document.getElementById('precisionAgriChart').getContext('2d');
            chartInstances.precisionAgri = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: translations[lang].precisionAgriChartLabels,
                    datasets: [{
                        label: translations[lang].precisionAgriChartLabel,
                        data: [9, 6, 4],
                        backgroundColor: [PALETTE.green, PALETTE.yellow, PALETTE.blue],
                        borderRadius: 5
                    }]
                },
                options: { ...SHARED_CHART_OPTIONS, scales: { y: { beginAtZero: true, title: { display: true, text: translations[lang].precisionAgriChartYAxis }, grid: { color: GRID_COLOR } }, x: { grid: { display: false } } }, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { display: false } } }
            });
        }

        function createCostaRicaChart(lang) {
            const ctx = document.getElementById('costaRicaChart').getContext('2d');
            chartInstances.costaRica = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: translations[lang].costaRicaChartLabels,
                    datasets: [{
                        label: translations[lang].costaRicaChartLabel,
                        data: [30, 26, 54],
                        borderColor: PALETTE.green,
                        backgroundColor: 'rgba(6, 214, 160, 0.2)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: PALETTE.green,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: { ...SHARED_CHART_OPTIONS, scales: { y: { beginAtZero: false, min: 20, max: 60, title: { display: true, text: translations[lang].costaRicaChartYAxis }, grid: { color: GRID_COLOR } }, x: { grid: { display: false } } }, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { display: false } } }
            });
        }

        function createGoal30x30Chart(lang) {
            const ctx = document.getElementById('goal30x30Chart').getContext('2d');
            chartInstances.goal30x30 = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: translations[lang].goal30x30ChartLabels,
                    datasets: [{ data: [30, 70], backgroundColor: [PALETTE.blue, '#e5e7eb'], borderColor: '#ffffff', borderWidth: 4 }]
                },
                options: { ...SHARED_CHART_OPTIONS, responsive: true, cutout: '70%', plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { display: false } }, elements: { center: { text: '30%', color: PALETTE.darkBlue, fontStyle: 'bold', sidePadding: 20 } } },
                plugins: [{
                    id: 'doughnut-center-text',
                    beforeDraw: function (chart) {
                        if (chart.options.elements.center) {
                            const ctx = chart.ctx;
                            const centerConfig = chart.options.elements.center;
                            const fontStyle = centerConfig.fontStyle || 'Arial';
                            const txt = centerConfig.text;
                            const color = centerConfig.color || '#000';
                            const sidePadding = centerConfig.sidePadding || 20;
                            const sidePaddingCalculated = (sidePadding / 100) * (chart.innerRadius * 2);
                            ctx.font = "40px " + fontStyle;
                            const stringWidth = ctx.measureText(txt).width;
                            const elementWidth = (chart.innerRadius * 2) - sidePaddingCalculated;
                            const widthRatio = elementWidth / stringWidth;
                            const newFontSize = Math.floor(30 * widthRatio);
                            const elementHeight = (chart.innerRadius * 2);
                            const fontSizeToUse = Math.min(newFontSize, elementHeight);
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'middle';
                            const centerX = ((chart.chartArea.left + chart.chartArea.right) / 2);
                            const centerY = ((chart.chartArea.top + chart.chartArea.bottom) / 2);
                            ctx.font = fontSizeToUse + "px " + fontStyle;
                            ctx.fillStyle = color;
                            ctx.fillText(txt, centerX, centerY);
                        }
                    }
                }]
            });
        }
        
        function renderAllCharts(lang) {
            Object.values(chartInstances).forEach(chart => chart.destroy());
            chartInstances = {};
            createPopulationDeclineChart(lang);
            createDriversChart(lang);
            createPrecisionAgriChart(lang);
            createCostaRicaChart(lang);
            createGoal30x30Chart(lang);
        }

        function updateTextContent(lang) {
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });
            document.documentElement.lang = lang === 'zh' ? 'zh-TW' : 'en';
            document.title = lang === 'zh' ? '自然正向經濟：平衡發展與保護' : 'Nature-Positive Economy: Balancing Development & Conservation';
        }

        document.getElementById('lang-toggle').addEventListener('click', () => {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            const toggleButton = document.getElementById('lang-toggle');
            toggleButton.textContent = currentLang === 'zh' ? 'English' : '中文';
            updateTextContent(currentLang);
            renderAllCharts(currentLang);
        });

        document.addEventListener('DOMContentLoaded', () => {
            updateTextContent(currentLang);
            renderAllCharts(currentLang);
        });

    </script>
</body>
</html>
