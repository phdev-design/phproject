<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="pageTitle">è‹±åœ‹ä¸­é†«å­¸ç¿’èˆ‡å°±æ¥­å‰æ™¯è³‡è¨Šåœ–è¡¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #F8F9FA;
            color: #343A40;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flowchart-step {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        .flowchart-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #BFD7EA;
        }
        .lang-btn.active {
            font-weight: bold;
            text-decoration: underline;
            color: #0B3954;
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto p-4 md:p-8 max-w-6xl">

        <header class="text-center mb-12 relative">
            <!-- Language Switcher -->
            <div class="absolute top-0 right-0 flex space-x-2 text-sm">
                <button id="lang-zh" class="lang-btn p-1 text-gray-500 hover:text-gray-800" data-lang="zh-Hant">ç¹é«”ä¸­æ–‡</button>
                <span class="text-gray-400">|</span>
                <button id="lang-en" class="lang-btn p-1 text-gray-500 hover:text-gray-800" data-lang="en">English</button>
            </div>
            
            <h1 class="text-4xl md:text-5xl font-bold text-[#0B3954] mb-2" data-lang-key="mainTitle">åœ¨è‹±åœ‹å­¸ç¿’ä¸­é†«</h1>
            <p class="text-xl text-[#3C6E71]" data-lang-key="subTitle">å¸‚å ´ã€å­¸è²»èˆ‡è·æ¥­å‰æ™¯æ·±åº¦è§£æ</p>
        </header>

        <!-- Section 1: The Growing Demand -->
        <section id="demand" class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#0B3954] mb-8" data-lang-key="demandTitle">æ—¥ç›Šå¢é•·çš„å¸‚å ´éœ€æ±‚</h2>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                <div class="md:col-span-2 space-y-4">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-[#087E8B] mb-2" data-lang-key="acceptanceTitle">å…¬çœ¾æ¥å—åº¦é«˜</h3>
                        <p class="text-6xl font-bold text-[#0B3954]">30<span class="text-4xl">%</span></p>
                        <p class="text-[#3C6E71]" data-lang-key="acceptanceDesc">çš„è‹±åœ‹æˆå¹´äººæ›¾ä½¿ç”¨éæŸç¨®å½¢å¼çš„è£œå……å’Œæ›¿ä»£é†«å­¸ï¼Œé¡¯ç¤ºå‡ºå»£æ³›çš„ç¾¤çœ¾åŸºç¤ã€‚</p>
                    </div>
                     <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-[#087E8B] mb-2" data-lang-key="usageTitle">å°ˆæ¥­æœå‹™ä½¿ç”¨æƒ…æ³</h3>
                        <div class="chart-container" style="height: 200px; max-height: 200px;">
                            <canvas id="tcmUsageChart"></canvas>
                        </div>
                         <p class="text-sm text-[#3C6E71] mt-4" data-lang-key="usageDesc">å„˜ç®¡å°è‰è—¥ç™‚æ³•æŒé–‹æ”¾æ…‹åº¦ï¼Œä½†åƒ…æœ‰5%çš„æˆå¹´äººæ›¾å°‹æ±‚å°ˆæ¥­ä¸­é†«å¸«çš„æœå‹™ï¼Œé€™è¡¨æ˜å°ˆæ¥­å¸‚å ´ä»æœ‰å·¨å¤§çš„å¢é•·æ½›åŠ›ã€‚</p>
                    </div>
                </div>
                <div class="md:col-span-3 bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center text-[#087E8B] mb-2" data-lang-key="marketTitle">è‹±åœ‹é‡ç¸å¸‚å ´é æ¸¬</h3>
                    <p class="text-center text-sm text-[#3C6E71] mb-4" data-lang-key="marketDesc">å¸‚å ´è¦æ¨¡é è¨ˆå°‡ä»¥7.22%çš„å¹´è¤‡åˆå¢é•·ç‡æŒçºŒæ“´å¤§ï¼Œå‰æ™¯çœ‹å¥½ã€‚</p>
                    <div class="chart-container">
                        <canvas id="marketGrowthChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: The Educational Path -->
        <section id="education" class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#0B3954] mb-8" data-lang-key="educationTitle">æ•™è‚²è·¯å¾‘èˆ‡æˆæœ¬</h2>
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mb-8">
                 <h3 class="text-xl font-bold text-center text-[#087E8B] mb-6" data-lang-key="pathTitle">æˆç‚ºå°ˆæ¥­ä¸­é†«å¸«çš„å…¸å‹è·¯å¾‘</h3>
                 <div class="grid grid-cols-2 md:grid-cols-5 gap-2">
                     <div class="flowchart-step bg-[#C4E5E3] text-[#0B3954] p-4 rounded-lg h-24"><span data-lang-key="pathStep1">é¸æ“‡èªè­‰èª²ç¨‹<br>(BAAB/EHTPA)</span></div>
                     <div class="flowchart-arrow max-md:hidden">â†’</div>
                     <div class="flowchart-step bg-[#BFD7EA] text-[#0B3954] p-4 rounded-lg h-24"><span data-lang-key="pathStep2">3å¹´å…¨æ—¥åˆ¶å­¸ç¿’<br>(å«è‡³å°‘400å°æ™‚è‡¨åºŠ)</span></div>
                     <div class="flowchart-arrow max-md:hidden">â†’</div>
                     <div class="flowchart-step bg-[#3C6E71] text-white p-4 rounded-lg h-24"><span data-lang-key="pathStep3">ç²å¾—å­¸ä½æˆ–åŸ·æ¥­è­‰æ›¸</span></div>
                     <div class="flowchart-arrow md:hidden col-span-2 text-3xl">â†“</div>
                     <div class="flowchart-arrow max-md:hidden">â†’</div>
                     <div class="flowchart-step bg-[#087E8B] text-white p-4 rounded-lg h-24"><span data-lang-key="pathStep4">åŠ å…¥å°ˆæ¥­å”æœƒ<br>(BAcC/RCHM)</span></div>
                      <div class="flowchart-arrow max-md:hidden">â†’</div>
                     <div class="flowchart-step bg-[#0B3954] text-white p-4 rounded-lg h-24"><span data-lang-key="pathStep5">ç²å¾—åœ°æ–¹æ”¿åºœåŸ·æ¥­è¨±å¯</span></div>
                 </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center text-[#087E8B] mb-4" data-lang-key="tuitionTitle">ä¸»è¦é™¢æ ¡å¹´å­¸è²»æ¯”è¼ƒ (è‹±åœ‹å­¸ç”Ÿ)</h3>
                    <p class="text-center text-sm text-[#3C6E71] mb-4" data-lang-key="tuitionDesc">é¸æ“‡ç¶“BAABèªè­‰çš„èª²ç¨‹æ˜¯å°ˆæ¥­åœ°ä½çš„ä¿è­‰ï¼Œä½†æŠ•è³‡ä¹Ÿç›¸å°è¼ƒé«˜ã€‚</p>
                    <div class="chart-container">
                        <canvas id="tuitionFeeChart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col justify-center items-center text-center">
                    <h3 class="text-xl font-bold text-[#087E8B] mb-4" data-lang-key="investmentTitle">å®Œæˆå­¸ä½ç´šèª²ç¨‹ç¸½æŠ•è³‡</h3>
                    <p class="text-5xl font-bold text-[#0B3954]">Â£22,000 - Â£28,000</p>
                    <p class="text-lg text-[#3C6E71] mt-2" data-lang-key="investmentDesc">ï¼ˆä¸‰å¹´å­¸è²»ç¸½é¡ï¼‰</p>
                    <p class="text-sm text-[#3C6E71] mt-4" data-lang-key="investmentExtra">+ ç´„ Â£700 é¡å¤–è²»ç”¨<br>(æ•™æã€å·¥å…·ã€æ€¥æ•‘èª²ç¨‹ç­‰)</p>
                </div>
            </div>
        </section>

        <!-- Section 3: The Professional Landscape -->
        <section id="landscape" class="mb-16">
            <h2 class="text-3xl font-bold text-center text-[#0B3954] mb-8" data-lang-key="landscapeTitle">å°ˆæ¥­äººå£«ç‰ˆåœ–èˆ‡ç›£ç®¡</h2>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center text-[#087E8B] mb-4" data-lang-key="regulationTitle">è¡Œæ¥­ç›£ç®¡æ¡†æ¶</h3>
                    <p class="text-center text-sm text-[#3C6E71] mb-4" data-lang-key="regulationDesc">è‹±åœ‹ä¸­é†«è¡Œæ¥­ç›®å‰ç‚ºé›™è»Œåˆ¶ç›£ç®¡ï¼Œç†è§£å…¶çµæ§‹å°å¾æ¥­è‡³é—œé‡è¦ã€‚</p>
                    <div class="space-y-4">
                        <div class="border-2 border-[#0B3954] rounded-lg p-4">
                            <h4 class="font-bold text-[#0B3954]" data-lang-key="regVoluntaryTitle">è‡ªé¡˜æ€§è‡ªæˆ‘ç›£ç®¡ (èƒ½åŠ›èˆ‡é“å¾·)</h4>
                            <p class="text-sm" data-lang-key="regVoluntaryDesc">ç”±å°ˆæ¥­å”æœƒä¸»å°ï¼ŒPSAèªè­‰å…¶è¨»å†ŠåéŒ„ä»¥ä¿éšœå…¬çœ¾ã€‚</p>
                            <div class="flex space-x-4 mt-2">
                                <span class="bg-[#0B3954] text-white text-xs font-bold px-2 py-1 rounded">BAcC</span>
                                <span class="bg-[#087E8B] text-white text-xs font-bold px-2 py-1 rounded">RCHM</span>
                                <span class="bg-[#3C6E71] text-white text-xs font-bold px-2 py-1 rounded">ATCM</span>
                            </div>
                        </div>
                        <div class="border-2 border-[#BFD7EA] rounded-lg p-4">
                             <h4 class="font-bold text-[#3C6E71]" data-lang-key="regMandatoryTitle">å¼·åˆ¶æ€§åœ°æ–¹è¨±å¯ (è¡›ç”Ÿèˆ‡å®‰å…¨)</h4>
                            <p class="text-sm" data-lang-key="regMandatoryDesc">æ‰€æœ‰å¾æ¥­è€…åŠå…¶åŸ·æ¥­å ´æ‰€å¿…é ˆå‘åœ°æ–¹æ”¿åºœç”³è«‹è¨±å¯ï¼Œç¢ºä¿ç’°å¢ƒå®‰å…¨ã€‚</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center text-[#087E8B] mb-6" data-lang-key="membersTitle">ä¸»è¦å°ˆæ¥­å”æœƒæœƒå“¡æ•¸ (ä¼°è¨ˆ)</h3>
                    <p class="text-center text-sm text-[#3C6E71] mb-6" data-lang-key="membersDesc">é›–ç„¶ç„¡æº–ç¢ºå­¸ç”Ÿæ•¸æ“šï¼Œä½†ä¸»è¦å”æœƒçš„æœƒå“¡è¦æ¨¡åæ˜ äº†è¡Œæ¥­å…§åˆæ ¼å¾æ¥­è€…çš„æ•¸é‡ã€‚</p>
                    <div class="space-y-6">
                        <div class="flex items-center">
                            <span class="text-4xl mr-4">ğŸ‘¥</span>
                            <div>
                                <p class="text-2xl font-bold text-[#0B3954]">> 700</p>
                                <p class="text-[#3C6E71]" data-lang-key="membersAtcm">è‹±åœ‹ä¸­é†«è—¥å­¸æœƒ (ATCM) è¨»å†Šæœƒå“¡</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="text-4xl mr-4">ğŸŒ¿</span>
                            <div>
                                <p class="text-2xl font-bold text-[#0B3954]">~ 300</p>
                                <p class="text-[#3C6E71]" data-lang-key="membersRchm">è‹±åœ‹ä¸­è—¥å¸«å­¸æœƒ (RCHM) æœƒå“¡</p>
                            </div>
                        </div>
                         <div class="flex items-center">
                            <span class="text-4xl mr-4">ğŸ“</span>
                            <div>
                                <p class="text-xl font-bold text-[#0B3954]" data-lang-key="membersBaccCount">äººæ•¸çœ¾å¤š</p>
                                <p class="text-[#3C6E71]" data-lang-key="membersBaccDesc">è‹±åœ‹é‡ç¸ç†äº‹æœƒ (BAcC) æ˜¯é‡ç¸é ˜åŸŸçš„ä¸»è¦ç›£ç®¡æ©Ÿæ§‹</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Your Future in TCM -->
        <section id="prospects" class="mb-12">
            <h2 class="text-3xl font-bold text-center text-[#0B3954] mb-8" data-lang-key="prospectsTitle">æ‚¨çš„ä¸­é†«è·æ¥­å‰æ™¯</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center text-[#087E8B] mb-4" data-lang-key="salaryTitle">é æœŸå¹´è–ªç¯„åœ</h3>
                    <p class="text-center text-sm text-[#3C6E71] mb-4" data-lang-key="salaryDesc">æ”¶å…¥æ½›åŠ›å¯è§€ï¼Œä½†å¾ˆå¤§ç¨‹åº¦ä¸Šå–æ±ºæ–¼ç¶“é©—ã€åœ°é»å’ŒåŸ·æ¥­æ¨¡å¼ã€‚</p>
                    <div class="chart-container">
                        <canvas id="salaryChart"></canvas>
                    </div>
                </div>
                 <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center text-[#087E8B] mb-4" data-lang-key="swotTitle">æ©Ÿé‡èˆ‡æŒ‘æˆ°</h3>
                    <p class="text-center text-sm text-[#3C6E71] mb-4" data-lang-key="swotDesc">ä¸­é†«è¡Œæ¥­åœ¨è‹±åœ‹å……æ»¿æ½›åŠ›ï¼Œä½†ä¹Ÿéœ€æ‡‰å°ç¾å­˜çš„æŒ‘æˆ°ã€‚</p>
                    <div class="grid grid-cols-2 gap-6 mt-6">
                        <div>
                            <h4 class="text-lg font-bold text-green-600 mb-2" data-lang-key="oppTitle">ğŸ“ˆ å¢é•·æ©Ÿé‡</h4>
                            <ul class="list-disc list-inside space-y-2 text-sm">
                                <li data-lang-key="opp1">å¸‚å ´éœ€æ±‚æŒçºŒå¢é•·</li>
                                <li data-lang-key="opp2">æ…¢æ€§ç—…æ²»ç™‚éœ€æ±‚é¾å¤§</li>
                                <li data-lang-key="opp3">èˆ‡è¥¿é†«æ•´åˆæ½›åŠ›å·¨å¤§</li>
                                <li data-lang-key="opp4">å¯å°ˆæ”»é«˜éœ€æ±‚é ˜åŸŸ (å¦‚ä¸å­•ç—‡ã€ç—›ç—‡ç®¡ç†)</li>
                            </ul>
                        </div>
                        <div>
                             <h4 class="text-lg font-bold text-red-600 mb-2" data-lang-key="chaTitle">âš ï¸ é¢è‡¨æŒ‘æˆ°</h4>
                             <ul class="list-disc list-inside space-y-2 text-sm">
                                <li data-lang-key="cha1">ç¼ºä¹æ³•å®šå¾æ¥­è€…ç›£ç®¡</li>
                                <li data-lang-key="cha2">å…¬çœ¾å°ä¸­é†«å­˜æœ‰èª¤è§£</li>
                                <li data-lang-key="cha3">NHSç³»çµ±æ•´åˆæœ‰é™</li>
                                <li data-lang-key="cha4">ç§äººåŸ·æ¥­éœ€å…·å‚™å•†æ¥­é ­è…¦</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center text-sm text-gray-500 mt-12">
            <p data-lang-key="footerSource">æœ¬è³‡è¨Šåœ–è¡¨æ•¸æ“šä¾†æºæ–¼ã€Šè‹±åœ‹ä¸­é†«å­¸ç¿’èˆ‡åŸ·æ¥­å‰æ™¯æ·±åº¦è§£æã€‹å ±å‘Šã€‚</p>
            <p data-lang-key="footerCopyright">æ‰€æœ‰åœ–è¡¨åŠæ•¸æ“šåƒ…ä¾›åƒè€ƒã€‚Â© 2025</p>
        </footer>

    </main>

    <script>
        // 1. TEXT AND TRANSLATION DATA
        const translations = {
            "en": {
                pageTitle: "TCM Study & Career Prospects in the UK: An Infographic",
                mainTitle: "Studying Traditional Chinese Medicine in the UK",
                subTitle: "A Deep Dive into the Market, Tuition, and Career Prospects",
                demandTitle: "The Growing Market Demand",
                acceptanceTitle: "High Public Acceptance",
                acceptanceDesc: "of UK adults have used some form of complementary and alternative medicine, showing a broad base of interest.",
                usageTitle: "Professional Service Utilisation",
                usageDesc: "Despite openness to herbal remedies, only 5% of adults have consulted a professional TCM practitioner, indicating significant potential for market growth.",
                marketTitle: "UK Acupuncture Market Forecast",
                marketDesc: "The market size is projected to expand at a compound annual growth rate (CAGR) of 7.22%, indicating a promising outlook.",
                educationTitle: "Educational Pathways and Costs",
                pathTitle: "Typical Path to Becoming a Professional Practitioner",
                pathStep1: "Choose Accredited Course\n(BAAB/EHTPA)",
                pathStep2: "3 Years Full-Time Study\n(incl. 400+ clinical hours)",
                pathStep3: "Obtain Degree or Diploma",
                pathStep4: "Join Professional Body\n(BAcC/RCHM)",
                pathStep5: "Get Local Authority Licence",
                tuitionTitle: "Annual Tuition Fee Comparison (UK Students)",
                tuitionDesc: "Choosing a BAAB-accredited course ensures professional standing but comes with a higher investment.",
                investmentTitle: "Total Investment for a Degree-Level Course",
                investmentDesc: "(Total tuition for three years)",
                investmentExtra: "+ approx. Â£700 in extra costs\n(books, equipment, first aid courses, etc.)",
                landscapeTitle: "Professional Landscape & Regulation",
                regulationTitle: "Industry Regulatory Framework",
                regulationDesc: "The UK's TCM sector currently operates under a dual-track regulatory system. Understanding this structure is crucial for practitioners.",
                regVoluntaryTitle: "Voluntary Self-Regulation (Competence & Ethics)",
                regVoluntaryDesc: "Led by professional associations, whose registers are accredited by the Professional Standards Authority (PSA) to protect the public.",
                regMandatoryTitle: "Mandatory Local Licensing (Health & Safety)",
                regMandatoryDesc: "All practitioners and their premises must be licensed by the local council to ensure a safe environment.",
                membersTitle: "Estimated Membership of Major Professional Bodies",
                membersDesc: "While exact student data is unavailable, the membership size of major associations reflects the number of qualified practitioners in the industry.",
                membersAtcm: "registered members in the Association of Traditional Chinese Medicine and Acupuncture UK (ATCM)",
                membersRchm: "members in the Register of Chinese Herbal Medicine (RCHM)",
                membersBaccCount: "Large Membership",
                membersBaccDesc: "The British Acupuncture Council (BAcC) is the main regulatory body for acupuncture.",
                prospectsTitle: "Your Future in TCM",
                salaryTitle: "Expected Annual Salary Range",
                salaryDesc: "Income potential is significant but heavily depends on experience, location, and practice model.",
                swotTitle: "Opportunities & Challenges",
                swotDesc: "The TCM industry in the UK is full of potential but also requires navigating existing challenges.",
                oppTitle: "ğŸ“ˆ Growth Opportunities",
                opp1: "Continuously growing market demand",
                opp2: "High demand for chronic condition treatments",
                opp3: "Great potential for integration with Western medicine",
                opp4: "Can specialise in high-demand areas (e.g., infertility, pain management)",
                chaTitle: "âš ï¸ Challenges Ahead",
                cha1: "Lack of statutory regulation for practitioners",
                cha2: "Public misconceptions about TCM",
                cha3: "Limited integration into the NHS system",
                cha4: "Requires business acumen for private practice",
                footerSource: "Data for this infographic is sourced from the 'In-depth Analysis of TCM Study and Practice Prospects in the UK' report.",
                footerCopyright: "All charts and data are for reference only. Â© 2025",
                chartMarketLabel: "Market Size (in Billions USD)",
                chartTuitionLabel: "Annual Tuition (GBP)",
                chartSalaryLabel: "Annual Salary (GBP)",
                chartUsageLabels: ["Consulted Professional TCM Practitioner", "Used Other CAM or Herbal Remedies"],
                chartTuitionLabels: ["Northern College of Acupuncture (BAAB Accredited)", "City College of Acupuncture (BAAB Accredited)", "Shulan College of Chinese Medicine"],
                chartSalaryLabels: ["Employed Starting Salary", "Employed Average", "Self-Employed (Established)", "NHS (Band 6)"]
            },
            "zh-Hant": {
                pageTitle: "è‹±åœ‹ä¸­é†«å­¸ç¿’èˆ‡å°±æ¥­å‰æ™¯è³‡è¨Šåœ–è¡¨",
                mainTitle: "åœ¨è‹±åœ‹å­¸ç¿’ä¸­é†«",
                subTitle: "å¸‚å ´ã€å­¸è²»èˆ‡è·æ¥­å‰æ™¯æ·±åº¦è§£æ",
                demandTitle: "æ—¥ç›Šå¢é•·çš„å¸‚å ´éœ€æ±‚",
                acceptanceTitle: "å…¬çœ¾æ¥å—åº¦é«˜",
                acceptanceDesc: "çš„è‹±åœ‹æˆå¹´äººæ›¾ä½¿ç”¨éæŸç¨®å½¢å¼çš„è£œå……å’Œæ›¿ä»£é†«å­¸ï¼Œé¡¯ç¤ºå‡ºå»£æ³›çš„ç¾¤çœ¾åŸºç¤ã€‚",
                usageTitle: "å°ˆæ¥­æœå‹™ä½¿ç”¨æƒ…æ³",
                usageDesc: "å„˜ç®¡å°è‰è—¥ç™‚æ³•æŒé–‹æ”¾æ…‹åº¦ï¼Œä½†åƒ…æœ‰5%çš„æˆå¹´äººæ›¾å°‹æ±‚å°ˆæ¥­ä¸­é†«å¸«çš„æœå‹™ï¼Œé€™è¡¨æ˜å°ˆæ¥­å¸‚å ´ä»æœ‰å·¨å¤§çš„å¢é•·æ½›åŠ›ã€‚",
                marketTitle: "è‹±åœ‹é‡ç¸å¸‚å ´é æ¸¬",
                marketDesc: "å¸‚å ´è¦æ¨¡é è¨ˆå°‡ä»¥7.22%çš„å¹´è¤‡åˆå¢é•·ç‡æŒçºŒæ“´å¤§ï¼Œå‰æ™¯çœ‹å¥½ã€‚",
                educationTitle: "æ•™è‚²è·¯å¾‘èˆ‡æˆæœ¬",
                pathTitle: "æˆç‚ºå°ˆæ¥­ä¸­é†«å¸«çš„å…¸å‹è·¯å¾‘",
                pathStep1: "é¸æ“‡èªè­‰èª²ç¨‹<br>(BAAB/EHTPA)",
                pathStep2: "3å¹´å…¨æ—¥åˆ¶å­¸ç¿’<br>(å«è‡³å°‘400å°æ™‚è‡¨åºŠ)",
                pathStep3: "ç²å¾—å­¸ä½æˆ–åŸ·æ¥­è­‰æ›¸",
                pathStep4: "åŠ å…¥å°ˆæ¥­å”æœƒ<br>(BAcC/RCHM)",
                pathStep5: "ç²å¾—åœ°æ–¹æ”¿åºœåŸ·æ¥­è¨±å¯",
                tuitionTitle: "ä¸»è¦é™¢æ ¡å¹´å­¸è²»æ¯”è¼ƒ (è‹±åœ‹å­¸ç”Ÿ)",
                tuitionDesc: "é¸æ“‡ç¶“BAABèªè­‰çš„èª²ç¨‹æ˜¯å°ˆæ¥­åœ°ä½çš„ä¿è­‰ï¼Œä½†æŠ•è³‡ä¹Ÿç›¸å°è¼ƒé«˜ã€‚",
                investmentTitle: "å®Œæˆå­¸ä½ç´šèª²ç¨‹ç¸½æŠ•è³‡",
                investmentDesc: "ï¼ˆä¸‰å¹´å­¸è²»ç¸½é¡ï¼‰",
                investmentExtra: "+ ç´„ Â£700 é¡å¤–è²»ç”¨<br>(æ•™æã€å·¥å…·ã€æ€¥æ•‘èª²ç¨‹ç­‰)",
                landscapeTitle: "å°ˆæ¥­äººå£«ç‰ˆåœ–èˆ‡ç›£ç®¡",
                regulationTitle: "è¡Œæ¥­ç›£ç®¡æ¡†æ¶",
                regulationDesc: "è‹±åœ‹ä¸­é†«è¡Œæ¥­ç›®å‰ç‚ºé›™è»Œåˆ¶ç›£ç®¡ï¼Œç†è§£å…¶çµæ§‹å°å¾æ¥­è‡³é—œé‡è¦ã€‚",
                regVoluntaryTitle: "è‡ªé¡˜æ€§è‡ªæˆ‘ç›£ç®¡ (èƒ½åŠ›èˆ‡é“å¾·)",
                regVoluntaryDesc: "ç”±å°ˆæ¥­å”æœƒä¸»å°ï¼ŒPSAèªè­‰å…¶è¨»å†ŠåéŒ„ä»¥ä¿éšœå…¬çœ¾ã€‚",
                regMandatoryTitle: "å¼·åˆ¶æ€§åœ°æ–¹è¨±å¯ (è¡›ç”Ÿèˆ‡å®‰å…¨)",
                regMandatoryDesc: "æ‰€æœ‰å¾æ¥­è€…åŠå…¶åŸ·æ¥­å ´æ‰€å¿…é ˆå‘åœ°æ–¹æ”¿åºœç”³è«‹è¨±å¯ï¼Œç¢ºä¿ç’°å¢ƒå®‰å…¨ã€‚",
                membersTitle: "ä¸»è¦å°ˆæ¥­å”æœƒæœƒå“¡æ•¸ (ä¼°è¨ˆ)",
                membersDesc: "é›–ç„¶ç„¡æº–ç¢ºå­¸ç”Ÿæ•¸æ“šï¼Œä½†ä¸»è¦å”æœƒçš„æœƒå“¡è¦æ¨¡åæ˜ äº†è¡Œæ¥­å…§åˆæ ¼å¾æ¥­è€…çš„æ•¸é‡ã€‚",
                membersAtcm: "è‹±åœ‹ä¸­é†«è—¥å­¸æœƒ (ATCM) è¨»å†Šæœƒå“¡",
                membersRchm: "è‹±åœ‹ä¸­è—¥å¸«å­¸æœƒ (RCHM) æœƒå“¡",
                membersBaccCount: "äººæ•¸çœ¾å¤š",
                membersBaccDesc: "è‹±åœ‹é‡ç¸ç†äº‹æœƒ (BAcC) æ˜¯é‡ç¸é ˜åŸŸçš„ä¸»è¦ç›£ç®¡æ©Ÿæ§‹",
                prospectsTitle: "æ‚¨çš„ä¸­é†«è·æ¥­å‰æ™¯",
                salaryTitle: "é æœŸå¹´è–ªç¯„åœ",
                salaryDesc: "æ”¶å…¥æ½›åŠ›å¯è§€ï¼Œä½†å¾ˆå¤§ç¨‹åº¦ä¸Šå–æ±ºæ–¼ç¶“é©—ã€åœ°é»å’ŒåŸ·æ¥­æ¨¡å¼ã€‚",
                swotTitle: "æ©Ÿé‡èˆ‡æŒ‘æˆ°",
                swotDesc: "ä¸­é†«è¡Œæ¥­åœ¨è‹±åœ‹å……æ»¿æ½›åŠ›ï¼Œä½†ä¹Ÿéœ€æ‡‰å°ç¾å­˜çš„æŒ‘æˆ°ã€‚",
                oppTitle: "ğŸ“ˆ å¢é•·æ©Ÿé‡",
                opp1: "å¸‚å ´éœ€æ±‚æŒçºŒå¢é•·",
                opp2: "æ…¢æ€§ç—…æ²»ç™‚éœ€æ±‚é¾å¤§",
                opp3: "èˆ‡è¥¿é†«æ•´åˆæ½›åŠ›å·¨å¤§",
                opp4: "å¯å°ˆæ”»é«˜éœ€æ±‚é ˜åŸŸ (å¦‚ä¸å­•ç—‡ã€ç—›ç—‡ç®¡ç†)",
                chaTitle: "âš ï¸ é¢è‡¨æŒ‘æˆ°",
                cha1: "ç¼ºä¹æ³•å®šå¾æ¥­è€…ç›£ç®¡",
                cha2: "å…¬çœ¾å°ä¸­é†«å­˜æœ‰èª¤è§£",
                cha3: "NHSç³»çµ±æ•´åˆæœ‰é™",
                cha4: "ç§äººåŸ·æ¥­éœ€å…·å‚™å•†æ¥­é ­è…¦",
                footerSource: "æœ¬è³‡è¨Šåœ–è¡¨æ•¸æ“šä¾†æºæ–¼ã€Šè‹±åœ‹ä¸­é†«å­¸ç¿’èˆ‡åŸ·æ¥­å‰æ™¯æ·±åº¦è§£æã€‹å ±å‘Šã€‚",
                footerCopyright: "æ‰€æœ‰åœ–è¡¨åŠæ•¸æ“šåƒ…ä¾›åƒè€ƒã€‚Â© 2025",
                chartMarketLabel: "å¸‚å ´è¦æ¨¡ (å„„ç¾å…ƒ)",
                chartTuitionLabel: "å¹´å­¸è²» (è‹±éŠ)",
                chartSalaryLabel: "å¹´è–ª (è‹±éŠ)",
                chartUsageLabels: ["å°‹æ±‚å°ˆæ¥­ä¸­é†«å¸«æœå‹™", "ä½¿ç”¨å…¶ä»–æ›¿ä»£é†«å­¸æˆ–è‰è—¥"],
                chartTuitionLabels: ["åŒ—æ–¹é‡ç¸å­¸é™¢ (BAABèªè­‰)", "å€«æ•¦åŸå¸‚é‡ç¸å­¸é™¢ (BAABèªè­‰)", "è¡“è˜­ä¸­é†«å­¸é™¢"],
                chartSalaryLabels: ["å—åƒ±èµ·è–ª", "å—åƒ±å¹³å‡", "è‡ªåƒ± (å·²å»ºç«‹å®¢æº)", "NHS (Band 6)"]
            }
        };

        document.addEventListener('DOMContentLoaded', () => {

            // 2. CHART SETUP AND GLOBAL VARIABLES
            let marketGrowthChart, tcmUsageChart, tuitionFeeChart, salaryChart;
            
            const brilliantBlues = {
                darkBlue: '#0B3954',
                teal: '#087E8B',
                darkTeal: '#3C6E71',
                lightBlue: '#BFD7EA',
                lightGreen: '#C4E5E3',
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };
            
            const commonChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { font: { family: "'Inter', 'Noto Sans TC', sans-serif" } }
                    },
                    tooltip: {
                        callbacks: { title: tooltipTitleCallback },
                        titleFont: { family: "'Inter', 'Noto Sans TC', sans-serif" },
                        bodyFont: { family: "'Inter', 'Noto Sans TC', sans-serif" }
                    }
                },
                scales: {
                    x: { ticks: { font: { family: "'Inter', 'Noto Sans TC', sans-serif" } } },
                    y: { ticks: { font: { family: "'Inter', 'Noto Sans TC', sans-serif" } } }
                }
            };
            
            // Function to wrap labels for better display on charts
            function wrapLabels(label, maxWidth) {
                if (typeof label !== 'string' || label.length <= maxWidth) return label;
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxWidth) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines;
            }

            // Chart creation functions
            function createMarketGrowthChart() {
                const ctx = document.getElementById('marketGrowthChart')?.getContext('2d');
                if (!ctx) return;
                marketGrowthChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['2024', '2027', '2030', '2033', '2035'],
                        datasets: [{
                            label: '', // Will be set by language switcher
                            data: [2.7, 3.4, 4.3, 5.3, 6.23],
                            borderColor: brilliantBlues.teal,
                            backgroundColor: brilliantBlues.lightGreen,
                            fill: true,
                            tension: 0.4,
                        }]
                    },
                    options: { ...commonChartOptions, scales: {y: {beginAtZero: true, ticks: {callback: value => '$' + value + 'B'}}} }
                });
            }

            function createTcmUsageChart() {
                const ctx = document.getElementById('tcmUsageChart')?.getContext('2d');
                if (!ctx) return;
                tcmUsageChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: [], // Will be set by language switcher
                        datasets: [{
                            data: [5, 25],
                            backgroundColor: [brilliantBlues.darkBlue, brilliantBlues.lightBlue],
                            hoverOffset: 4
                        }]
                    },
                    options: { ...commonChartOptions, plugins: {...commonChartOptions.plugins, legend: {display: false}, tooltip: {callbacks: { label: (c) => `${c.label}: ${c.raw}%` }}} }
                });
            }

            function createTuitionFeeChart() {
                const ctx = document.getElementById('tuitionFeeChart')?.getContext('2d');
                if (!ctx) return;
                tuitionFeeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [], // Will be set by language switcher
                        datasets: [{
                            label: '', // Will be set by language switcher
                            data: [9250, 7500, 5000],
                            backgroundColor: [brilliantBlues.darkBlue, brilliantBlues.teal, brilliantBlues.lightBlue],
                        }]
                    },
                    options: { ...commonChartOptions, scales: {y: {beginAtZero: true, ticks: {callback: value => 'Â£' + value}}} }
                });
            }

            function createSalaryChart() {
                const ctx = document.getElementById('salaryChart')?.getContext('2d');
                if (!ctx) return;
                salaryChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [], // Will be set by language switcher
                        datasets: [{
                            label: '', // Will be set by language switcher
                            data: [21000, 34000, 40000, 43000],
                            backgroundColor: [brilliantBlues.lightBlue, brilliantBlues.teal, brilliantBlues.darkTeal, brilliantBlues.darkBlue],
                        }]
                    },
                     options: { ...commonChartOptions, indexAxis: 'y', scales: {x: {beginAtZero: true, ticks: {callback: value => 'Â£' + (value/1000) + 'k'}}} }
                });
            }

            // 3. LANGUAGE SWITCHING LOGIC
            const switchLanguage = (lang) => {
                // Set HTML lang attribute
                document.documentElement.lang = lang;

                // Update all text elements with data-lang-key
                document.querySelectorAll('[data-lang-key]').forEach(element => {
                    const key = element.getAttribute('data-lang-key');
                    if (translations[lang][key]) {
                        element.innerHTML = translations[lang][key];
                    }
                });

                // Update charts
                updateChartsLanguage(lang);
                
                // Update active button style
                document.querySelectorAll('.lang-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
                });
            };
            
            const updateChartsLanguage = (lang) => {
                const langData = translations[lang];

                // Market Growth Chart
                if (marketGrowthChart) {
                    marketGrowthChart.data.datasets[0].label = langData.chartMarketLabel;
                    marketGrowthChart.update();
                }

                // TCM Usage Chart
                if (tcmUsageChart) {
                    tcmUsageChart.data.labels = langData.chartUsageLabels;
                    tcmUsageChart.update();
                }
                
                // Tuition Fee Chart
                if (tuitionFeeChart) {
                    tuitionFeeChart.data.labels = langData.chartTuitionLabels.map(l => wrapLabels(l, 16));
                    tuitionFeeChart.data.datasets[0].label = langData.chartTuitionLabel;
                    tuitionFeeChart.update();
                }

                // Salary Chart
                if (salaryChart) {
                    salaryChart.data.labels = langData.chartSalaryLabels.map(l => wrapLabels(l, 16));
                    salaryChart.data.datasets[0].label = langData.chartSalaryLabel;
                    salaryChart.update();
                }
            };
            
            // 4. INITIALIZATION
            createMarketGrowthChart();
            createTcmUsageChart();
            createTuitionFeeChart();
            createSalaryChart();

            // Add event listeners to buttons
            document.getElementById('lang-zh').addEventListener('click', () => switchLanguage('zh-Hant'));
            document.getElementById('lang-en').addEventListener('click', () => switchLanguage('en'));

            // Set initial language
            switchLanguage('zh-Hant'); 
        });
    </script>
</body>
</html>
