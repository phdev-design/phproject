<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡è¨Šåœ–è¡¨ï¼šæ·±å…¥è§£æé›¶å·¥ç¶“æ¿Ÿ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- Color Palette: Brilliant Blues -->
    <!-- Narrative & Visualization Plan Summary:
    1. Introduction: Define the Gig Economy with a key stat (Donut Chart). Goal: Inform.
    2. Driving Forces: Explain the rise with a Tech, Economy, Social flowchart (HTML/CSS Diagram). Goal: Organize.
    3. Worker Experience: Show pros and cons using two side-by-side Bar Charts. Goal: Compare.
    4. Regulatory Landscape: Compare global approaches (US, UK, EU) using a responsive Table. Goal: Organize.
    5. Future Outlook: Project market growth (Line Chart) and outline policy recommendations. Goal: Change/Organize.
    -->
    <style>
        body {
            font-family: 'Noto Sans TC', 'Inter', sans-serif;
            background-color: #f0f4f8;
            transition: all 0.3s ease-in-out;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 300px;
            width: 100%;
            max-width: 500px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .text-gradient {
            background: linear-gradient(to right, #0a9396, #ee9b00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .stat-card-icon {
            font-size: 2.5rem;
            line-height: 1;
            color: #005f73;
        }
        .flow-arrow::after {
            content: 'â†’';
            font-size: 2rem;
            color: #94d2bd;
            margin: 0 1rem;
        }
        .pro-con-card {
            border-left: 5px solid;
        }
        .pro-card {
            border-color: #0a9396;
        }
        .con-card {
            border-color: #ca6702;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="fixed top-4 right-4 z-50">
        <button id="lang-toggle" class="bg-white/70 backdrop-blur-sm shadow-md px-4 py-2 rounded-full font-semibold text-[#005f73] hover:bg-white transition-colors">
            English
        </button>
    </div>

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">
                <span class="text-gradient" data-lang-key="header_title">é›¶å·¥ç¶“æ¿Ÿ</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto" data-lang-key="header_subtitle">ä¸€ä»½é—œæ–¼æ–°èˆˆå‹å‹•æ¨¡å¼çš„æ·±åº¦è¦–è¦ºåŒ–è§£æï¼šå¾å®šç¾©ã€å´›èµ·ã€å½±éŸ¿åˆ°å…¨çƒæ²»ç†çš„å®Œæ•´é€è¦–</p>
        </header>

        <main class="space-y-16">

            <section id="definition">
                <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-8 text-[#005f73]" data-lang-key="def_title">ä»€éº¼æ˜¯é›¶å·¥ç¶“æ¿Ÿï¼Ÿ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div>
                            <p class="text-lg mb-4" data-lang-key="def_p1">é›¶å·¥ç¶“æ¿Ÿ (Gig Economy) æ˜¯ä¸€ç¨®ä»¥<strong class="text-[#0a9396]" data-lang-key="def_p1_strong1">çŸ­æœŸåˆç´„</strong>æˆ–<strong class="text-[#0a9396]" data-lang-key="def_p1_strong2">è‡ªç”±è·æ¥­è€…</strong>ç‚ºä¸»è¦å‹å‹•åŠ›ï¼Œä¸¦é€é<strong class="text-[#0a9396]" data-lang-key="def_p1_strong3">æ•¸ä½å¹³å°</strong>é€²è¡Œæ’®åˆçš„æ–°èˆˆç¶“æ¿Ÿæ¨¡å¼ã€‚å®ƒé¡›è¦†äº†å‚³çµ±çš„é•·æœŸå…¨è·åƒ±å‚­é—œä¿‚ï¼Œå¼·èª¿å·¥ä½œçš„<strong class="text-[#ee9b00]" data-lang-key="def_p1_strong4">è‡¨æ™‚æ€§</strong>èˆ‡<strong class="text-[#ee9b00]" data-lang-key="def_p1_strong5">æŒ‰éœ€æ€§</strong>ã€‚</p>
                            <p class="text-gray-600" data-lang-key="def_p2">å‹å‹•è€…ä¸å†åƒ…ç‚ºå–®ä¸€é›‡ä¸»æœå‹™ï¼Œè€Œæ˜¯ä½œç‚ºç¨ç«‹æ‰¿åŒ…å•†ï¼Œå½ˆæ€§åœ°åŸ·è¡Œå„é¡çŸ­æœŸä»»å‹™æˆ–å°ˆæ¡ˆï¼Œæ¶µè“‹å¾å¤–é€ã€å…±äº«ä¹˜è»Šåˆ°å°ˆæ¥­è¨­è¨ˆã€ç¨‹å¼é–‹ç™¼ç­‰å»£æ³›é ˜åŸŸã€‚</p>
                        </div>
                        <div class="flex flex-col items-center">
                             <div class="chart-container">
                                <canvas id="workforceChart"></canvas>
                            </div>
                            <p class="mt-4 text-center text-gray-700 font-semibold" data-lang-key="def_chart_title">è‹±åœ‹é›¶å·¥ç¶“æ¿Ÿå‹å‹•åŠ›ä½”æ¯” (2019)</p>
                            <p class="text-sm text-center text-gray-500" data-lang-key="def_chart_subtitle">æ•¸æ“šé¡¯ç¤ºï¼Œé›¶å·¥ç¶“æ¿Ÿå·²æˆç‚ºå‹å‹•åŠ›å¸‚å ´ä¸­ä¸å¯å¿½è¦–çš„ä¸€éƒ¨åˆ†ï¼Œå…¶è¦æ¨¡èˆ‡å½±éŸ¿åŠ›æ­£æŒçºŒæ“´å¤§ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="drivers">
                 <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-8 text-[#005f73]" data-lang-key="drivers_title">é›¶å·¥ç¶“æ¿Ÿçš„å´›èµ·ï¼šä¸‰å¤§é©…å‹•åŠ›</h2>
                    <p class="text-center text-gray-600 max-w-2xl mx-auto mb-10" data-lang-key="drivers_subtitle">é›¶å·¥ç¶“æ¿Ÿçš„èˆˆèµ·ä¸¦éå¶ç„¶ï¼Œè€Œæ˜¯æŠ€è¡“è³¦èƒ½ã€ç¶“æ¿Ÿè½‰å‹èˆ‡ç¤¾æœƒåƒ¹å€¼è§€è®Šé·ä¸‰è‚¡åŠ›é‡äº¤ç¹”ä½œç”¨çš„çµæœã€‚</p>
                    <div class="flex flex-col md:flex-row justify-around items-center space-y-8 md:space-y-0 md:space-x-4">
                        <div class="text-center flex-1">
                            <div class="stat-card-icon">ğŸ“±</div>
                            <h3 class="text-xl font-bold mt-2 text-[#0a9396]" data-lang-key="drivers_card1_title">ç§‘æŠ€è³¦èƒ½</h3>
                            <p class="text-gray-600 mt-1" data-lang-key="drivers_card1_p">æ•¸ä½å¹³å°ã€è¡Œå‹•Appèˆ‡AIæ¼”ç®—æ³•ï¼Œæ¥µå¤§ç°¡åŒ–äº†ä¾›éœ€åŒ¹é…ï¼Œå¯¦ç¾äº†ã€ŒæŒ‰éœ€æœå‹™ã€ã€‚</p>
                        </div>
                        <div class="flow-arrow hidden md:block"></div>
                        <div class="text-center flex-1">
                            <div class="stat-card-icon">ğŸ’¼</div>
                            <h3 class="text-xl font-bold mt-2 text-[#ee9b00]" data-lang-key="drivers_card2_title">ç¶“æ¿Ÿè½‰å‹</h3>
                            <p class="text-gray-600 mt-1" data-lang-key="drivers_card2_p">å¾Œé‡‘èå±æ©Ÿæ™‚ä»£ï¼Œä¼æ¥­è¿½æ±‚æˆæœ¬æ•ˆç›Šèˆ‡å½ˆæ€§ï¼Œå‹å‹•è€…å°‹æ±‚å¤šå…ƒæ”¶å…¥ä¾†æºã€‚</p>
                        </div>
                         <div class="flow-arrow hidden md:block"></div>
                        <div class="text-center flex-1">
                            <div class="stat-card-icon">ğŸ‘¥</div>
                            <h3 class="text-xl font-bold mt-2 text-[#ca6702]" data-lang-key="drivers_card3_title">ç¤¾æœƒè®Šé·</h3>
                            <p class="text-gray-600 mt-1" data-lang-key="drivers_card3_p">æ–°ä¸–ä»£å‹å‹•è€…æ›´é‡è¦–å·¥ä½œèˆ‡ç”Ÿæ´»çš„å¹³è¡¡ï¼Œå¼·çƒˆè¿½æ±‚å·¥ä½œçš„å½ˆæ€§èˆ‡è‡ªä¸»æ¬Šã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="worker-experience">
                <div class="text-center">
                    <h2 class="text-3xl font-bold mb-4 text-[#005f73]" data-lang-key="exp_title">å‹å‹•è€…çš„é›™é¢åˆƒï¼šå½ˆæ€§è‡ªä¸» vs. æ¬Šç›Šå›°å¢ƒ</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto mb-10" data-lang-key="exp_subtitle">å°å‹å‹•è€…è€Œè¨€ï¼Œé›¶å·¥ç¶“æ¿Ÿæ—¢æ˜¯å……æ»¿æ©Ÿé‡çš„è‡ªç”±èˆå°ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¼ºä¹ä¿éšœçš„é¢¨éšªä¹‹åœ°ã€‚å…¶å„ªé»èˆ‡ç¼ºé»å¦‚å½±éš¨å½¢ï¼Œå½¢æˆäº†å¼·çƒˆçš„å°æ¯”ã€‚</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-md p-6 pro-con-card pro-card">
                        <h3 class="text-2xl font-bold text-center mb-4 text-[#0a9396]" data-lang-key="exp_pro_title">æ­£é¢å½±éŸ¿ï¼šç‚ºä½•é¸æ“‡é›¶å·¥ï¼Ÿ</h3>
                        <p class="text-sm text-center text-gray-500 mb-6" data-lang-key="exp_pro_subtitle">è¨±å¤šäººè¢«é›¶å·¥æ¨¡å¼çš„éˆæ´»æ€§å’Œè‡ªä¸»æ€§æ‰€å¸å¼•ï¼Œå°‡å…¶è¦–ç‚ºå¯¦ç¾ç†æƒ³ç”Ÿæ´»æ–¹å¼çš„é€”å¾‘ã€‚</p>
                        <div class="chart-container">
                            <canvas id="prosChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 pro-con-card con-card">
                        <h3 class="text-2xl font-bold text-center mb-4 text-[#ca6702]" data-lang-key="exp_con_title">è² é¢å½±éŸ¿ï¼šéš±è—çš„ä»£åƒ¹</h3>
                        <p class="text-sm text-center text-gray-500 mb-6" data-lang-key="exp_con_subtitle">å…‰é®®çš„è‡ªç”±èƒŒå¾Œï¼Œæ˜¯æ”¶å…¥ä¸ç©©ã€ç¦åˆ©ç¼ºå¤±ã€ç¼ºä¹ä¿éšœç­‰åš´å³»æŒ‘æˆ°ã€‚</p>
                        <div class="chart-container">
                            <canvas id="consChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="regulation">
                <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-4 text-[#005f73]" data-lang-key="reg_title">å…¨çƒç›£ç®¡è¿·å®®ï¼šå„åœ‹æ”¿åºœå¦‚ä½•æ‡‰å°ï¼Ÿ</h2>
                    <p class="text-center text-gray-600 max-w-3xl mx-auto mb-10" data-lang-key="reg_subtitle">å‹å·¥èº«ä»½èªå®šæ˜¯å…¨çƒæ€§è¾¯è«–çš„æ ¸å¿ƒã€‚å„åœ‹æ­£è©¦åœ–åœ¨ä¿ƒé€²å‰µæ–°èˆ‡ä¿éšœå‹å·¥æ¬Šç›Šä¹‹é–“å°‹æ‰¾å¹³è¡¡ï¼Œä½†è·¯å¾‘å„ç•°ï¼Œå°šæœªå½¢æˆå…±è­˜ã€‚</p>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-[#005f73] text-white">
                                    <th class="p-3 font-bold uppercase" data-lang-key="reg_table_h1">åœ°å€</th>
                                    <th class="p-3 font-bold uppercase" data-lang-key="reg_table_h2">æ ¸å¿ƒè·¯å¾‘</th>
                                    <th class="p-3 font-bold uppercase" data-lang-key="reg_table_h3">é—œéµèˆ‰æª/åˆ¤æ±º</th>
                                    <th class="p-3 font-bold uppercase" data-lang-key="reg_table_h4">æ¼”ç®—æ³•è¦ç®¡</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr class="hover:bg-gray-50">
                                    <td class="p-3 font-semibold text-[#0a9396]" data-lang-key="reg_table_r1_c1">ç¾åœ‹ (åŠ å·)</td>
                                    <td class="p-3" data-lang-key="reg_table_r1_c2">ç«‹æ³•èˆ‡å…¬æŠ•çš„æ¿€çƒˆåšå¼ˆ</td>
                                    <td class="p-3" data-lang-key="reg_table_r1_c3">AB5æ³•æ¡ˆæ¡åš´æ ¼ã€ŒABCæ¸¬è©¦ã€ï¼›22è™Ÿææ¡ˆç‚ºå¹³å°å‰µè¨­ã€Œç¨ç«‹æ‰¿åŒ…å•†ã€ä¾‹å¤–</td>
                                    <td class="p-3" data-lang-key="reg_table_r1_c4">ç›¸å°è¼ƒå°‘ï¼Œè¦ç®¡é‡å¿ƒåœ¨å‹å·¥åˆ†é¡</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="p-3 font-semibold text-[#0a9396]" data-lang-key="reg_table_r2_c1">è‹±åœ‹</td>
                                    <td class="p-3" data-lang-key="reg_table_r2_c2">å¸æ³•åˆ¤ä¾‹å¼•é ˜è®Šé©</td>
                                    <td class="p-3" data-lang-key="reg_table_r2_c3">æœ€é«˜æ³•é™¢è£å®šUberå¸æ©Ÿç‚ºã€Œå‹å·¥ã€(worker)ï¼Œäº«æœ‰æœ€ä½å·¥è³‡å’Œå¸¶è–ªå‡</td>
                                    <td class="p-3" data-lang-key="reg_table_r2_c4">ä¾è³´ç¾æœ‰æ•¸æ“šä¿è­·æ³•è¦ï¼Œç¤¾æœƒå°ã€Œé»‘ç®±ã€æ¼”ç®—æ³•æ“”æ†‚æ—¥å¢</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="p-3 font-semibold text-[#0a9396]" data-lang-key="reg_table_r3_c1">æ­ç›Ÿ</td>
                                    <td class="p-3" data-lang-key="reg_table_r3_c2">æ¡†æ¶æŒ‡ä»¤å°‹æ±‚çµ±ä¸€æ¨™æº–</td>
                                    <td class="p-3" data-lang-key="reg_table_r3_c3">ã€Šå¹³å°å·¥ä½œæŒ‡ä»¤ã€‹ç¢ºç«‹ã€Œé›‡å‚­é—œä¿‚æ¨å®šã€åŸå‰‡ï¼Œèˆ‰è­‰è²¬ä»»è½‰ç§»è‡³å¹³å°</td>
                                    <td class="p-3" data-lang-key="reg_table_r3_c4">å¼·åˆ¶é€æ˜åŒ–ï¼Œè³¦äºˆå‹å·¥å°è‡ªå‹•åŒ–æ±ºç­–çš„è§£é‡‹æ¬Šèˆ‡äººå·¥å¯©æŸ¥æ¬Š</td>
                                </tr>
                                 <tr class="hover:bg-gray-50">
                                    <td class="p-3 font-semibold text-[#0a9396]" data-lang-key="reg_table_r4_c1">è¥¿ç­ç‰™</td>
                                    <td class="p-3" data-lang-key="reg_table_r4_c2">å°ˆé–€ç«‹æ³•å…ˆè¡Œ</td>
                                    <td class="p-3" data-lang-key="reg_table_r4_c3">ã€Œé¨å£«æ³•ã€ç‚ºå¤–é€å“¡è¨­ç«‹ã€Œé›‡å‚­é—œä¿‚æ³•å¾‹æ¨å®šã€</td>
                                    <td class="p-3" data-lang-key="reg_table_r4_c4">è¦æ±‚å¹³å°å‘å‹å·¥ä»£è¡¨é€šå ±æ¼”ç®—æ³•å¦‚ä½•å½±éŸ¿å·¥ä½œæ¢ä»¶</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <section id="future">
                <div class="text-center">
                    <h2 class="text-3xl font-bold mb-4 text-[#005f73]" data-lang-key="future_title">å·¥ä½œçš„æœªä¾†ï¼šè¶¨å‹¢ã€æŒ‘æˆ°èˆ‡æ”¿ç­–å»ºè¨€</h2>
                    <p class="text-gray-600 max-w-3xl mx-auto mb-10" data-lang-key="future_subtitle">äººå·¥æ™ºæ…§å°‡æ·±åº¦èåˆï¼Œç›£ç®¡æ¡†æ¶æŒçºŒæ¼”é€²ï¼Œç¤¾æœƒæ­£åŠªåŠ›æ¢ç´¢ä¸€ç¨®èƒ½é©æ‡‰æœªä¾†å·¥ä½œæ¨¡å¼çš„æ–°å‹ã€Œç¤¾æœƒå¥‘ç´„ã€ã€‚</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                     <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-2xl font-bold text-center mb-4 text-[#0a9396]" data-lang-key="future_chart_title">å…¨çƒå¹³å°ç¶“æ¿Ÿå¸‚å ´è¦æ¨¡é æ¸¬</h3>
                        <p class="text-sm text-center text-gray-500 mb-6" data-lang-key="future_chart_subtitle">é›¶å·¥ç¶“æ¿Ÿçš„å¸‚å ´è¦æ¨¡é è¨ˆå°‡æŒçºŒé«˜é€Ÿå¢é•·ï¼Œé¡¯ç¤ºå…¶åœ¨å…¨çƒç¶“æ¿Ÿä¸­çš„é‡è¦æ€§æ—¥ç›Šæå‡ã€‚</p>
                        <div class="chart-container">
                            <canvas id="growthChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-2xl font-bold text-center mb-4 text-[#ca6702]" data-lang-key="future_policy_title">é‚å‘å…¬å¹³æ°¸çºŒçš„æ”¿ç­–ä¹‹è·¯</h3>
                        <p class="text-sm text-center text-gray-500 mb-6" data-lang-key="future_policy_subtitle">ç‚ºå¼•å°é›¶å·¥ç¶“æ¿Ÿå¥åº·ç™¼å±•ï¼Œéœ€è¦åœ¨ä¿éšœå‹å·¥æ¬Šç›Šèˆ‡ç¶­æŒå¸‚å ´æ´»åŠ›é–“å–å¾—å¹³è¡¡ã€‚</p>
                        <ul class="space-y-4 mt-8">
                            <li class="flex items-start">
                                <span class="text-xl text-[#ee9b00] mr-3">âœ”</span>
                                <div data-lang-key="future_policy_1"><strong class="text-[#005f73]" data-lang-key="future_policy_1_strong">å»ºç«‹å¯æ”œå¼ç¦åˆ©ç³»çµ±ï¼š</strong>è®“é†«ç™‚ã€é€€ä¼‘é‡‘ç­‰ç¦åˆ©èˆ‡å€‹äººç¶å®šï¼Œè€Œéé›‡ä¸»ã€‚</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-xl text-[#ee9b00] mr-3">âœ”</span>
                                <div data-lang-key="future_policy_2"><strong class="text-[#005f73]" data-lang-key="future_policy_2_strong">ç¢ºä¿æ¼”ç®—æ³•å…¬å¹³é€æ˜ï¼š</strong>è³¦äºˆå‹å·¥çŸ¥æƒ…æ¬Šèˆ‡ç”³è¨´æ¬Šï¼Œè¦æ±‚äººå·¥å¯©æŸ¥æ©Ÿåˆ¶ã€‚</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-xl text-[#ee9b00] mr-3">âœ”</span>
                                <div data-lang-key="future_policy_3"><strong class="text-[#005f73]" data-lang-key="future_policy_3_strong">æ”¯æŒçµ‚èº«å­¸ç¿’èˆ‡æŠ€èƒ½ç™¼å±•ï¼š</strong>æä¾›åŸ¹è¨“è³‡æºï¼Œå¹«åŠ©é›¶å·¥é©æ‡‰AIæ™‚ä»£çš„å¸‚å ´éœ€æ±‚ã€‚</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-xl text-[#ee9b00] mr-3">âœ”</span>
                                <div data-lang-key="future_policy_4"><strong class="text-[#005f73]" data-lang-key="future_policy_4_strong">ä¿éšœé›†é«”è«‡åˆ¤æ¬Šåˆ©ï¼š</strong>å‰µå»ºæœ‰æ•ˆçš„å·¥äººç™¼è²æ©Ÿåˆ¶ï¼Œå¹³è¡¡å‹è³‡è­°åƒ¹èƒ½åŠ›ã€‚</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

        </main>
        
        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500 text-sm" data-lang-key="footer_text">&copy; 2025 é›¶å·¥ç¶“æ¿Ÿè¦–è¦ºåŒ–å ±å‘Š. æ‰€æœ‰è³‡è¨Šå‡åŸºæ–¼æä¾›çš„æ·±åº¦ç ”ç©¶å ±å‘Šé€²è¡ŒåŒ¯ç¸½èˆ‡å‘ˆç¾ã€‚</p>
        </footer>

    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- TRANSLATION DATA ---
        const translations = {
            zh: {
                html_lang: 'zh-Hant',
                page_title: 'è³‡è¨Šåœ–è¡¨ï¼šæ·±å…¥è§£æé›¶å·¥ç¶“æ¿Ÿ',
                toggle_button: 'English',
                font_family: "'Noto Sans TC', sans-serif",
                header_title: 'é›¶å·¥ç¶“æ¿Ÿ',
                header_subtitle: 'ä¸€ä»½é—œæ–¼æ–°èˆˆå‹å‹•æ¨¡å¼çš„æ·±åº¦è¦–è¦ºåŒ–è§£æï¼šå¾å®šç¾©ã€å´›èµ·ã€å½±éŸ¿åˆ°å…¨çƒæ²»ç†çš„å®Œæ•´é€è¦–',
                def_title: 'ä»€éº¼æ˜¯é›¶å·¥ç¶“æ¿Ÿï¼Ÿ',
                def_p1: 'é›¶å·¥ç¶“æ¿Ÿ (Gig Economy) æ˜¯ä¸€ç¨®ä»¥<strong class="text-[#0a9396]" data-lang-key="def_p1_strong1">çŸ­æœŸåˆç´„</strong>æˆ–<strong class="text-[#0a9396]" data-lang-key="def_p1_strong2">è‡ªç”±è·æ¥­è€…</strong>ç‚ºä¸»è¦å‹å‹•åŠ›ï¼Œä¸¦é€é<strong class="text-[#0a9396]" data-lang-key="def_p1_strong3">æ•¸ä½å¹³å°</strong>é€²è¡Œæ’®åˆçš„æ–°èˆˆç¶“æ¿Ÿæ¨¡å¼ã€‚å®ƒé¡›è¦†äº†å‚³çµ±çš„é•·æœŸå…¨è·åƒ±å‚­é—œä¿‚ï¼Œå¼·èª¿å·¥ä½œçš„<strong class="text-[#ee9b00]" data-lang-key="def_p1_strong4">è‡¨æ™‚æ€§</strong>èˆ‡<strong class="text-[#ee9b00]" data-lang-key="def_p1_strong5">æŒ‰éœ€æ€§</strong>ã€‚',
                def_p2: 'å‹å‹•è€…ä¸å†åƒ…ç‚ºå–®ä¸€é›‡ä¸»æœå‹™ï¼Œè€Œæ˜¯ä½œç‚ºç¨ç«‹æ‰¿åŒ…å•†ï¼Œå½ˆæ€§åœ°åŸ·è¡Œå„é¡çŸ­æœŸä»»å‹™æˆ–å°ˆæ¡ˆï¼Œæ¶µè“‹å¾å¤–é€ã€å…±äº«ä¹˜è»Šåˆ°å°ˆæ¥­è¨­è¨ˆã€ç¨‹å¼é–‹ç™¼ç­‰å»£æ³›é ˜åŸŸã€‚',
                def_chart_title: 'è‹±åœ‹é›¶å·¥ç¶“æ¿Ÿå‹å‹•åŠ›ä½”æ¯” (2019)',
                def_chart_subtitle: 'æ•¸æ“šé¡¯ç¤ºï¼Œé›¶å·¥ç¶“æ¿Ÿå·²æˆç‚ºå‹å‹•åŠ›å¸‚å ´ä¸­ä¸å¯å¿½è¦–çš„ä¸€éƒ¨åˆ†ï¼Œå…¶è¦æ¨¡èˆ‡å½±éŸ¿åŠ›æ­£æŒçºŒæ“´å¤§ã€‚',
                drivers_title: 'é›¶å·¥ç¶“æ¿Ÿçš„å´›èµ·ï¼šä¸‰å¤§é©…å‹•åŠ›',
                drivers_subtitle: 'é›¶å·¥ç¶“æ¿Ÿçš„èˆˆèµ·ä¸¦éå¶ç„¶ï¼Œè€Œæ˜¯æŠ€è¡“è³¦èƒ½ã€ç¶“æ¿Ÿè½‰å‹èˆ‡ç¤¾æœƒåƒ¹å€¼è§€è®Šé·ä¸‰è‚¡åŠ›é‡äº¤ç¹”ä½œç”¨çš„çµæœã€‚',
                drivers_card1_title: 'ç§‘æŠ€è³¦èƒ½',
                drivers_card1_p: 'æ•¸ä½å¹³å°ã€è¡Œå‹•Appèˆ‡AIæ¼”ç®—æ³•ï¼Œæ¥µå¤§ç°¡åŒ–äº†ä¾›éœ€åŒ¹é…ï¼Œå¯¦ç¾äº†ã€ŒæŒ‰éœ€æœå‹™ã€ã€‚',
                drivers_card2_title: 'ç¶“æ¿Ÿè½‰å‹',
                drivers_card2_p: 'å¾Œé‡‘èå±æ©Ÿæ™‚ä»£ï¼Œä¼æ¥­è¿½æ±‚æˆæœ¬æ•ˆç›Šèˆ‡å½ˆæ€§ï¼Œå‹å‹•è€…å°‹æ±‚å¤šå…ƒæ”¶å…¥ä¾†æºã€‚',
                drivers_card3_title: 'ç¤¾æœƒè®Šé·',
                drivers_card3_p: 'æ–°ä¸–ä»£å‹å‹•è€…æ›´é‡è¦–å·¥ä½œèˆ‡ç”Ÿæ´»çš„å¹³è¡¡ï¼Œå¼·çƒˆè¿½æ±‚å·¥ä½œçš„å½ˆæ€§èˆ‡è‡ªä¸»æ¬Šã€‚',
                exp_title: 'å‹å‹•è€…çš„é›™é¢åˆƒï¼šå½ˆæ€§è‡ªä¸» vs. æ¬Šç›Šå›°å¢ƒ',
                exp_subtitle: 'å°å‹å‹•è€…è€Œè¨€ï¼Œé›¶å·¥ç¶“æ¿Ÿæ—¢æ˜¯å……æ»¿æ©Ÿé‡çš„è‡ªç”±èˆå°ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¼ºä¹ä¿éšœçš„é¢¨éšªä¹‹åœ°ã€‚å…¶å„ªé»èˆ‡ç¼ºé»å¦‚å½±éš¨å½¢ï¼Œå½¢æˆäº†å¼·çƒˆçš„å°æ¯”ã€‚',
                exp_pro_title: 'æ­£é¢å½±éŸ¿ï¼šç‚ºä½•é¸æ“‡é›¶å·¥ï¼Ÿ',
                exp_pro_subtitle: 'è¨±å¤šäººè¢«é›¶å·¥æ¨¡å¼çš„éˆæ´»æ€§å’Œè‡ªä¸»æ€§æ‰€å¸å¼•ï¼Œå°‡å…¶è¦–ç‚ºå¯¦ç¾ç†æƒ³ç”Ÿæ´»æ–¹å¼çš„é€”å¾‘ã€‚',
                exp_con_title: 'è² é¢å½±éŸ¿ï¼šéš±è—çš„ä»£åƒ¹',
                exp_con_subtitle: 'å…‰é®®çš„è‡ªç”±èƒŒå¾Œï¼Œæ˜¯æ”¶å…¥ä¸ç©©ã€ç¦åˆ©ç¼ºå¤±ã€ç¼ºä¹ä¿éšœç­‰åš´å³»æŒ‘æˆ°ã€‚',
                reg_title: 'å…¨çƒç›£ç®¡è¿·å®®ï¼šå„åœ‹æ”¿åºœå¦‚ä½•æ‡‰å°ï¼Ÿ',
                reg_subtitle: 'å‹å·¥èº«ä»½èªå®šæ˜¯å…¨çƒæ€§è¾¯è«–çš„æ ¸å¿ƒã€‚å„åœ‹æ­£è©¦åœ–åœ¨ä¿ƒé€²å‰µæ–°èˆ‡ä¿éšœå‹å·¥æ¬Šç›Šä¹‹é–“å°‹æ‰¾å¹³è¡¡ï¼Œä½†è·¯å¾‘å„ç•°ï¼Œå°šæœªå½¢æˆå…±è­˜ã€‚',
                reg_table_h1: 'åœ°å€',
                reg_table_h2: 'æ ¸å¿ƒè·¯å¾‘',
                reg_table_h3: 'é—œéµèˆ‰æª/åˆ¤æ±º',
                reg_table_h4: 'æ¼”ç®—æ³•è¦ç®¡',
                reg_table_r1_c1: 'ç¾åœ‹ (åŠ å·)',
                reg_table_r1_c2: 'ç«‹æ³•èˆ‡å…¬æŠ•çš„æ¿€çƒˆåšå¼ˆ',
                reg_table_r1_c3: 'AB5æ³•æ¡ˆæ¡åš´æ ¼ã€ŒABCæ¸¬è©¦ã€ï¼›22è™Ÿææ¡ˆç‚ºå¹³å°å‰µè¨­ã€Œç¨ç«‹æ‰¿åŒ…å•†ã€ä¾‹å¤–',
                reg_table_r1_c4: 'ç›¸å°è¼ƒå°‘ï¼Œè¦ç®¡é‡å¿ƒåœ¨å‹å·¥åˆ†é¡',
                reg_table_r2_c1: 'è‹±åœ‹',
                reg_table_r2_c2: 'å¸æ³•åˆ¤ä¾‹å¼•é ˜è®Šé©',
                reg_table_r2_c3: 'æœ€é«˜æ³•é™¢è£å®šUberå¸æ©Ÿç‚ºã€Œå‹å·¥ã€(worker)ï¼Œäº«æœ‰æœ€ä½å·¥è³‡å’Œå¸¶è–ªå‡',
                reg_table_r2_c4: 'ä¾è³´ç¾æœ‰æ•¸æ“šä¿è­·æ³•è¦ï¼Œç¤¾æœƒå°ã€Œé»‘ç®±ã€æ¼”ç®—æ³•æ“”æ†‚æ—¥å¢',
                reg_table_r3_c1: 'æ­ç›Ÿ',
                reg_table_r3_c2: 'æ¡†æ¶æŒ‡ä»¤å°‹æ±‚çµ±ä¸€æ¨™æº–',
                reg_table_r3_c3: 'ã€Šå¹³å°å·¥ä½œæŒ‡ä»¤ã€‹ç¢ºç«‹ã€Œé›‡å‚­é—œä¿‚æ¨å®šã€åŸå‰‡ï¼Œèˆ‰è­‰è²¬ä»»è½‰ç§»è‡³å¹³å°',
                reg_table_r3_c4: 'å¼·åˆ¶é€æ˜åŒ–ï¼Œè³¦äºˆå‹å·¥å°è‡ªå‹•åŒ–æ±ºç­–çš„è§£é‡‹æ¬Šèˆ‡äººå·¥å¯©æŸ¥æ¬Š',
                reg_table_r4_c1: 'è¥¿ç­ç‰™',
                reg_table_r4_c2: 'å°ˆé–€ç«‹æ³•å…ˆè¡Œ',
                reg_table_r4_c3: 'ã€Œé¨å£«æ³•ã€ç‚ºå¤–é€å“¡è¨­ç«‹ã€Œé›‡å‚­é—œä¿‚æ³•å¾‹æ¨å®šã€',
                reg_table_r4_c4: 'è¦æ±‚å¹³å°å‘å‹å·¥ä»£è¡¨é€šå ±æ¼”ç®—æ³•å¦‚ä½•å½±éŸ¿å·¥ä½œæ¢ä»¶',
                future_title: 'å·¥ä½œçš„æœªä¾†ï¼šè¶¨å‹¢ã€æŒ‘æˆ°èˆ‡æ”¿ç­–å»ºè¨€',
                future_subtitle: 'äººå·¥æ™ºæ…§å°‡æ·±åº¦èåˆï¼Œç›£ç®¡æ¡†æ¶æŒçºŒæ¼”é€²ï¼Œç¤¾æœƒæ­£åŠªåŠ›æ¢ç´¢ä¸€ç¨®èƒ½é©æ‡‰æœªä¾†å·¥ä½œæ¨¡å¼çš„æ–°å‹ã€Œç¤¾æœƒå¥‘ç´„ã€ã€‚',
                future_chart_title: 'å…¨çƒå¹³å°ç¶“æ¿Ÿå¸‚å ´è¦æ¨¡é æ¸¬',
                future_chart_subtitle: 'é›¶å·¥ç¶“æ¿Ÿçš„å¸‚å ´è¦æ¨¡é è¨ˆå°‡æŒçºŒé«˜é€Ÿå¢é•·ï¼Œé¡¯ç¤ºå…¶åœ¨å…¨çƒç¶“æ¿Ÿä¸­çš„é‡è¦æ€§æ—¥ç›Šæå‡ã€‚',
                future_policy_title: 'é‚å‘å…¬å¹³æ°¸çºŒçš„æ”¿ç­–ä¹‹è·¯',
                future_policy_subtitle: 'ç‚ºå¼•å°é›¶å·¥ç¶“æ¿Ÿå¥åº·ç™¼å±•ï¼Œéœ€è¦åœ¨ä¿éšœå‹å·¥æ¬Šç›Šèˆ‡ç¶­æŒå¸‚å ´æ´»åŠ›é–“å–å¾—å¹³è¡¡ã€‚',
                future_policy_1: '<strong class="text-[#005f73]" data-lang-key="future_policy_1_strong">å»ºç«‹å¯æ”œå¼ç¦åˆ©ç³»çµ±ï¼š</strong>è®“é†«ç™‚ã€é€€ä¼‘é‡‘ç­‰ç¦åˆ©èˆ‡å€‹äººç¶å®šï¼Œè€Œéé›‡ä¸»ã€‚',
                future_policy_2: '<strong class="text-[#005f73]" data-lang-key="future_policy_2_strong">ç¢ºä¿æ¼”ç®—æ³•å…¬å¹³é€æ˜ï¼š</strong>è³¦äºˆå‹å·¥çŸ¥æƒ…æ¬Šèˆ‡ç”³è¨´æ¬Šï¼Œè¦æ±‚äººå·¥å¯©æŸ¥æ©Ÿåˆ¶ã€‚',
                future_policy_3: '<strong class="text-[#005f73]" data-lang-key="future_policy_3_strong">æ”¯æŒçµ‚èº«å­¸ç¿’èˆ‡æŠ€èƒ½ç™¼å±•ï¼š</strong>æä¾›åŸ¹è¨“è³‡æºï¼Œå¹«åŠ©é›¶å·¥é©æ‡‰AIæ™‚ä»£çš„å¸‚å ´éœ€æ±‚ã€‚',
                future_policy_4: '<strong class="text-[#005f73]" data-lang-key="future_policy_4_strong">ä¿éšœé›†é«”è«‡åˆ¤æ¬Šåˆ©ï¼š</strong>å‰µå»ºæœ‰æ•ˆçš„å·¥äººç™¼è²æ©Ÿåˆ¶ï¼Œå¹³è¡¡å‹è³‡è­°åƒ¹èƒ½åŠ›ã€‚',
                footer_text: 'Â© 2025 é›¶å·¥ç¶“æ¿Ÿè¦–è¦ºåŒ–å ±å‘Š. æ‰€æœ‰è³‡è¨Šå‡åŸºæ–¼æä¾›çš„æ·±åº¦ç ”ç©¶å ±å‘Šé€²è¡ŒåŒ¯ç¸½èˆ‡å‘ˆç¾ã€‚',
                charts: {
                    workforce: { labels: ['é›¶å·¥ç¶“æ¿Ÿå‹å‹•åŠ›', 'å…¶ä»–å‹å‹•åŠ›'], datasetLabel: 'å‹å‹•åŠ›ä½”æ¯”' },
                    pros: { labels: ['å½ˆæ€§èˆ‡è‡ªä¸»', 'æ”¶å…¥ä¾†æºå¤šæ¨£åŒ–', 'å·¥ä½œèˆ‡ç”Ÿæ´»å¹³è¡¡æ½›åŠ›', 'æŠ€èƒ½ç™¼å±•æ©Ÿæœƒ'], datasetLabel: 'å¸å¼•åŠ›æŒ‡æ•¸' },
                    cons: { labels: ['æ”¶å…¥ä¸ç©©å®š/åä½', 'ç¼ºä¹ç¦åˆ©ä¿éšœ', 'å·¥ä½œä¸å®‰å…¨æ„Ÿ', 'å‹å·¥æ¬Šç›Šæœ‰é™'], datasetLabel: 'æŒ‘æˆ°æŒ‡æ•¸' },
                    growth: { labels: ['2019', '2022 (é æ¸¬)', '2025 (æ¨¡æ“¬)', '2028 (æ¨¡æ“¬)', '2033 (é æ¸¬)'], datasetLabel: 'å¸‚å ´è¦æ¨¡ (å…†ç¾å…ƒ)' }
                }
            },
            en: {
                html_lang: 'en',
                page_title: 'Infographic: A Deep Dive into the Gig Economy',
                toggle_button: 'ä¸­æ–‡',
                font_family: "'Inter', sans-serif",
                header_title: 'The Gig Economy',
                header_subtitle: 'A deep visual analysis of the emerging labor model: From definition, rise, and impact to global governance.',
                def_title: 'What is the Gig Economy?',
                def_p1: 'The Gig Economy is a new economic model primarily based on <strong class="text-[#0a9396]" data-lang-key="def_p1_strong1">short-term contracts</strong> or <strong class="text-[#0a9396]" data-lang-key="def_p1_strong2">freelancers</strong>, matched through <strong class="text-[#0a9396]" data-lang-key="def_p1_strong3">digital platforms</strong>. It disrupts traditional long-term employment relationships, emphasizing the <strong class="text-[#ee9b00]" data-lang-key="def_p1_strong4">temporary</strong> and <strong class="text-[#ee9b00]" data-lang-key="def_p1_strong5">on-demand</strong> nature of work.',
                def_p2: 'Workers no longer serve a single employer but act as independent contractors, flexibly performing various short-term tasks or projects, from food delivery and ride-sharing to professional design and programming.',
                def_chart_title: 'UK Gig Economy Workforce Share (2019)',
                def_chart_subtitle: 'Data shows the gig economy has become a significant part of the labor market, with its scale and influence continually expanding.',
                drivers_title: 'The Rise of the Gig Economy: Three Main Drivers',
                drivers_subtitle: 'The rise of the gig economy is no accident but the result of the interplay between technological empowerment, economic transformation, and changing social values.',
                drivers_card1_title: 'Technological Empowerment',
                drivers_card1_p: 'Digital platforms, mobile apps, and AI algorithms have greatly simplified supply-demand matching, enabling "on-demand services."',
                drivers_card2_title: 'Economic Transformation',
                drivers_card2_p: 'In the post-financial crisis era, companies seek cost-effectiveness and flexibility, while workers look for diverse income streams.',
                drivers_card3_title: 'Social Change',
                drivers_card3_p: 'The new generation of workers values work-life balance more, strongly pursuing flexibility and autonomy in their work.',
                exp_title: "A Worker's Double-Edged Sword: Flexibility vs. Precarity",
                exp_subtitle: 'For workers, the gig economy is both a stage full of opportunities and a risky ground lacking protection. Its pros and cons are two sides of the same coin.',
                exp_pro_title: 'The Upside: Why Go Gig?',
                exp_pro_subtitle: 'Many are drawn to the flexibility and autonomy of the gig model, seeing it as a way to achieve their desired lifestyle.',
                exp_con_title: 'The Downside: The Hidden Costs',
                exp_con_subtitle: 'Behind the shiny veneer of freedom lie severe challenges like unstable income, lack of benefits, and inadequate protection.',
                reg_title: 'The Global Regulatory Maze: How Are Governments Responding?',
                reg_subtitle: 'The classification of workers is at the core of the global debate. Countries are trying to balance promoting innovation and protecting labor rights, but their paths vary, and no consensus has been reached.',
                reg_table_h1: 'Region',
                reg_table_h2: 'Core Approach',
                reg_table_h3: 'Key Actions/Rulings',
                reg_table_h4: 'Algorithmic Regulation',
                reg_table_r1_c1: 'USA (California)',
                reg_table_r1_c2: 'Intense battle of legislation vs. ballot initiatives',
                reg_table_r1_c3: 'AB5 law uses strict "ABC test"; Prop 22 creates an "independent contractor" exception for platforms.',
                reg_table_r1_c4: 'Relatively minimal; focus is on worker classification.',
                reg_table_r2_c1: 'United Kingdom',
                reg_table_r2_c2: 'Judicial precedent leads the change',
                reg_table_r2_c3: 'Supreme Court rules Uber drivers are "workers," entitled to minimum wage and paid holidays.',
                reg_table_r2_c4: 'Relies on existing data protection laws; growing social concern over "black box" algorithms.',
                reg_table_r3_c1: 'European Union',
                reg_table_r3_c2: 'Seeking unified standards via framework directive',
                reg_table_r3_c3: 'Platform Work Directive establishes a "presumption of employment," shifting burden of proof to platforms.',
                reg_table_r3_c4: 'Mandates transparency, giving workers rights to explanation and human review of automated decisions.',
                reg_table_r4_c1: 'Spain',
                reg_table_r4_c2: 'Pioneering with dedicated legislation',
                reg_table_r4_c3: '"Rider\'s Law" establishes a legal presumption of employment for delivery couriers.',
                reg_table_r4_c4: 'Requires platforms to inform worker reps how algorithms affect working conditions.',
                future_title: 'The Future of Work: Trends, Challenges & Policy Advice',
                future_subtitle: 'AI will become deeply integrated, regulatory frameworks will continue to evolve, and society is striving to find a new "social contract" for future work models.',
                future_chart_title: 'Global Platform Economy Market Size Forecast',
                future_chart_subtitle: 'The market size of the gig economy is projected to continue its rapid growth, highlighting its increasing importance in the global economy.',
                future_policy_title: 'The Path to a Fair & Sustainable Policy',
                future_policy_subtitle: 'To guide the healthy development of the gig economy, a balance must be struck between protecting worker rights and maintaining market dynamism.',
                future_policy_1: '<strong class="text-[#005f73]" data-lang-key="future_policy_1_strong">Build portable benefit systems:</strong> Link benefits like healthcare and pensions to individuals, not employers.',
                future_policy_2: '<strong class="text-[#005f73]" data-lang-key="future_policy_2_strong">Ensure algorithmic fairness & transparency:</strong> Grant workers the right to information and appeal, requiring human review mechanisms.',
                future_policy_3: '<strong class="text-[#005f73]" data-lang-key="future_policy_3_strong">Support lifelong learning & skill development:</strong> Provide training resources to help gig workers adapt to the market demands of the AI era.',
                future_policy_4: '<strong class="text-[#005f73]" data-lang-key="future_policy_4_strong">Protect collective bargaining rights:</strong> Create effective mechanisms for worker voice to balance bargaining power between labor and capital.',
                footer_text: 'Â© 2025 Gig Economy Visualization Report. All information is summarized and presented based on the provided in-depth research report.',
                charts: {
                    workforce: { labels: ['Gig Workforce', 'Other Workforce'], datasetLabel: 'Workforce Share' },
                    pros: { labels: ['Flexibility & Autonomy', 'Diverse Income Streams', 'Work-Life Balance Potential', 'Skill Development Opportunities'], datasetLabel: 'Attraction Index' },
                    cons: { labels: ['Unstable / Low Income', 'Lack of Benefits', 'Job Insecurity', 'Limited Worker Rights'], datasetLabel: 'Challenge Index' },
                    growth: { labels: ['2019', '2022 (Est.)', '2025 (Sim.)', '2028 (Sim.)', '2033 (Proj.)'], datasetLabel: 'Market Size ($T)' }
                }
            }
        };

        // --- CHART & APP STATE ---
        let currentLang = 'zh';
        const myCharts = {};
        const brilliantBlues = {
            darkBlue: '#005f73',
            teal: '#0a9396',
            lightTeal: '#94d2bd',
            orange: '#ca6702',
        };

        // --- FUNCTIONS ---
        function wrapLabel(str, maxWidth = 16) {
            // This function is kept for wrapping long labels in bar charts, especially useful for English text.
            if (typeof str !== 'string' || str.length <= maxWidth) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxWidth && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine.length > 0) lines.push(currentLine);
            return lines;
        }
        
        const universalTooltipCallback = {
             plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                              return label.join(' ');
                            }
                            return label;
                        }
                    }
                },
                legend: {
                    labels: {
                        font: {
                            family: translations[currentLang].font_family
                        }
                    }
                }
            }
        };

        function setLanguage(lang) {
            currentLang = lang;
            const langData = translations[lang];

            // Update document language and title
            document.documentElement.lang = langData.html_lang;
            document.title = langData.page_title;
            
            // Update main body font
            document.body.style.fontFamily = langData.font_family;

            // Update all text elements with data-lang-key
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                if (langData[key]) {
                    el.innerHTML = langData[key];
                }
            });
            
            // Update language toggle button text
            document.getElementById('lang-toggle').textContent = langData.toggle_button;

            // Update charts
            updateAllCharts(lang);
        }

        function updateAllCharts(lang) {
            const chartLangData = translations[lang].charts;
            const fontFamily = translations[lang].font_family;

            // Workforce Chart
            if (myCharts.workforce) {
                myCharts.workforce.data.labels = chartLangData.workforce.labels;
                myCharts.workforce.data.datasets[0].label = chartLangData.workforce.datasetLabel;
                if (myCharts.workforce.options.plugins.legend.labels.font) {
                    myCharts.workforce.options.plugins.legend.labels.font.family = fontFamily;
                }
                myCharts.workforce.update();
            }

            // Pros Chart
            if (myCharts.pros) {
                myCharts.pros.data.labels = chartLangData.pros.labels.map(l => wrapLabel(l));
                myCharts.pros.data.datasets[0].label = chartLangData.pros.datasetLabel;
                if (myCharts.pros.options.plugins.legend.labels.font) {
                   myCharts.pros.options.plugins.legend.labels.font.family = fontFamily;
                }
                myCharts.pros.update();
            }

            // Cons Chart
            if (myCharts.cons) {
                myCharts.cons.data.labels = chartLangData.cons.labels.map(l => wrapLabel(l));
                myCharts.cons.data.datasets[0].label = chartLangData.cons.datasetLabel;
                if (myCharts.cons.options.plugins.legend.labels.font) {
                    myCharts.cons.options.plugins.legend.labels.font.family = fontFamily;
                }
                myCharts.cons.update();
            }

            // Growth Chart
            if (myCharts.growth) {
                myCharts.growth.data.labels = chartLangData.growth.labels;
                myCharts.growth.data.datasets[0].label = chartLangData.growth.datasetLabel;
                if (myCharts.growth.options.plugins.legend.labels.font) {
                    myCharts.growth.options.plugins.legend.labels.font.family = fontFamily;
                }
                myCharts.growth.update();
            }
        }
        
        function initializeCharts() {
            const initialLang = 'zh';
            const chartLangData = translations[initialLang].charts;

            const workforceCtx = document.getElementById('workforceChart').getContext('2d');
            myCharts.workforce = new Chart(workforceCtx, {
                type: 'doughnut',
                data: {
                    labels: chartLangData.workforce.labels,
                    datasets: [{
                        label: chartLangData.workforce.datasetLabel,
                        data: [4.4, 95.6],
                        backgroundColor: [brilliantBlues.teal, brilliantBlues.lightTeal],
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: universalTooltipCallback.plugins }
            });

            const prosCtx = document.getElementById('prosChart').getContext('2d');
            myCharts.pros = new Chart(prosCtx, {
                type: 'bar',
                data: {
                    labels: chartLangData.pros.labels.map(l => wrapLabel(l)),
                    datasets: [{
                        label: chartLangData.pros.datasetLabel,
                        data: [90, 75, 85, 65],
                        backgroundColor: brilliantBlues.teal,
                        borderRadius: 5
                    }]
                },
                options: {
                    indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                    scales: { x: { beginAtZero: true, max: 100 } },
                    plugins: { ...universalTooltipCallback.plugins, legend: { display: false } }
                }
            });
            
            const consCtx = document.getElementById('consChart').getContext('2d');
            myCharts.cons = new Chart(consCtx, {
                type: 'bar',
                data: {
                    labels: chartLangData.cons.labels.map(l => wrapLabel(l)),
                    datasets: [{
                        label: chartLangData.cons.datasetLabel,
                        data: [88, 92, 80, 78],
                        backgroundColor: brilliantBlues.orange,
                        borderRadius: 5
                    }]
                },
                options: {
                    indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                    scales: { x: { beginAtZero: true, max: 100 } },
                    plugins: { ...universalTooltipCallback.plugins, legend: { display: false } }
                }
            });

            const growthCtx = document.getElementById('growthChart').getContext('2d');
            myCharts.growth = new Chart(growthCtx, {
                type: 'line',
                data: {
                    labels: chartLangData.growth.labels,
                    datasets: [{
                        label: chartLangData.growth.datasetLabel,
                        data: [0.3, 0.45, 0.7, 1.2, 2.145],
                        fill: true, borderColor: brilliantBlues.darkBlue, backgroundColor: 'rgba(10, 147, 150, 0.2)',
                        tension: 0.3, pointBackgroundColor: brilliantBlues.darkBlue, pointRadius: 5
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { ...universalTooltipCallback.plugins, legend: { display: true } },
                    scales: { y: { beginAtZero: true, ticks: { callback: (value) => '$' + value + 'T' } } }
                }
            });
        }

        // --- INITIALIZATION ---
        initializeCharts();
        setLanguage('zh'); // Set initial language

        document.getElementById('lang-toggle').addEventListener('click', () => {
            const newLang = currentLang === 'zh' ? 'en' : 'zh';
            setLanguage(newLang);
        });
    });
    </script>
</body>
</html>
