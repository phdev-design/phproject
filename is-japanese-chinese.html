<!DOCTYPE html>
<html lang="zh-Hant" id="html-lang">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æœ¬äººèµ·æºä¹‹è¬ï¼šäº’å‹•å¼æ¢ç´¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif; /* English font first */
            background-color: #F8F7F4;
            color: #3D3B37;
        }
        .nav-button {
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
        }
        .nav-button.active::after, .nav-button:hover::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background-color: #A57C5B;
            border-radius: 2px;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 12px;
            border: 1px solid #EAE8E3;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%; /* Ensure cards in a grid have same height */
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        .keyword {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 9999px;
            margin: 4px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .jomon-keyword { background-color: #FBEADC; color: #9C5F27; }
        .yayoi-keyword { background-color: #E2F0D9; color: #376F2D; }
        .kofun-keyword { background-color: #E0E7FF; color: #3730A3; }
        .ancestry-btn.active {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 45vh;
        }
        .animate-fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="antialiased">
    <div id="app" class="container mx-auto px-4 py-8 max-w-6xl">
        <header class="text-center mb-6 relative">
             <div class="absolute top-0 right-0">
                <button id="lang-toggle-btn" class="px-4 py-2 text-sm font-semibold rounded-full bg-gray-200 hover:bg-gray-300 transition-colors">
                    EN / ä¸­æ–‡
                </button>
            </div>
            <h1 id="main-title" class="text-4xl md:text-5xl font-bold text-gray-800 mb-2"></h1>
            <p id="main-subtitle" class="text-xl text-gray-600"></p>
        </header>

        <nav class="sticky top-0 z-10 bg-[#F8F7F4]/80 backdrop-blur-sm py-3 mb-12 border-b border-gray-200">
            <div id="nav-container" class="flex justify-center items-center space-x-2 md:space-x-6 text-sm md:text-base font-medium">
            </div>
        </nav>

        <main id="content-container">
        </main>
    </div>

    <script>
        let currentLang = 'zh';
        let currentChart = null;

        const contentData = {
            zh: {
                title: "æ—¥æœ¬äººèµ·æºä¹‹è¬",
                subtitle: "ä¸€è¶Ÿäº’å‹•çš„æ¢ç´¢ä¹‹æ—…",
                nav: [
                    { id: 'overview', name: 'ç¸½è¦½' },
                    { id: 'ancestries', name: 'ä¸‰å¤§ç¥–æº' },
                    { id: 'genetics', name: 'éºå‚³åœ°åœ–' },
                    { id: 'culture', name: 'èªè¨€èˆ‡æ–‡åŒ–' },
                    { id: 'conclusion', name: 'æœ€çµ‚çµè«–' }
                ],
                pages: {
                    overview: {
                        title: "è§£é–‹è¬é¡Œï¼šä¸‰é‡æ§‹é€ æ¨¡å‹",
                        intro: "ç¾ä»£æ—¥æœ¬äººä¸¦éå–®ä¸€ä¾†æºçš„æ°‘æ—ã€‚ç§‘å­¸ç•Œçš„å…±è­˜ã€Œä¸‰é‡æ§‹é€ æ¨¡å‹ã€æŒ‡å‡ºï¼Œæ—¥æœ¬äººæ˜¯ç”±ä¸‰å€‹åœ¨ä¸åŒæ™‚æœŸæŠµé”åˆ—å³¶çš„å¤è€ç¥–å…ˆç¾¤é«”ï¼Œç¶“éæ¼«é•·çš„èåˆéç¨‹æ‰€å½¢æˆçš„è¤‡åˆé«”ã€‚æœ¬ç¯€å°‡ç‚ºæ‚¨æ­ç¤ºé€™å€‹æ ¸å¿ƒæ¦‚å¿µï¼Œé–‹å•Ÿæ¢ç´¢ä¹‹æ—…ã€‚",
                        content: `<div class="grid md:grid-cols-3 gap-6 text-center">
                            <div class="card p-6 flex flex-col"><div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-[#FBEADC] text-3xl">â›°ï¸</div><h3 class="text-xl font-bold mb-2 text-[#9C5F27]">ç¬¬ä¸€å±¤ï¼šç¹©æ–‡äºº</h3><p class="text-gray-600 text-sm">æ—¥æœ¬åˆ—å³¶çš„åŸç”Ÿç‹©çµæ¡é›†è€…ï¼Œéºå‚³ç¨ç‰¹ï¼Œæ˜¯æ—¥æœ¬äººåŸºå› ä¸­ä¸å¯æˆ–ç¼ºçš„å¤è€åŸºçŸ³ã€‚</p></div>
                            <div class="card p-6 flex flex-col"><div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-[#E2F0D9] text-3xl">ğŸŒ¾</div><h3 class="text-xl font-bold mb-2 text-[#376F2D]">ç¬¬äºŒå±¤ï¼šå½Œç”Ÿäºº</h3><p class="text-gray-600 text-sm">å¸¶ä¾†æ°´ç¨»è¾²æ¥­èˆ‡é‡‘å±¬å™¨çš„å¤§é™¸ç§»æ°‘ï¼Œå¾æ ¹æœ¬ä¸Šæ”¹è®Šäº†æ—¥æœ¬çš„ç¤¾æœƒèˆ‡ç¶“æ¿Ÿçµæ§‹ã€‚</p></div>
                            <div class="card p-6 flex flex-col"><div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-[#E0E7FF] text-3xl">ğŸ›ï¸</div><h3 class="text-xl font-bold mb-2 text-[#3730A3]">ç¬¬ä¸‰å±¤ï¼šå¤å¢³äºº</h3><p class="text-gray-600 text-sm">èˆ‡åœ‹å®¶å½¢æˆåŒæ­¥çš„å¤§è¦æ¨¡ç§»æ°‘ï¼Œä»–å€‘å¥ å®šäº†å¤§å’Œæ”¿æ¬Šçš„åŸºç¤ï¼Œä¸¦æˆç‚ºç¾ä»£æ—¥æœ¬äººåŸºå› çš„ä¸»é«”ã€‚</p></div>
                        </div>`
                    },
                    ancestries: {
                        title: "æ¢å°‹ä¸‰å¤§ç¥–æº",
                        intro: "æ§‹æˆæ—¥æœ¬äººçš„ä¸‰å€‹ç¥–å…ˆç¾¤é«”ï¼Œå„è‡ªæ“æœ‰ç¨ç‰¹çš„æ–‡åŒ–ã€æŠ€è¡“èˆ‡æ­·å²ã€‚åœ¨é€™è£¡ï¼Œæ‚¨å¯ä»¥é»æ“Šä¸‹æ–¹çš„æŒ‰éˆ•ï¼Œåˆ†åˆ¥æ·±å…¥äº†è§£ç¹©æ–‡ã€å½Œç”Ÿèˆ‡å¤å¢³æ™‚ä»£çš„äººå€‘ï¼Œä»–å€‘å¦‚ä½•ç”Ÿæ´»ï¼Œåˆç•™ä¸‹äº†ä»€éº¼éºç”¢ã€‚",
                        buttons: [
                            { id: 'jomon', name: 'ç¹©æ–‡äºº', color: 'bg-[#FBEADC] text-[#9C5F27] hover:bg-[#F8DCC1]' },
                            { id: 'yayoi', name: 'å½Œç”Ÿäºº', color: 'bg-[#E2F0D9] text-[#376F2D] hover:bg-[#D4E8C9]' },
                            { id: 'kofun', name: 'å¤å¢³äºº', color: 'bg-[#E0E7FF] text-[#3730A3] hover:bg-[#C7D2FE]' }
                        ],
                        content: {
                            jomon: { title: 'ç¹©æ–‡äººï¼šåŸç”ŸåŸºçŸ³', period: 'ç´„å…¬å…ƒå‰16,000å¹´ â€“ å…¬å…ƒå‰900å¹´', description: 'ç¹©æ–‡äººæ˜¯æ—¥æœ¬åˆ—å³¶æœ€æ—©çš„å±…æ°‘ï¼Œä»–å€‘ç™¼å±•å‡ºä¸–ç•Œä¸Šæœ€å¤è€çš„é™¶å™¨ï¼Œä¸¦åœ¨æ²’æœ‰è¾²æ¥­çš„æƒ…æ³ä¸‹ï¼Œå‰µé€ äº†ç¹æ¦®ä¸”è¤‡é›œçš„å®šå±…å¼ç‹©çµæ¡é›†æ–‡åŒ–ã€‚ä»–å€‘çš„éºå‚³è­œç³»åœ¨èˆ‡å¤§é™¸åˆ†é›¢å¾Œï¼Œç¨ç«‹æ¼”åŒ–äº†ä¸Šè¬å¹´ï¼Œå½¢æˆäº†ç¨ä¸€ç„¡äºŒçš„åŸºå› åº«ã€‚', keywords: ['ç‹©çµæ¡é›†', 'ç¹©æ–‡åœŸå™¨', 'å®šå±…ç”Ÿæ´»', 'è²å¡š', 'åœŸå¶', 'å¤è’™å¤äººç¨®'] },
                            yayoi: { title: 'å½Œç”Ÿäººï¼šè¾²æ¥­æµªæ½®', period: 'ç´„å…¬å…ƒå‰900å¹´ â€“ å…¬å…ƒ300å¹´', description: 'ç´„ä¸‰åƒå¹´å‰ï¼Œæ”œå¸¶è‘—æ°´ç¨»ç¨®æ¤èˆ‡é‡‘å±¬å†¶ç…‰æŠ€è¡“çš„ã€Œæ¸¡ä¾†äººã€å¾äºæ´²å¤§é™¸ç¶“ç”±æœé®®åŠå³¶é·å…¥ã€‚ä»–å€‘å¼•ç™¼äº†æ—¥æœ¬å²ä¸Šç¬¬ä¸€æ¬¡é‡å¤§çš„äººå£èˆ‡æ–‡åŒ–é©å‘½ï¼Œå…¶åŸºå› å¤§è¦æ¨¡åœ°èˆ‡ç¹©æ–‡äººèåˆï¼Œå¥ å®šäº†ç¾ä»£æ—¥æœ¬äººçš„åŸºç¤ã€‚', keywords: ['æ°´ç¨»è¾²æ¥­', 'é‡‘å±¬å™¨', 'å¤§é™¸ç§»æ°‘', 'ç’°æ¿ èšè½', 'éšç´šåˆ†åŒ–', 'æœé®®åŠå³¶'] },
                            kofun: { title: 'å¤å¢³äººï¼šåœ‹å®¶é›é€ ', period: 'ç´„å…¬å…ƒ300å¹´ â€“ 710å¹´', description: 'éš¨è‘—å¤§å’Œæ”¿æ¬Šçš„å´›èµ·ï¼Œæ—¥æœ¬è¿ä¾†äº†ç¬¬ä¸‰æ³¢ï¼Œä¹Ÿæ˜¯è¦æ¨¡æœ€å¤§çš„ä¸€æ³¢å¤§é™¸ç§»æ°‘æ½®ã€‚é€™äº›èˆ‡å¤ä»£æ¼¢æ—æœ‰è‘—ç·Šå¯†éºå‚³é—œè¯çš„æ–°ç§»æ°‘ï¼Œå¸¶ä¾†äº†å…ˆé€²çš„æŠ€è¡“èˆ‡åˆ¶åº¦ï¼Œæ¨å‹•äº†æ—¥æœ¬ä¸­å¤®é›†æ¬Šåœ‹å®¶çš„å½¢æˆï¼Œå…¶åŸºå› è²¢ç»ä½”ç¾ä»£æ—¥æœ¬äººç¸½åŸºå› åº«çš„70%ä»¥ä¸Šã€‚', keywords: ['åœ‹å®¶å½¢æˆ', 'å‰æ–¹å¾Œåœ“å¢³', 'å¤§å’Œæ”¿æ¬Š', 'æ¼¢æ—ç›¸é—œ', 'ç¬¬ä¸‰æ³¢ç§»æ°‘', 'æ–‡å­—å‚³å…¥'] }
                        }
                    },
                    genetics: {
                        title: 'ç¾ä»£æ—¥æœ¬äººçš„éºå‚³åœ°åœ–',
                        intro: 'åŸºå› ç§‘å­¸ç‚ºæˆ‘å€‘æä¾›äº†æ±ºå®šæ€§çš„é‡åŒ–ç­”æ¡ˆã€‚åœ¨æœ¬ç¯€ä¸­ï¼Œæ‚¨å°‡é€éäº’å‹•åœ–è¡¨ï¼Œæ¢ç´¢ä¸‰å€‹ç¥–æºå¦‚ä½•åœ¨ç¾ä»£æ—¥æœ¬äººç¾¤ä¸­åˆ†ä½ˆï¼Œä¸¦é€éé»æ“ŠæŒ‰éˆ•ï¼Œäº†è§£ã€Œæœ¬åœŸã€ã€ã€Œç‰çƒã€èˆ‡ã€Œæ„›åŠªã€ä¸‰å¤§ç¾¤é«”ä¹‹é–“çš„é¡¯è‘—éºå‚³å·®ç•°ã€‚',
                        buttons: { mainland: 'æœ¬åœŸ', ryukyuan: 'ç‰çƒ', ainu: 'æ„›åŠª' },
                        chartData: {
                            mainland: { labels: ['å¤§é™¸ç§»æ°‘å¾Œè£” (å½Œç”Ÿ/å¤å¢³)', 'ç¹©æ–‡äººå¾Œè£”'], data: [87, 13], colors: ['#8AA5D1', '#D1A08A'], text: 'ç”Ÿæ´»åœ¨æ—¥æœ¬æœ¬åœŸçš„å¤§å’Œæ°‘æ—ï¼Œå…¶åŸºå› ç´„æœ‰ <b>87-91%</b> ä¾†è‡ªå¤§é™¸ç§»æ°‘ï¼ˆå½Œç”Ÿèˆ‡å¤å¢³æ™‚ä»£ï¼‰ï¼Œè€Œå¤è€çš„ç¹©æ–‡äººåŸºå› å‰‡ç´„ä½” <b>9-13%</b>ã€‚é€™æ˜¯æ§‹æˆç¾ä»£æ—¥æœ¬äººçš„åŸºæœ¬ç›¤ã€‚' },
                            ryukyuan: { labels: ['å¤§é™¸ç§»æ°‘å¾Œè£” (å½Œç”Ÿ/å¤å¢³)', 'ç¹©æ–‡äººå¾Œè£”'], data: [70, 30], colors: ['#8AA5D1', '#D1A08A'], text: 'ä½æ–¼æ—¥æœ¬å—ç«¯çš„ç‰çƒäººï¼ˆæ²–ç¹©ï¼‰ï¼Œä¿ç•™äº†æ›´é«˜æ¯”ä¾‹çš„ç¹©æ–‡åŸºå› ï¼Œç´„ä½” <b>28-30%</b>ã€‚é€™åæ˜ äº†å¤§é™¸ç§»æ°‘çš„å½±éŸ¿åŠ›ç”±ä¸­å¿ƒå‘é‚Šç·£éæ¸›çš„æ­·å²éç¨‹ã€‚' },
                            ainu: { labels: ['å¤§é™¸ç§»æ°‘å¾Œè£” (å½Œç”Ÿ/å¤å¢³)', 'ç¹©æ–‡äººå¾Œè£”'], data: [30, 70], colors: ['#8AA5D1', '#D1A08A'], text: 'å±…ä½åœ¨åŒ—æµ·é“çš„æ„›åŠªäººæ˜¯ç¹©æ–‡äººæœ€ç›´æ¥çš„å¾Œè£”ï¼Œå…¶åŸºå› ä¸­ç¹©æ–‡æˆåˆ†é«˜é”ç´„ <b>70%</b>ã€‚ä»–å€‘æ˜¯ç ”ç©¶ç¹©æ–‡äººéºå‚³ç‰¹å¾µçš„çè²´çª—å£ã€‚' }
                        }
                    },
                    culture: {
                        title: 'èªè¨€èˆ‡æ–‡åŒ–ï¼šå½±éŸ¿ vs. ç¥–æº',
                        intro: 'éºå‚³ä¸Šçš„ç¥–å…ˆèˆ‡æ–‡åŒ–ä¸Šçš„å½±éŸ¿æ˜¯å…©å€‹ä¸åŒçš„æ¦‚å¿µã€‚æ—¥æœ¬æ·±å—ä¸­è¯æ–‡æ˜å½±éŸ¿ï¼Œä½†å…¶æ ¸å¿ƒçš„èªè¨€çµæ§‹å»æ­ç¤ºäº†ä¸åŒçš„èµ·æºã€‚æœ¬ç¯€å°‡é€éç›´è§€çš„æ¯”è¼ƒï¼Œå¹«åŠ©æ‚¨å€åˆ†å€Ÿä¾†çš„æ–‡åŒ–å¤–è¡£èˆ‡å…§åœ¨çš„èªè¨€æ ¸å¿ƒã€‚',
                        content: `<div class="grid md:grid-cols-2 gap-8">
                            <div class="card p-6 flex flex-col"><h3 class="text-xl font-bold mb-4">ğŸ—£ï¸ èªè¨€çš„æ ¹æœ¬å·®ç•°</h3><p class="mb-4 text-gray-600">æ—¥èªèˆ‡æ¼¢èªçš„èªæ³•çµæ§‹å®Œå…¨ä¸åŒã€‚æ—¥èªæ˜¯ã€Œä¸»-è³“-è¬‚ã€(SOV) çµæ§‹ï¼Œè€Œæ¼¢èªæ˜¯ã€Œä¸»-è¬‚-è³“ã€(SVO) çµæ§‹ã€‚é€™ç¨®æ ¸å¿ƒå·®ç•°è¡¨æ˜ï¼Œå¸¶ä¾†æ—¥èªçš„ç§»æ°‘ç¾¤é«”ï¼Œå…¶èªè¨€èˆ‡æ¼¢èªæ—©å·²åˆ†é“æšé‘£ã€‚</p><div class="space-y-4 mt-auto"><div><p class="font-semibold">æ—¥èª (SOV):</p><div class="flex flex-wrap gap-2 text-sm"><span class="p-2 rounded bg-sky-200 text-sky-800">ç§ ã¯ (ä¸»èª)</span><span class="p-2 rounded bg-amber-200 text-amber-800">å¯¿å¸ ã‚’ (è³“èª)</span><span class="p-2 rounded bg-rose-200 text-rose-800">é£Ÿã¹ã‚‹ (è¬‚èª)</span></div></div><div><p class="font-semibold">æ¼¢èª (SVO):</p><div class="flex flex-wrap gap-2 text-sm"><span class="p-2 rounded bg-sky-200 text-sky-800">æˆ‘ (ä¸»èª)</span><span class="p-2 rounded bg-rose-200 text-rose-800">åƒ (è¬‚èª)</span><span class="p-2 rounded bg-amber-200 text-amber-800">å£½å¸ (è³“èª)</span></div></div></div></div>
                            <div class="card p-6 flex flex-col"><h3 class="text-xl font-bold mb-4">âœï¸ æ–‡åŒ–çš„å€Ÿç”¨èˆ‡å‰µæ–°</h3><p class="mb-4 text-gray-600">æ—¥æœ¬å¤§é‡å€Ÿç”¨äº†ä¸­åœ‹çš„æ¼¢å­—ï¼Œä½†ç‚ºäº†é©æ‡‰è‡ªèº«å®Œå…¨ä¸åŒçš„èªæ³•ï¼Œä»–å€‘ä¸¦éå…¨ç›¤ç…§æ¬ï¼Œè€Œæ˜¯å‰µæ–°åœ°å¾æ¼¢å­—çš„è‰æ›¸å’Œæ¥·æ›¸ä¸­ï¼Œç°¡åŒ–å‰µé€ å‡ºè¡¨éŸ³çš„ã€Œå¹³å‡åã€èˆ‡ã€Œç‰‡å‡åã€ã€‚é€™æ˜¯æ–‡åŒ–é©æ‡‰è€Œéè¢«å–ä»£çš„å…¸ç¯„ã€‚</p><div class="text-center mt-auto"><span class="text-6xl font-serif">å®‰</span><span class="text-4xl mx-4 text-gray-400">â”</span><span class="text-6xl font-serif">ã‚</span></div><p class="text-center text-sm text-gray-500 mt-2">æ¼¢å­—ã€Œå®‰ã€çš„è‰æ›¸æ¼”è®Šç‚ºå¹³å‡åã€Œã‚ã€(a)ã€‚</p></div></div>
                        </div>`
                    },
                    conclusion: {
                        title: 'æœ€çµ‚çµè«–ï¼šä¸€å€‹è¤‡é›œå•é¡Œçš„ç´°ç·»å›ç­”',
                        intro: 'ç¶œåˆæ‰€æœ‰è­‰æ“šï¼Œæˆ‘å€‘å¯ä»¥å°ã€Œæ—¥æœ¬äººç¥–å…ˆæ˜¯å¦ç‚ºä¸­åœ‹äººï¼Ÿã€é€™å€‹å•é¡Œçµ¦å‡ºä¸€å€‹ç§‘å­¸ã€åš´è¬¹ä¸”ç´°ç·»çš„å›ç­”ã€‚ç­”æ¡ˆæ—¢éç°¡å–®çš„æ˜¯ï¼Œä¹Ÿéç°¡å–®çš„å¦ã€‚',
                        content: `<div class="card p-8 bg-white max-w-4xl mx-auto"><p class="text-lg mb-4">ç¾ä»£æ—¥æœ¬äººæ˜¯ä¸€å€‹ä»¥ä¾†è‡ªäºæ´²å¤§é™¸çš„ç§»æ°‘å¾Œè£”ç‚ºä¸»é«”ï¼Œèåˆäº†å°‘é‡å¤è€åŸä½æ°‘åŸºå› ï¼Œä¸¦åœ¨æ±äºå³¶å¶¼çš„ç¨ç‰¹ç’°å¢ƒä¸­æœ€çµ‚å½¢æˆçš„ã€å…·æœ‰è‡ªèº«é®®æ˜ç‰¹å¾µçš„æ±äºæ°‘æ—ã€‚</p><ul class="space-y-3 text-gray-700 list-disc list-inside"><li><strong class="font-semibold">ä¸»è¦è¡€è„ˆæºæ–¼å¤§é™¸ï¼š</strong> å¾éºå‚³å­¸çœ‹ï¼Œç´„90%çš„æ—¥æœ¬äººåŸºå› ä¾†è‡ªå½Œç”Ÿèˆ‡å¤å¢³æ™‚ä»£çš„å…©æ³¢å¤§é™¸ç§»æ°‘ï¼Œå…¶æœ€çµ‚æºé ­å¯è¿½æº¯è‡³ä»Šæ—¥ä¸­åœ‹å¢ƒå…§çš„ä¸åŒå¤ä»£äººç¾¤ã€‚</li><li><strong class="font-semibold">ã€Œä¸­åœ‹äººã€æ¨™ç±¤ä¸æº–ç¢ºï¼š</strong> ç”¨ç¾ä»£åœ‹æ—æ¦‚å¿µå»æ¨™ç±¤å¤ä»£äººç¾¤æ˜¯æ™‚ä»£éŒ¯ç½®ã€‚é€™äº›ç§»æ°‘åœ¨æŠµé”æ—¥æœ¬å‰ï¼Œå·²åœ¨æœé®®åŠå³¶ç­‰åœ°ç¶“æ­·äº†æ··åˆèˆ‡æ¼”åŒ–ï¼Œä¸¦éç¾ä»£æ„ç¾©ä¸Šçš„ã€Œä¸­åœ‹äººã€ã€‚</li><li><strong class="font-semibold">ç¨ç‰¹çš„ç¹©æ–‡äººåŸºçŸ³ï¼š</strong> æ—¥æœ¬åˆ—å³¶åœŸè‘—çš„ç¹©æ–‡äººè²¢ç»äº†ç´„10%çš„åŸºå› ï¼Œé€™å€‹ç¨ç‰¹çš„éºå‚³æˆåˆ†æ˜¯æ—¥æœ¬äººèˆ‡å…¶ä»–æ±äºæ°‘æ—å€åˆ†é–‹ä¾†çš„é—œéµä¹‹ä¸€ã€‚</li><li><strong class="font-semibold">æ—¥æœ¬åˆ—å³¶æ˜¯å¡‘é€ ä¹‹åœ°ï¼š</strong> ç„¡è«–ç¥–å…ˆä¾†è‡ªä½•æ–¹ï¼Œã€Œæ—¥æœ¬äººã€é€™å€‹æ°‘æ—æ˜¯åœ¨æ—¥æœ¬åˆ—å³¶çš„åœŸåœ°ä¸Šï¼Œç¶“éç¨ç‰¹çš„èåˆèˆ‡åƒå¹´æ¼”åŒ–æ‰æœ€çµ‚å½¢æˆçš„ã€‚</li></ul><div class="mt-6 pt-6 border-t border-gray-200 text-center"><p class="font-bold text-xl text-gray-800">å› æ­¤ï¼Œæœ€æº–ç¢ºçš„èªªæ³•æ˜¯ï¼šæ—¥æœ¬äººçš„ä¸»è¦ç¥–å…ˆä¾†è‡ªäºæ´²å¤§é™¸ï¼Œä½†æ—¥æœ¬äººä¸¦éä¸­åœ‹äººã€‚</p></div></div>`
                    }
                }
            },
            en: {
                title: "The Mystery of Japanese Origins",
                subtitle: "An Interactive Journey of Discovery",
                nav: [
                    { id: 'overview', name: 'Overview' },
                    { id: 'ancestries', name: 'The Three Ancestries' },
                    { id: 'genetics', name: 'Genetic Map' },
                    { id: 'culture', name: 'Language & Culture' },
                    { id: 'conclusion', name: 'Conclusion' }
                ],
                pages: {
                    overview: {
                        title: "Solving the Puzzle: The Triple Structure Model",
                        intro: "Modern Japanese people are not of a single origin. The scientific consensus, the 'Triple Structure Model,' indicates that the Japanese are a composite population formed through a long process of admixture between three ancient ancestral groups that arrived on the archipelago at different times. This section unveils this core concept to begin our exploration.",
                        content: `<div class="grid md:grid-cols-3 gap-6 text-center">
                            <div class="card p-6 flex flex-col"><div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-[#FBEADC] text-3xl">â›°ï¸</div><h3 class="text-xl font-bold mb-2 text-[#9C5F27]">First Layer: The Jomon</h3><p class="text-gray-600 text-sm">The indigenous hunter-gatherers of the Japanese archipelago, genetically distinct and an indispensable ancient foundation of the Japanese gene pool.</p></div>
                            <div class="card p-6 flex flex-col"><div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-[#E2F0D9] text-3xl">ğŸŒ¾</div><h3 class="text-xl font-bold mb-2 text-[#376F2D]">Second Layer: The Yayoi</h3><p class="text-gray-600 text-sm">Migrants from the continent who brought wet-rice farming and metallurgy, fundamentally transforming Japan's social and economic structure.</p></div>
                            <div class="card p-6 flex flex-col"><div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-[#E0E7FF] text-3xl">ğŸ›ï¸</div><h3 class="text-xl font-bold mb-2 text-[#3730A3]">Third Layer: The Kofun</h3><p class="text-gray-600 text-sm">Large-scale migrants associated with state formation, who laid the foundation for the Yamato polity and became the primary component of the modern Japanese gene pool.</p></div>
                        </div>`
                    },
                    ancestries: {
                        title: "Exploring the Three Ancestries",
                        intro: "Each of the three ancestral groups that constitute the Japanese people had its own unique culture, technology, and history. Here, you can click the buttons below to delve into the lives of the Jomon, Yayoi, and Kofun people, learning how they lived and what legacies they left behind.",
                        buttons: [
                            { id: 'jomon', name: 'The Jomon', color: 'bg-[#FBEADC] text-[#9C5F27] hover:bg-[#F8DCC1]' },
                            { id: 'yayoi', name: 'The Yayoi', color: 'bg-[#E2F0D9] text-[#376F2D] hover:bg-[#D4E8C9]' },
                            { id: 'kofun', name: 'The Kofun', color: 'bg-[#E0E7FF] text-[#3730A3] hover:bg-[#C7D2FE]' }
                        ],
                        content: {
                            jomon: { title: 'The Jomon: Indigenous Foundation', period: 'c. 16,000 BCE â€“ 900 BCE', description: 'The Jomon were the earliest inhabitants of the Japanese archipelago. They developed some of the world\'s oldest pottery and created a prosperous, complex, sedentary hunter-gatherer culture without agriculture. Their genetic lineage evolved independently for millennia after separation from the continent, forming a unique gene pool.', keywords: ['Hunter-gatherer', 'Jomon Pottery', 'Sedentism', 'Shell Mounds', 'Dogu Figurines', 'Paleo-Mongoloid'] },
                            yayoi: { title: 'The Yayoi: The Agricultural Wave', period: 'c. 900 BCE â€“ 300 CE', description: 'About 3,000 years ago, "Toraijin" (migrants) from the Asian continent arrived via the Korean peninsula, bringing with them wet-rice cultivation and metallurgy. They triggered the first major demographic and cultural revolution in Japanese history, and their genes extensively mixed with the Jomon, laying the foundation for the modern Japanese people.', keywords: ['Wet-rice Farming', 'Metallurgy', 'Continental Migrants', 'Moated Settlements', 'Social Stratification', 'Korean Peninsula'] },
                            kofun: { title: 'The Kofun: Forging a State', period: 'c. 300 CE â€“ 710 CE', description: 'With the rise of the Yamato polity, Japan experienced its third and largest wave of continental migration. These new immigrants, who had close genetic ties to ancient Han Chinese populations, brought advanced technology and institutions, driving the formation of a centralized state. Their genetic contribution accounts for over 70% of the modern Japanese gene pool.', keywords: ['State Formation', 'Keyhole Tombs', 'Yamato Polity', 'Han-related', 'Third Wave Migration', 'Writing System'] }
                        }
                    },
                    genetics: {
                        title: 'Genetic Map of Modern Japanese',
                        intro: 'Genetic science provides us with decisive, quantitative answers. In this section, explore how the three ancestral sources are distributed among modern Japanese populations through an interactive chart. Click the buttons to understand the significant genetic differences among the "Mainland," "Ryukyuan," and "Ainu" groups.',
                        buttons: { mainland: 'Mainland', ryukyuan: 'Ryukyuan', ainu: 'Ainu' },
                        chartData: {
                            mainland: { labels: ['Continental Migrant Ancestry (Yayoi/Kofun)', 'Jomon Ancestry'], data: [87, 13], colors: ['#8AA5D1', '#D1A08A'], text: 'The Yamato people living on the main islands of Japan have about <b>87-91%</b> of their genes from continental migrants (Yayoi and Kofun periods), while the ancient Jomon genetic component is about <b>9-13%</b>. This is the basic profile of modern Japanese.' },
                            ryukyuan: { labels: ['Continental Migrant Ancestry (Yayoi/Kofun)', 'Jomon Ancestry'], data: [70, 30], colors: ['#8AA5D1', '#D1A08A'], text: 'The Ryukyuan people (Okinawa) in southern Japan retain a higher proportion of Jomon ancestry, at about <b>28-30%</b>. This reflects the historical process where the influence of continental migrants decreased from the center to the periphery.' },
                            ainu: { labels: ['Continental Migrant Ancestry (Yayoi/Kofun)', 'Jomon Ancestry'], data: [30, 70], colors: ['#8AA5D1', '#D1A08A'], text: 'The Ainu people of Hokkaido are the most direct descendants of the Jomon, with their Jomon genetic component reaching about <b>70%</b>. They are a precious window into the genetic characteristics of the Jomon people.' }
                        }
                    },
                    culture: {
                        title: 'Language & Culture: Influence vs. Origin',
                        intro: 'Genetic ancestry and cultural influence are two different concepts. Japan was heavily influenced by Chinese civilization, but its core linguistic structure reveals a different origin. This section will help you distinguish between the borrowed cultural "clothing" and the inherent linguistic core through direct comparison.',
                        content: `<div class="grid md:grid-cols-2 gap-8">
                            <div class="card p-6 flex flex-col"><h3 class="text-xl font-bold mb-4">ğŸ—£ï¸ Fundamental Language Difference</h3><p class="mb-4 text-gray-600">The grammatical structures of Japanese and Chinese are completely different. Japanese is a Subject-Object-Verb (SOV) language, while Chinese is Subject-Verb-Object (SVO). This core difference indicates that the language of the migrant groups who brought Japanese had long diverged from Chinese.</p><div class="space-y-4 mt-auto"><div><p class="font-semibold">Japanese (SOV):</p><div class="flex flex-wrap gap-2 text-sm"><span class="p-2 rounded bg-sky-200 text-sky-800">I (Subject)</span><span class="p-2 rounded bg-amber-200 text-amber-800">sushi (Object)</span><span class="p-2 rounded bg-rose-200 text-rose-800">eat (Verb)</span></div></div><div><p class="font-semibold">Chinese (SVO):</p><div class="flex flex-wrap gap-2 text-sm"><span class="p-2 rounded bg-sky-200 text-sky-800">I (Subject)</span><span class="p-2 rounded bg-rose-200 text-rose-800">eat (Verb)</span><span class="p-2 rounded bg-amber-200 text-amber-800">sushi (Object)</span></div></div></div></div>
                            <div class="card p-6 flex flex-col"><h3 class="text-xl font-bold mb-4">âœï¸ Cultural Borrowing and Innovation</h3><p class="mb-4 text-gray-600">Japan borrowed Chinese characters (Kanji) extensively. However, to adapt them to their completely different grammar, they didn't just copy them wholesale. Instead, they innovatively simplified the cursive and regular scripts of Kanji to create the phonetic scripts of 'Hiragana' and 'Katakana'. This is a prime example of cultural adaptation, not replacement.</p><div class="text-center mt-auto"><span class="text-6xl font-serif">å®‰</span><span class="text-4xl mx-4 text-gray-400">â”</span><span class="text-6xl font-serif">ã‚</span></div><p class="text-center text-sm text-gray-500 mt-2">The cursive form of the Kanji 'å®‰' (an) evolved into Hiragana 'ã‚' (a).</p></div></div>
                        </div>`
                    },
                    conclusion: {
                        title: 'Conclusion: A Nuanced Answer to a Complex Question',
                        intro: 'Synthesizing all the evidence, we can provide a scientific, rigorous, and nuanced answer to the question, "Are the ancestors of the Japanese people Chinese?" The answer is neither a simple yes nor a simple no.',
                        content: `<div class="card p-8 bg-white max-w-4xl mx-auto"><p class="text-lg mb-4">The modern Japanese are an East Asian ethnic group, primarily composed of descendants of migrants from the Asian continent, who assimilated a smaller proportion of ancient indigenous genes, and were ultimately forged in the unique environment of the East Asian archipelago, possessing their own distinct characteristics.</p><ul class="space-y-3 text-gray-700 list-disc list-inside"><li><strong class="font-semibold">Main Ancestry from the Continent:</strong> Genetically, about 90% of Japanese genes come from two waves of continental migrants during the Yayoi and Kofun periods, whose ultimate origins can be traced back to various ancient populations within present-day China.</li><li><strong class="font-semibold">"Chinese" Label is Inaccurate:</strong> Labeling ancient peoples with modern national concepts is anachronistic. These migrants had already undergone mixture and evolution on the Korean peninsula and elsewhere before arriving in Japan, and were not "Chinese" in the modern sense.</li><li><strong class="font-semibold">Unique Jomon Foundation:</strong> The indigenous Jomon people of the Japanese archipelago contributed about 10% of the genes, a unique genetic component that is one of the key distinctions between Japanese and other East Asian populations.</li><li><strong class="font-semibold">The Japanese Archipelago as the Crucible:</strong> Regardless of where their ancestors came from, the "Japanese" people were ultimately formed on the land of the Japanese islands through a unique process of fusion and millennia of evolution.</li></ul><div class="mt-6 pt-6 border-t border-gray-200 text-center"><p class="font-bold text-xl text-gray-800">Therefore, the most accurate statement is: The main ancestors of the Japanese people came from the Asian continent, but the Japanese are not Chinese.</p></div></div>`
                    }
                }
            }
        };

        function renderPage(pageId) {
            const pageData = contentData[currentLang].pages[pageId];
            const contentContainer = document.getElementById('content-container');
            
            let contentHTML = `
                <section id="${pageId}" class="py-8 animate-fade-in">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold text-gray-800">${pageData.title}</h2>
                        <p class="mt-2 text-gray-600 max-w-2xl mx-auto">${pageData.intro}</p>
                    </div>
            `;

            if (pageId === 'ancestries') {
                contentHTML += `<div class="flex justify-center space-x-4 mb-8">`;
                pageData.buttons.forEach(btn => {
                    contentHTML += `<button onclick="showAncestryInfo('${btn.id}')" id="btn-${btn.id}" class="ancestry-btn transition-all duration-300 px-6 py-3 rounded-full font-bold text-lg ${btn.color}">${btn.name}</button>`;
                });
                contentHTML += `</div><div id="ancestry-content"></div>`;
            } else if (pageId === 'genetics') {
                const buttons = pageData.buttons;
                contentHTML += `
                    <div class="grid md:grid-cols-5 gap-8 items-center">
                        <div class="md:col-span-2">
                            <div class="chart-container">
                                <canvas id="genetics-chart"></canvas>
                            </div>
                        </div>
                        <div class="md:col-span-3">
                            <div class="flex justify-center md:justify-start space-x-3 mb-4">
                                <button onclick="updateChart('mainland')" id="btn-mainland" class="px-4 py-2 text-sm font-semibold rounded-full bg-gray-200 transition">${buttons.mainland}</button>
                                <button onclick="updateChart('ryukyuan')" id="btn-ryukyuan" class="px-4 py-2 text-sm font-semibold rounded-full bg-gray-200 transition">${buttons.ryukyuan}</button>
                                <button onclick="updateChart('ainu')" id="btn-ainu" class="px-4 py-2 text-sm font-semibold rounded-full bg-gray-200 transition">${buttons.ainu}</button>
                            </div>
                            <div id="genetics-text" class="card p-6"></div>
                        </div>
                    </div>
                `;
            } else {
                contentHTML += pageData.content;
            }

            contentHTML += `</section>`;
            contentContainer.innerHTML = contentHTML;

            // Post-render actions
            if (pageId === 'ancestries') {
                showAncestryInfo('jomon');
            }
            if (pageId === 'genetics') {
                initChart();
            }
            updateActiveNav(pageId);
        }
        
        function showAncestryInfo(ancestryId) {
            const content = contentData[currentLang].pages.ancestries.content[ancestryId];
            const container = document.getElementById('ancestry-content');
            let keywordsHTML = '';
            content.keywords.forEach(kw => {
                keywordsHTML += `<span class="keyword ${ancestryId}-keyword">${kw}</span>`;
            });
            container.innerHTML = `
                <div class="card max-w-2xl mx-auto p-8 animate-fade-in">
                    <p class="text-sm text-gray-500 mb-2">${content.period}</p>
                    <h3 class="text-2xl font-bold mb-4">${content.title}</h3>
                    <p class="text-gray-700 mb-6">${content.description}</p>
                    <div>${keywordsHTML}</div>
                </div>
            `;
            
            document.querySelectorAll('.ancestry-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`btn-${ancestryId}`).classList.add('active');
        }

        function initChart() {
            if (currentChart) {
                currentChart.destroy();
            }
            const ctx = document.getElementById('genetics-chart').getContext('2d');
            const pageContent = contentData[currentLang].pages.genetics;
            
            currentChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [], // Will be updated by updateChart
                    datasets: [{
                        data: [], // Will be updated by updateChart
                        backgroundColor: [], // Will be updated by updateChart
                        borderColor: '#F8F7F4',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14,
                                    family: "'Inter', 'Noto Sans TC', sans-serif"
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.raw}%`;
                                }
                            }
                        }
                    }
                }
            });
            updateChart('mainland');
        }
        
        function updateChart(regionId) {
            if (currentChart) {
                const data = contentData[currentLang].pages.genetics.chartData[regionId];
                currentChart.data.labels = data.labels;
                currentChart.data.datasets[0].data = data.data;
                currentChart.data.datasets[0].backgroundColor = data.colors;
                currentChart.update();
                
                document.getElementById('genetics-text').innerHTML = `<p>${data.text}</p>`;
                
                document.querySelectorAll('#genetics button').forEach(b => {
                    b.classList.remove('bg-gray-800', 'text-white');
                    b.classList.add('bg-gray-200');
                });
                const activeButton = document.getElementById(`btn-${regionId}`);
                activeButton.classList.add('bg-gray-800', 'text-white');
                activeButton.classList.remove('bg-gray-200');
            }
        }
        
        function updateActiveNav(pageId) {
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active', 'text-gray-900', 'font-bold');
                if(btn.dataset.page === pageId) {
                    btn.classList.add('active', 'text-gray-900', 'font-bold');
                }
            });
        }
        
        function updateGlobalText() {
            const data = contentData[currentLang];
            document.getElementById('html-lang').lang = currentLang === 'zh' ? 'zh-Hant' : 'en';
            document.title = data.title;
            document.getElementById('main-title').textContent = data.title;
            document.getElementById('main-subtitle').textContent = data.subtitle;
        }

        function initNav() {
            const navContainer = document.getElementById('nav-container');
            navContainer.innerHTML = ''; // Clear previous nav
            const navData = contentData[currentLang].nav;
            navData.forEach(item => {
                const btn = document.createElement('button');
                btn.textContent = item.name;
                btn.dataset.page = item.id;
                btn.className = 'nav-button';
                btn.onclick = () => renderPage(item.id);
                navContainer.appendChild(btn);
            });
        }

        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            const activeNavButton = document.querySelector('.nav-button.active');
            const activePageId = activeNavButton ? activeNavButton.dataset.page : 'overview';
            
            // Re-render everything
            updateGlobalText();
            initNav();
            renderPage(activePageId);
        }

        window.onload = () => {
            document.getElementById('lang-toggle-btn').addEventListener('click', toggleLanguage);
            
            // Initial render
            updateGlobalText();
            initNav();
            renderPage('overview');
        };
    </script>
</body>
</html>
