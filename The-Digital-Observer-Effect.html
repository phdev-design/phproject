<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenPoseË¶ñËßíÂΩ±ÈüøÂàÜÊûêÂúñ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .gradient-text {
            background: linear-gradient(to right, #0a9396, #005f73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <button id="lang-toggle" class="fixed top-4 right-4 bg-[#005f73] text-white px-4 py-2 rounded-lg shadow-lg z-50 hover:bg-[#0a9396] transition-colors">
        English
    </button>

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-12">
            <h1 id="main-title" class="text-4xl md:text-5xl font-bold mb-2 gradient-text"></h1>
            <p id="subtitle" class="text-lg md:text-xl text-slate-600"></p>
        </header>

        <main class="space-y-12">

            <section id="how-it-works" class="bg-white p-6 rounded-xl shadow-lg">
                <h2 id="how-it-works-title" class="text-2xl font-bold text-center mb-6 text-[#005f73]"></h2>
                <p id="how-it-works-desc" class="text-center text-slate-600 max-w-3xl mx-auto mb-8"></p>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4">
                    <div class="text-center p-4 bg-slate-100 rounded-lg w-full md:w-1/4">
                        <div class="text-4xl mb-2">üñºÔ∏è</div>
                        <h3 id="step1-title" class="font-bold text-[#0a9396]"></h3>
                        <p id="step1-desc" class="text-sm text-slate-500"></p>
                    </div>
                    <div class="text-2xl text-slate-400">‚Üí</div>
                    <div class="text-center p-4 bg-slate-100 rounded-lg w-full md:w-1/4">
                        <div class="text-4xl mb-2">üìç</div>
                        <h3 id="step2-title" class="font-bold text-[#0a9396]"></h3>
                        <p id="step2-desc" class="text-sm text-slate-500"></p>
                    </div>
                    <div class="text-2xl text-slate-400">‚Üí</div>
                    <div class="text-center p-4 bg-slate-100 rounded-lg w-full md:w-1/4">
                        <div class="text-4xl mb-2">üîó</div>
                        <h3 id="step3-title" class="font-bold text-[#0a9396]"></h3>
                        <p id="step3-desc" class="text-sm text-slate-500"></p>
                    </div>
                    <div class="text-2xl text-slate-400">‚Üí</div>
                    <div class="text-center p-4 bg-slate-100 rounded-lg w-full md:w-1/4">
                        <div class="text-4xl mb-2">üèÉ</div>
                        <h3 id="step4-title" class="font-bold text-[#0a9396]"></h3>
                        <p id="step4-desc" class="text-sm text-slate-500"></p>
                    </div>
                </div>
            </section>

            <section id="errors" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 id="error1-title" class="text-xl font-bold text-center mb-4 text-[#005f73]"></h3>
                    <p id="error1-desc" class="text-slate-600 mb-4 text-center"></p>
                    <div class="w-full h-40 bg-slate-100 rounded-lg flex items-center justify-center p-4">
                        <div class="relative w-full h-full flex items-center justify-center">
                            <div class="absolute w-2/3 h-1 bg-[#94d2bd] top-1/2 left-0 transform -translate-y-1/2"></div>
                            <div class="absolute w-2/3 h-1 bg-[#ee9b00] top-1/2 left-0 origin-left transform -translate-y-1/2 rotate-[-45deg] scale-x-75"></div>
                            <div class="absolute w-1/3 h-1 bg-slate-400 top-1/2 left-0 origin-left transform -translate-y-1/2 -rotate-45"></div>
                            <div id="error1-label1" class="absolute text-sm text-[#005f73] top-1/2 left-0 -mt-8"></div>
                            <div id="error1-label2" class="absolute text-sm text-[#ca6702] top-1/2 left-0 mt-6"></div>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 id="error2-title" class="text-xl font-bold text-center mb-4 text-[#005f73]"></h3>
                    <p id="error2-desc" class="text-slate-600 mb-4 text-center"></p>
                    <div class="w-full h-40 bg-slate-100 rounded-lg flex items-center justify-center p-4">
                        <div class="relative w-full h-full">
                            <div class="absolute w-12 h-12 bg-[#94d2bd] rounded-full top-1/2 right-8 transform -translate-y-1/2"></div>
                            <div class="absolute w-20 h-20 bg-[#ee9b00] rounded-full top-1/2 left-8 transform -translate-y-1/2"></div>
                            <div id="error2-label1" class="absolute text-sm text-[#005f73] bottom-2 right-8"></div>
                            <div id="error2-label2" class="absolute text-sm text-[#ca6702] bottom-2 left-8"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="data-insights" class="bg-white p-6 rounded-xl shadow-lg">
                <h2 id="data-title" class="text-2xl font-bold text-center mb-8 text-[#005f73]"></h2>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                    <div class="lg:col-span-2">
                        <h3 id="chart1-title" class="text-xl font-bold text-center mb-4"></h3>
                        <p id="chart1-desc" class="text-center text-slate-600 mb-4"></p>
                        <div class="chart-container">
                            <canvas id="viewComparisonChart"></canvas>
                        </div>
                    </div>
                    <div class="text-center p-6 bg-slate-100 rounded-xl">
                        <h3 id="kpi1-title" class="text-xl font-bold mb-2"></h3>
                        <p id="kpi1-subtitle" class="text-slate-600 mb-4"></p>
                        <p class="text-6xl font-bold text-[#ae2012]">~29¬∞</p>
                        <p id="kpi1-desc" class="text-slate-600 mt-2"></p>
                    </div>
                </div>
                 <div class="mt-12">
                    <h3 id="chart2-title" class="text-xl font-bold text-center mb-4"></h3>
                    <p id="chart2-desc" class="text-center text-slate-600 mb-4"></p>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="jointVulnerabilityChart"></canvas>
                    </div>
                </div>
            </section>
            
            <section id="recommendations">
                <h2 id="recommendations-title" class="text-2xl font-bold text-center mb-8 text-[#005f73]"></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-[#0a9396]">
                        <h3 id="rec1-title" class="font-bold text-lg mb-2"></h3>
                        <p id="rec1-desc" class="text-slate-600"></p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-[#94d2bd]">
                        <h3 id="rec2-title" class="font-bold text-lg mb-2"></h3>
                        <p id="rec2-desc" class="text-slate-600"></p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-[#e9d8a6]">
                        <h3 id="rec3-title" class="font-bold text-lg mb-2"></h3>
                        <p id="rec3-desc" class="text-slate-600"></p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-[#ee9b00]">
                        <h3 id="rec4-title" class="font-bold text-lg mb-2"></h3>
                        <p id="rec4-desc" class="text-slate-600"></p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-[#ca6702]">
                        <h3 id="rec5-title" class="font-bold text-lg mb-2"></h3>
                        <p id="rec5-desc" class="text-slate-600"></p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-[#bb3e03]">
                        <h3 id="rec6-title" class="font-bold text-lg mb-2"></h3>
                        <p id="rec6-desc" class="text-slate-600"></p>
                    </div>
                </div>
            </section>

            <footer class="text-center pt-8 border-t border-slate-200">
                <h2 id="footer-title" class="text-2xl font-bold text-center mb-6 text-[#005f73]"></h2>
                <p id="footer-desc" class="text-slate-600 max-w-3xl mx-auto"></p>
            </footer>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {

            const translations = {
                'zh-TW': {
                    'lang-toggle': 'English',
                    'main-title': 'Êï∏‰ΩçËßÄÂØüËÄÖÊïàÊáâ',
                    'subtitle': 'Áõ∏Ê©üË¶ñËßíÂ¶Ç‰ΩïÊ±∫ÂÆöOpenPoseÈÅãÂãïÂàÜÊûêÁöÑÊ∫ñÁ¢∫ÊÄß',
                    'how-it-works-title': 'OpenPoseÂ¶Ç‰ΩïÁúãË¶ãÂãï‰ΩúÔºöÁî±‰∏ãËÄå‰∏äÁöÑË¶ñËßí',
                    'how-it-works-desc': 'OpenPose‰∏çÂÖàÊâæ‰∫∫ÔºåËÄåÊòØÂÖàÂÅµÊ∏¨ÂΩ±ÂÉè‰∏≠ÊâÄÊúâÁöÑË∫´È´îÈóúÈçµÈªûÔºåÁÑ∂ÂæåÂÉèÊãºÂúñ‰∏ÄÊ®£Â∞áÂÆÉÂÄëÁµÑÂêàÊàêÈ™®Êû∂„ÄÇÈÄôÂÄãÈ´òÊïàÁöÑÊñπÊ≥ïÈõñÁÑ∂Âø´Ôºå‰ΩÜ‰πü‰ΩøÂÖ∂Â∞çË¶ñËßíÈÄ†ÊàêÁöÑÈÅÆËîΩÂíåÂ§±ÁúüÊ•µÁÇ∫ÊïèÊÑü„ÄÇ',
                    'step1-title': '1. ÂΩ±ÂÉèËº∏ÂÖ•',
                    'step1-desc': 'ÂéüÂßãÂΩ±ÁâáÁï´Èù¢',
                    'step2-title': '2. ÂÅµÊ∏¨ÈóúÈçµÈªû',
                    'step2-desc': 'ÊâæÂá∫ÊâÄÊúâÊâãËÇò„ÄÅËÜùËìãÁ≠â',
                    'step3-title': '3. ÈóúËÅØËÇ¢ÊÆµ',
                    'step3-desc': 'Áî®PAFsÈÄ£Êé•ÈªûËàáÈªû',
                    'step4-title': '4. ÁµÑÊàêÈ™®Êû∂',
                    'step4-desc': 'Ëº∏Âá∫ÊúÄÁµÇ‰∫∫È´îÂßøÊÖã',
                    'error1-title': 'Á∏ÆÁü≠ÊïàÊáâ (Foreshortening)',
                    'error1-desc': 'ÊåáÂêëÊàñÈÅ†Èõ¢Áõ∏Ê©üÁöÑËÇ¢ÊÆµÔºåÂú®2DÂΩ±ÂÉè‰∏≠ÊúÉË¢´„ÄåÂ£ìÁ∏Æ„ÄçÔºåÁúãËµ∑‰æÜÊØîÂØ¶ÈöõÁü≠„ÄÇÈÄôÊúÉÁõ¥Êé•Êâ≠Êõ≤ÈóúÁØÄËßíÂ∫¶ÁöÑË®àÁÆóÔºåÂ∞á3DÊóãËΩâË™§Âà§ÁÇ∫2DÂ±àÊõ≤„ÄÇ',
                    'error1-label1': 'ÁúüÂØ¶3DËÇ¢ÊÆµ',
                    'error1-label2': '2DÊäïÂΩ± (ËÆäÁü≠)',
                    'error2-title': 'ÈÄèË¶ñÂ§±Áúü (Perspective Distortion)',
                    'error2-desc': 'Èù†ËøëÁõ∏Ê©üÁöÑÁâ©È´îÊúÉ‰∏çÊàêÊØî‰æãÂú∞ÊîæÂ§ß„ÄÇÂú®Ê∑±Ëπ≤ÊôÇÔºåÈù†ËøëÈè°È†≠ÁöÑËÜùËìãÂèØËÉΩÁúãËµ∑‰æÜÊØîËáÄÈÉ®Â§ßÔºåÂæûËÄåÊâ≠Êõ≤Êï¥ÂÄã‰∏ãËÇ¢ÁöÑÂπæ‰ΩïÈóú‰øÇ„ÄÇ',
                    'error2-label1': 'ÈÅ†Á´ØÁâ©È´î',
                    'error2-label2': 'ËøëÁ´ØÁâ©È´î(ÊîæÂ§ß)',
                    'data-title': 'ÈáèÂåñÂΩ±ÈüøÔºöÊï∏ÊìöÊÄéÈ∫ºË™™',
                    'chart1-title': '‰∏çÂêåË¶ñËßíÁöÑÊ∫ñÁ¢∫ÊÄßÊØîËºÉ (ICC)',
                    'chart1-desc': 'ÁµÑÂÖßÁõ∏Èóú‰øÇÊï∏(ICC)Ë°°Èáè‰∏ÄËá¥ÊÄßÔºåË∂äÈ´òË∂äÂ•Ω„ÄÇÊï∏ÊìöÈ°ØÁ§∫ÔºåÂæåË¶ñËßíÂú®Â§öÁ®ÆÈÅãÂãï‰∏≠Ë°®ÁèæÂá∫‰πéÊÑèÊñôÂú∞Á©©ÂÅ•ÔºåÂèØËÉΩÊòØÂõ†ÁÇ∫ÂÆÉËÉΩÊ∏õÂ∞ëÈóúÈçµÈªûÁöÑÈÅÆËîΩ„ÄÇ',
                    'kpi1-title': 'ËÇ©ÈóúÁØÄ',
                    'kpi1-subtitle': 'ÊåÅÁ∫åÁöÑÊåëÊà∞',
                    'kpi1-desc': 'Âú®Êüê‰∫õÈÅãÂãï‰∏≠ÔºåËÇ©ÈóúÁØÄÁöÑÂùáÊñπÊ†πË™§Â∑Æ(RMSE)ÂèØÈ´òÈÅîËøë30Â∫¶ÔºåÊòØÊâÄÊúâÈóúÁØÄ‰∏≠ÊúÄ‰∏çÁ©©ÂÆöÁöÑ„ÄÇ',
                    'chart2-title': 'ÈóúÁØÄÁöÑËÑÜÂº±ÊÄßÂàÜÊûê',
                    'chart2-desc': '‰∏çÂêåÈóúÁØÄÂ∞çË¶ñËßíËÆäÂåñÁöÑÊïèÊÑüÂ∫¶‰∏çÂêå„ÄÇËÇ©ÈóúÁØÄÂõ†ÂÖ∂È´òÂ∫¶Ëá™Áî±Â∫¶ËÄåÊúÄÊòìÂá∫ÈåØÔºåËÄåÁµêÊßãËºÉÁ∞°ÂñÆÁöÑËÜùÈóúÁØÄÂâáÁõ∏Â∞çÁ©©ÂÅ•„ÄÇ',
                    'recommendations-title': 'ÊúÄ‰Ω≥ÂØ¶Ë∏êÔºöÊï∏ÊìöÊé°ÈõÜÂçîË≠∞Ê™¢Êü•Ê∏ÖÂñÆ',
                    'rec1-title': '1. ÂÆöÁæ©‰∏ªË¶ÅÈÅãÂãïÂπ≥Èù¢',
                    'rec1-desc': 'ÂàÜÊûêÁöÑÂãï‰ΩúÊòØÁü¢ÁãÄÈù¢ÔºàÂ¶ÇË°åËµ∞ÔºâÈÇÑÊòØÈ°çÁãÄÈù¢ÔºàÂ¶ÇÂÅ¥Âπ≥ËàâÔºâÔºü',
                    'rec2-title': '2. ÈÅ∏ÊìáÊúÄ‰Ω≥ËßÄÂØüËßíÂ∫¶',
                    'rec2-desc': 'ÂÑ™ÂÖàÈÅ∏ÊìáËàáÈÅãÂãïÂπ≥Èù¢ÂûÇÁõ¥ÁöÑË¶ñËßí„ÄÇ**ÂæåË¶ñËßí**ÈÄöÂ∏∏ÊòØ‰∏ãËÇ¢ÈÅãÂãïÁöÑÁµï‰Ω≥ÈÅ∏Êìá„ÄÇ',
                    'rec3-title': '3. ËÄÉÊÖÆÁõ∏Ê©üÈ´òÂ∫¶ËàáË∑ùÈõ¢',
                    'rec3-desc': 'Ë™øÊï¥‰ΩçÁΩÆ‰ª•ÊúÄÂ∞èÂåñÈÅÆËîΩÔºåÂêåÊôÇÈÅøÂÖçÈÅéÈ´òÊàñÈÅé‰ΩéËßíÂ∫¶ÈÄ†ÊàêÁöÑÂö¥ÈáçÂ§±Áúü„ÄÇ',
                    'rec4-title': '4. Ê≥®ÊÑèÈè°È†≠ÈÅ∏Êìá',
                    'rec4-desc': 'ËøëË∑ùÈõ¢ÊãçÊîùÊôÇÈÅøÂÖç‰ΩøÁî®Âª£ËßíÈè°È†≠Ôºå‰ª•Ê∏õÂ∞ëÈÄèË¶ñÂ§±Áúü„ÄÇ',
                    'rec5-title': '5. È†êÂà§ÈÅÆËîΩÂïèÈ°å',
                    'rec5-desc': 'Á¢∫‰øùÈóúÈçµÈóúÁØÄÂú®Êï¥ÂÄãÈÅãÂãïÈÅéÁ®ã‰∏≠ÈÉΩÂèØË¶ãÔºåÁâπÂà•ÊòØÁü¢ÁãÄÈù¢Ë¶ñËßí‰∏ãÂ∞çÂÅ¥ËÇ¢È´îÁöÑÈÅÆËîΩ„ÄÇ',
                    'rec6-title': '6. ÊâøË™çÈóúÁØÄËÑÜÂº±ÊÄß',
                    'rec6-desc': 'Ëß£ËÆÄËÇ©ÈóúÁØÄÊï∏ÊìöÊôÇË¶ÅÊ†ºÂ§ñË¨πÊÖéÔºåÂÖ∂Ë™§Â∑ÆÁéáÊúÄÈ´ò„ÄÇ',
                    'footer-title': 'Êú™‰æÜÂ±ïÊúõÔºöÈÄöÂæÄË¶ñËßíÁÑ°ÈóúÁöÑÂàÜÊûê‰πãË∑Ø',
                    'footer-desc': 'Ë©≤È†òÂüüÁöÑÊú™‰æÜÂú®ÊñºÈñãÁôºËÉΩÂæû‰ªª‰ΩïË¶ñËßíÊ∫ñÁ¢∫ÁêÜËß£‰∫∫È´îÂßøÊÖãÁöÑ„ÄåË¶ñËßí‰∏çËÆä„ÄçÊ®°Âûã„ÄÇÈÄôÂ∞áÊääÁÑ°Ê®ôË®òÈªûÂãïÊçïÊäÄË°ìÂæûÂèóÈôêÁöÑÂØ¶È©óÂÆ§Â∑•ÂÖ∑ÔºåËΩâËÆäÁÇ∫ÂèØÂú®‰ªª‰ΩïÁèæÂØ¶Áí∞Â¢É‰∏≠‰ΩøÁî®ÁöÑÊôÆÈÅ©ÊÄßÊñπÊ≥ï„ÄÇ',
                    'chart1-x-axis': 'ÁµÑÂÖßÁõ∏Èóú‰øÇÊï∏ (ICC)',
                    'chart1-label': 'Âπ≥Âùá‰∏ÄËá¥ÊÄß (ICC)',
                    'chart1-categories': ['Áü¢ÁãÄÈù¢', 'È°çÁãÄÈù¢', 'ÂæåË¶ñËßí', 'ÊñúÂêëË¶ñËßí'],
                    'chart2-label': 'Áõ∏Â∞çÁ©©ÂÆöÊÄß (Ë∂äÈ´òË∂äÁ©©ÂÆö)',
                    'chart2-categories': ['ËÜùÈóúÁØÄ', 'È´ñÈóúÁØÄ', 'Ë∏ùÈóúÁØÄ', 'ËÇ©ÈóúÁØÄ']
                },
                'en': {
                    'lang-toggle': '‰∏≠Êñá',
                    'main-title': 'The Digital Observer Effect',
                    'subtitle': 'How Camera Perspective Dictates Accuracy in OpenPose Motion Analysis',
                    'how-it-works-title': 'How OpenPose Sees Motion: A Bottom-Up Approach',
                    'how-it-works-desc': 'OpenPose doesn\'t look for people first. Instead, it detects all anatomical keypoints in an image and then assembles them into skeletons. This efficient method is fast but makes it highly sensitive to occlusion and distortion caused by perspective.',
                    'step1-title': '1. Image Input',
                    'step1-desc': 'Raw video frame',
                    'step2-title': '2. Detect Keypoints',
                    'step2-desc': 'Find all elbows, knees, etc.',
                    'step3-title': '3. Associate Limbs',
                    'step3-desc': 'Connect dots with PAFs',
                    'step4-title': '4. Assemble Skeletons',
                    'step4-desc': 'Output final human poses',
                    'error1-title': 'Foreshortening',
                    'error1-desc': 'Limbs pointing toward or away from the camera are compressed in the 2D image, appearing shorter than they are. This directly distorts joint angle calculations, misinterpreting 3D rotation as 2D flexion.',
                    'error1-label1': 'True 3D Limb',
                    'error1-label2': '2D Projection (Shorter)',
                    'error2-title': 'Perspective Distortion',
                    'error2-desc': 'Objects closer to the camera appear disproportionately large. During a squat, a knee closer to the lens can seem larger than the hip, warping the geometry of the entire lower body.',
                    'error2-label1': 'Distant Object',
                    'error2-label2': 'Near Object (Larger)',
                    'data-title': 'Quantifying the Impact: What the Data Says',
                    'chart1-title': 'Accuracy Comparison by View (ICC)',
                    'chart1-desc': 'The Intraclass Correlation Coefficient (ICC) measures consistency; higher is better. Data shows the posterior view is surprisingly robust for many movements, likely because it reduces keypoint occlusion.',
                    'kpi1-title': 'The Shoulder Joint',
                    'kpi1-subtitle': 'A Constant Challenge',
                    'kpi1-desc': 'In some movements, the Root Mean Square Error (RMSE) for the shoulder can be nearly 30 degrees, making it the most unstable joint.',
                    'chart2-title': 'Joint Vulnerability Analysis',
                    'chart2-desc': 'Different joints have varying sensitivity to perspective changes. The shoulder, with its high degrees of freedom, is most prone to error, while the simpler knee joint is relatively robust.',
                    'recommendations-title': 'Best Practices: A Data Capture Protocol Checklist',
                    'rec1-title': '1. Define the Primary Plane of Motion',
                    'rec1-desc': 'Is the analysis of a sagittal movement (like walking) or a frontal one (like a lateral raise)?',
                    'rec2-title': '2. Select the Optimal Viewing Angle',
                    'rec2-desc': 'Prioritize a view perpendicular to the plane of motion. The **posterior view** is often an excellent choice for lower-body movements.',
                    'rec3-title': '3. Consider Camera Height & Distance',
                    'rec3-desc': 'Adjust placement to minimize occlusion while avoiding the severe distortion from very high or low angles.',
                    'rec4-title': '4. Be Mindful of Lens Choice',
                    'rec4-desc': 'Avoid wide-angle lenses for close-up shots to reduce perspective distortion.',
                    'rec5-title': '5. Anticipate Occlusion',
                    'rec5-desc': 'Ensure key joints are visible throughout the movement, especially contralateral limbs in a sagittal view.',
                    'rec6-title': '6. Acknowledge Joint Vulnerability',
                    'rec6-desc': 'Interpret shoulder data with extra caution, as its error rates are consistently the highest.',
                    'footer-title': 'The Future: Towards View-Agnostic Analysis',
                    'footer-desc': 'The future of the field lies in developing "view-invariant" models that can accurately understand human pose from any perspective. This will transform markerless motion capture from a constrained lab tool into a ubiquitous method for use in any real-world environment.',
                    'chart1-x-axis': 'Intraclass Correlation Coefficient (ICC)',
                    'chart1-label': 'Average Consistency (ICC)',
                    'chart1-categories': ['Sagittal', 'Frontal', 'Posterior', 'Oblique'],
                    'chart2-label': 'Relative Stability (Higher is Better)',
                    'chart2-categories': ['Knee', 'Hip', 'Ankle', 'Shoulder']
                }
            };

            let currentLang = 'zh-TW';
            let viewComparisonChart, jointVulnerabilityChart;

            const updateText = (lang) => {
                document.documentElement.lang = lang;
                for (const id in translations[lang]) {
                    const element = document.getElementById(id);
                    if (element) {
                        element.innerHTML = translations[lang][id];
                    }
                }
                createCharts(lang);
            };

            const toggleLanguage = () => {
                currentLang = currentLang === 'zh-TW' ? 'en' : 'zh-TW';
                updateText(currentLang);
            };

            document.getElementById('lang-toggle').addEventListener('click', toggleLanguage);
            
            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };

            const palette = {
                blue: '#0a9396',
                teal: '#94d2bd',
                sand: '#e9d8a6',
                orange: '#ee9b00',
                darkOrange: '#ca6702',
                red: '#ae2012',
                darkBlue: '#005f73'
            };

            const createCharts = (lang) => {
                if (viewComparisonChart) {
                    viewComparisonChart.destroy();
                }
                const ctxView = document.getElementById('viewComparisonChart').getContext('2d');
                viewComparisonChart = new Chart(ctxView, {
                    type: 'bar',
                    data: {
                        labels: translations[lang]['chart1-categories'],
                        datasets: [{
                            label: translations[lang]['chart1-label'],
                            data: [0.85, 0.70, 0.92, 0.78],
                            backgroundColor: [palette.blue, palette.teal, palette.darkBlue, palette.sand],
                            borderColor: 'rgba(255, 255, 255, 0)',
                            borderWidth: 1,
                            borderRadius: 5
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        scales: {
                            x: {
                                beginAtZero: true,
                                max: 1.0,
                                title: {
                                    display: true,
                                    text: translations[lang]['chart1-x-axis']
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: { callbacks: { title: tooltipTitleCallback } }
                        }
                    }
                });

                if (jointVulnerabilityChart) {
                    jointVulnerabilityChart.destroy();
                }
                const ctxJoint = document.getElementById('jointVulnerabilityChart').getContext('2d');
                jointVulnerabilityChart = new Chart(ctxJoint, {
                    type: 'radar',
                    data: {
                        labels: translations[lang]['chart2-categories'],
                        datasets: [{
                            label: translations[lang]['chart2-label'],
                            data: [9, 7, 6, 3],
                            backgroundColor: 'rgba(10, 147, 150, 0.2)',
                            borderColor: palette.blue,
                            pointBackgroundColor: palette.blue,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: palette.blue
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: { stepSize: 2 },
                                pointLabels: { font: { size: 14 } }
                            }
                        },
                        plugins: {
                            legend: { position: 'top' },
                            tooltip: { callbacks: { title: tooltipTitleCallback } }
                        }
                    }
                });
            };

            updateText(currentLang);
        });
    </script>

</body>
</html>
