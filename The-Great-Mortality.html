<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼æ¢ç´¢ï¼šåå››ä¸–ç´€æ³•åœ‹çš„é»‘æ­»ç—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Somber Neutrals (Tailwind Stone) with a Muted Amber Accent -->
    <!-- Application Structure Plan: A single-page, vertical scrolling narrative structure is used to guide the user through a cohesive story, from cause to long-term effect. A sticky navigation bar allows non-linear exploration of the key themes: Origin, Spread, Impact, Response, and Transformation. This structure is more engaging than a simple report format, using interactive elements like charts and diagrams to break down complex information and reveal insights at the user's pace, thus maximizing understanding and retention. -->
    <!-- Visualization & Content Choices: 
        - Goal: Inform/Organize -> Transmission Chain -> HTML/CSS Diagram -> Interaction: Hover to reveal details -> Justification: Visually simplifies a complex biological/historical process.
        - Goal: Inform/Change -> Spread Timeline -> HTML/CSS Timeline -> Interaction: None (static visual) -> Justification: Clearly shows the chronological progression of the plague's arrival in Europe.
        - Goal: Compare/Inform -> Mortality Rate Chart -> Bar Chart (Chart.js) -> Interaction: Hover for tooltips -> Justification: Effectively compares the devastating impact across different regions, providing a stark quantitative view.
        - Goal: Organize/Compare -> Societal Responses -> Tabbed Interface (JS) -> Interaction: Click tabs to switch content -> Justification: Organizes diverse reactions into clear, digestible categories (Medical, Public Health, Religion, Scapegoating), allowing focused comparison.
        - Goal: Compare/Change -> Economic Transformation -> Side-by-Side Cards & Line Chart (Chart.js) -> Interaction: Hover on chart -> Justification: The "Before/After" cards clearly illustrate the economic shift, while the line chart provides a powerful visual of the resulting wage increase, demonstrating the plague's revolutionary economic consequences.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', 'Lora', serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #292524; /* stone-800 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-color 0.3s;
        }
        .nav-link.active, .nav-link:hover {
            color: #B45309; /* amber-700 */
            border-bottom-color: #B45309; /* amber-700 */
        }
        .transmission-item:hover .transmission-info {
            opacity: 1;
            transform: translateY(0);
        }
        .tab-button.active {
            background-color: #B45309; /* amber-700 */
            color: white;
        }
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <header class="sticky top-0 bg-stone-100/80 backdrop-blur-md z-50 shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 data-lang-key="headerTitle" class="text-xl font-bold text-stone-900">å¤§æ­»äº¡</h1>
                <div class="flex items-center space-x-8">
                    <div class="hidden md:flex space-x-8">
                        <a href="#origin" data-lang-key="navOrigin" class="nav-link text-stone-600 font-semibold border-b-2 border-transparent pb-1">èµ·æº</a>
                        <a href="#spread" data-lang-key="navSpread" class="nav-link text-stone-600 font-semibold border-b-2 border-transparent pb-1">æ“´æ•£</a>
                        <a href="#impact" data-lang-key="navImpact" class="nav-link text-stone-600 font-semibold border-b-2 border-transparent pb-1">è¡æ“Š</a>
                        <a href="#response" data-lang-key="navResponse" class="nav-link text-stone-600 font-semibold border-b-2 border-transparent pb-1">æ‡‰å°</a>
                        <a href="#transformation" data-lang-key="navTransformation" class="nav-link text-stone-600 font-semibold border-b-2 border-transparent pb-1">è®Šé©</a>
                    </div>
                    <button id="lang-toggle" class="px-3 py-1 text-sm font-semibold text-amber-700 border border-amber-700 rounded-full hover:bg-amber-700 hover:text-white transition-colors duration-300">English</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-16">

        <section class="text-center mb-24">
            <h2 data-lang-key="mainTitle" class="text-4xl md:text-6xl font-extrabold text-stone-900 mb-4">å¤§æ­»äº¡</h2>
            <p data-lang-key="mainSubtitle" class="text-lg md:text-xl text-amber-700 font-semibold mb-8">å°åå››ä¸–ç´€æ³•åœ‹é»‘æ­»ç—…èµ·æºã€å‚³æ’­åŠå…¶è®Šé©æ€§å½±éŸ¿çš„äº’å‹•å¼åˆ†æ</p>
            <p data-lang-key="mainIntro" class="max-w-3xl mx-auto text-stone-600">
                åå››ä¸–ç´€ä¸­è‘‰ï¼Œä¸€å ´å²ç„¡å‰ä¾‹çš„ç½é›£å¸­æ²æ­äºå¤§é™¸ï¼Œåœ¨æ³•åœ‹ç•™ä¸‹äº†ä¸å¯ç£¨æ»…çš„å°è¨˜ã€‚é€™ä¸åƒ…æ˜¯ä¸€å ´äººå£æ‚²åŠ‡ï¼Œæ›´æ˜¯ä¸€è‚¡å¼·å¤§çš„è®Šé©åŠ›é‡ï¼Œå¾æ ¹æœ¬ä¸Šé‡å¡‘äº†ç¤¾æœƒçš„æ ¹åŸºã€‚æœ¬æ‡‰ç”¨ç¨‹å¼å°‡å¼•å°æ‚¨æ¢ç´¢é€™å ´ç˜Ÿç–«çš„èµ·æºï¼Œè¿½è¹¤å…¶åœ¨æ³•åœ‹çš„è‡´å‘½è·¯å¾‘ï¼Œå¯©è¦–ç•¶æ™‚ç¤¾æœƒçš„åæ‡‰ï¼Œä¸¦æ­ç¤ºå…¶æ·±é çš„æ­·å²å¾Œæœã€‚
            </p>
        </section>

        <section id="origin" class="mb-24 scroll-mt-20">
            <h3 data-lang-key="originTitle" class="text-3xl font-bold text-center mb-4 text-stone-900">ç¬¬ä¸€ç« ï¼šç˜Ÿç–«çš„èª•ç”Ÿ</h3>
            <p data-lang-key="originIntro" class="text-center max-w-3xl mx-auto text-stone-600 mb-12">
                ä¸€åˆ‡å§‹æ–¼ä¸€ç¨®å¾®å°çš„ç´°èŒå’Œä¸€å€‹æ—¥ç›Šç·Šå¯†ç›¸é€£çš„ä¸–ç•Œã€‚ç¾ä»£ç§‘å­¸æ­ç¤ºï¼Œé»‘æ­»ç—…çš„ç½ªé­ç¦é¦–æ˜¯é¼ ç–«æ¡¿èŒï¼ˆ$Yersinia\ pestis$ï¼‰ï¼Œå…¶èµ·æºå¯è¿½æº¯è‡³ä¸­äºçš„å±±è„ˆã€‚æœ¬ç¯€å°‡æ¢è¨ç—…åŸé«”çš„ç‰¹æ€§ï¼Œä¸¦å±•ç¤ºå…¶å¦‚ä½•é€šéä¸€å€‹è¤‡é›œçš„ç”Ÿæ…‹éˆï¼Œå¾é‡ç”Ÿå‹•ç‰©å‚³æ’­åˆ°äººé¡ç¤¾æœƒã€‚
            </p>

            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h4 data-lang-key="originChainTitle" class="text-2xl font-bold mb-6 text-center">è‡´å‘½çš„å‚³æ’­éˆ</h4>
                    <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4 text-center">
                        <div class="relative transmission-item">
                            <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-stone-200">
                                <span class="text-4xl">ğŸ¿ï¸</span>
                            </div>
                            <p data-lang-key="chainMarmot" class="mt-2 font-bold">æ—±çº</p>
                            <div data-lang-key="chainMarmotInfo" class="transmission-info absolute bottom-full mb-2 w-48 p-2 bg-stone-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-all duration-300 transform translate-y-2">å¤©ç„¶å®¿ä¸»ï¼Œæ”œå¸¶é¼ ç–«æ¡¿èŒçš„é‡ç”Ÿå›“é½’å‹•ç‰©ã€‚</div>
                        </div>
                        <div class="text-3xl text-amber-600 font-bold mx-2">â†’</div>
                        <div class="relative transmission-item">
                            <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-stone-200">
                                <span class="text-4xl">ğŸ¦Ÿ</span>
                            </div>
                            <p data-lang-key="chainFlea" class="mt-2 font-bold">è·³èš¤</p>
                            <div data-lang-key="chainFleaInfo" class="transmission-info absolute bottom-full mb-2 w-48 p-2 bg-stone-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-all duration-300 transform translate-y-2">å®å’¬å—æ„ŸæŸ“çš„æ—±çºå¾Œï¼Œæˆç‚ºå‚³æ’­åª’ä»‹ã€‚</div>
                        </div>
                        <div class="text-3xl text-amber-600 font-bold mx-2">â†’</div>
                        <div class="relative transmission-item">
                            <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-stone-200">
                                <span class="text-4xl">ğŸ€</span>
                            </div>
                            <p data-lang-key="chainRat" class="mt-2 font-bold">é»‘é¼ </p>
                            <div data-lang-key="chainRatInfo" class="transmission-info absolute bottom-full mb-2 w-48 p-2 bg-stone-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-all duration-300 transform translate-y-2">èˆ‡äººé¡å…±å­˜ï¼Œæ­ä¹˜å•†éšŠå’Œèˆ¹éš»ï¼Œæˆç‚ºé—œéµçš„æ©‹æ¨‘åª’ä»‹ã€‚</div>
                        </div>
                        <div class="text-3xl text-amber-600 font-bold mx-2">â†’</div>
                         <div class="relative transmission-item">
                            <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-stone-200">
                                <span class="text-4xl">ğŸ§</span>
                            </div>
                            <p data-lang-key="chainHuman" class="mt-2 font-bold">äººé¡</p>
                            <div data-lang-key="chainHumanInfo" class="transmission-info absolute bottom-full mb-2 w-48 p-2 bg-stone-800 text-white text-sm rounded-lg shadow-xl opacity-0 transition-all duration-300 transform translate-y-2">è¢«æ”œå¸¶ç—…èŒçš„è·³èš¤å®å’¬å¾Œï¼Œäººé¡ç–«æƒ…çˆ†ç™¼ã€‚</div>
                        </div>
                    </div>
                     <p data-lang-key="hoverInstruction" class="text-sm text-center mt-4 text-stone-500">å°‡æ»‘é¼ æ‡¸åœåœ¨åœ–ç¤ºä¸Šä»¥æŸ¥çœ‹æ›´å¤šè³‡è¨Šã€‚</p>
                </div>
                <div>
                    <h4 data-lang-key="originFormsTitle" class="text-2xl font-bold mb-4 text-center">ä¸‰ç¨®è‡´å‘½å½¢å¼</h4>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h5 data-lang-key="formBubonic" class="font-bold text-lg">è…ºé¼ ç–« (Bubonic)</h5>
                            <p data-lang-key="formBubonicInfo" class="text-sm text-stone-600">æœ€å¸¸è¦‹ï¼Œé€šéè·³èš¤å®å’¬å‚³æ’­ã€‚ç‰¹å¾µç‚ºæ·‹å·´è…ºè…«ï¼Œæ­»äº¡ç‡é«˜é” <span class="font-bold text-red-700">30-75%</span>ã€‚</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h5 data-lang-key="formPneumonic" class="font-bold text-lg">è‚ºé¼ ç–« (Pneumonic)</h5>
                            <p data-lang-key="formPneumonicInfo" class="text-sm text-stone-600">å½±éŸ¿è‚ºéƒ¨ï¼Œå¯é€šéé£›æ²«åœ¨äººéš›é–“å‚³æ’­ã€‚æœªç¶“æ²»ç™‚æ­»äº¡ç‡æ¥è¿‘ <span class="font-bold text-red-700">100%</span>ã€‚</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h5 data-lang-key="formSepticemic" class="font-bold text-lg">æ•—è¡€æ€§é¼ ç–« (Septicemic)</h5>
                            <p data-lang-key="formSepticemicInfo" class="text-sm text-stone-600">ç´°èŒç›´æ¥æ„ŸæŸ“è¡€æ¶²ï¼Œåœ¨ç•¶æ™‚å¹¾ä¹ç„¡å¯é¿å…åœ°å°è‡´æ­»äº¡ï¼Œæ­»äº¡ç‡é«˜é” <span class="font-bold text-red-700">99-100%</span>ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="spread" class="mb-24 scroll-mt-20">
            <h3 data-lang-key="spreadTitle" class="text-3xl font-bold text-center mb-4 text-stone-900">ç¬¬äºŒç« ï¼šçµ²è·¯ä¸Šçš„ç½ç¦</h3>
            <p data-lang-key="spreadIntro" class="text-center max-w-3xl mx-auto text-stone-600 mb-12">
                ã€Œè’™å¤æ²»ä¸‹çš„å’Œå¹³ã€ä¿ƒé€²äº†çµ²ç¶¢ä¹‹è·¯çš„ç©ºå‰ç¹æ¦®ï¼Œä½†ä¹Ÿç‚ºç–¾ç—…çš„å¿«é€Ÿè”“å»¶é‹ªå¹³äº†é“è·¯ã€‚ä¸€å€‹åŸæœ¬å±€é™æ–¼ä¸­äºçš„å‹•ç‰©é–“æµè¡Œç—…ï¼Œè—‰ç”±å…¨çƒåŒ–çš„è²¿æ˜“ç¶²çµ¡ï¼Œè¸ä¸Šäº†é€šå¾€æ­æ´²çš„æ—…ç¨‹ã€‚å¡æ³•åŸçš„åœåŸæˆ°æˆç‚ºä¸€å€‹é—œéµçš„è½‰æŠ˜é»ï¼Œç„¡è«–æ˜¯é€šéç”Ÿç‰©æˆ°é‚„æ˜¯å•†æ¥­æ¥è§¸ï¼Œç˜Ÿç–«æœ€çµ‚ç™»ä¸Šäº†é§›å¾€æ­æ´²çš„èˆ¹éš»ã€‚
            </p>

            <div class="relative w-full max-w-5xl mx-auto py-8">
                <div class="absolute left-0 top-1/2 w-full h-1 bg-stone-300" style="transform: translateY(-50%);"></div>
                <div class="relative flex justify-between items-start">
                    <div class="text-center w-1/4">
                        <div class="relative z-10 mx-auto w-8 h-8 bg-amber-600 rounded-full border-4 border-white flex items-center justify-center"></div>
                        <p class="mt-2 font-bold">1338-39</p>
                        <p data-lang-key="timelineBigBang" class="text-sm text-stone-600">ä¸­äºã€Œå¤§çˆ†ç‚¸ã€</p>
                        <p data-lang-key="timelineBigBangInfo" class="text-xs text-stone-500">å‰çˆ¾å‰æ–¯æ–¯å¦ç™¼ç¾æ­»æ–¼ã€Œç˜Ÿç–«ã€çš„å¢“ç¢‘ï¼Œè¢«è¦–ç‚ºèµ·æºåœ°ã€‚</p>
                    </div>
                    <div class="text-center w-1/4">
                        <div class="relative z-10 mx-auto w-8 h-8 bg-amber-600 rounded-full border-4 border-white flex items-center justify-center"></div>
                        <p class="mt-2 font-bold">1346-47</p>
                        <p data-lang-key="timelineCaffa" class="text-sm text-stone-600">å¡æ³•åœåŸæˆ°</p>
                        <p data-lang-key="timelineCaffaInfo" class="text-xs text-stone-500">ä½æ–¼é»‘æµ·çš„ç†±é‚£äºè²¿æ˜“æ¸¯å£ï¼Œæˆç‚ºç˜Ÿç–«å‚³å…¥æ­æ´²çš„è·³æ¿ã€‚</p>
                    </div>
                    <div class="text-center w-1/4">
                        <div class="relative z-10 mx-auto w-8 h-8 bg-amber-600 rounded-full border-4 border-white flex items-center justify-center"></div>
                        <p class="mt-2 font-bold">1347å¹´10æœˆ</p>
                        <p data-lang-key="timelineMessina" class="text-sm text-stone-600">ç™»é™¸å¢¨è¥¿æ‹¿</p>
                         <p data-lang-key="timelineMessinaInfo" class="text-xs text-stone-500">ã€Œæ­»äº¡ä¹‹èˆ¹ã€æŠµé”è¥¿è¥¿é‡Œï¼Œç˜Ÿç–«æ­£å¼é€²å…¥æ­æ´²å¿ƒè‡Ÿåœ°å¸¶ã€‚</p>
                    </div>
                     <div class="text-center w-1/4">
                        <div class="relative z-10 mx-auto w-8 h-8 bg-amber-600 rounded-full border-4 border-white flex items-center justify-center"></div>
                        <p class="mt-2 font-bold">1348å¹´1æœˆ</p>
                        <p data-lang-key="timelineMarseille" class="text-sm text-stone-600">å…¥ä¾µæ³•åœ‹é¦¬è³½</p>
                        <p data-lang-key="timelineMarseilleInfo" class="text-xs text-stone-500">ç˜Ÿç–«é€šéä¸»è¦è²¿æ˜“æ¸¯å£é€²å…¥æ³•è˜­è¥¿ç‹åœ‹ï¼Œé–‹å§‹å…¶è‡´å‘½çš„å¾ç¨‹ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="impact" class="mb-24 scroll-mt-20">
            <h3 data-lang-key="impactTitle" class="text-3xl font-bold text-center mb-4 text-stone-900">ç¬¬ä¸‰ç« ï¼šæ³•åœ‹çš„æ·ªé™·</h3>
            <p data-lang-key="impactIntro" class="text-center max-w-3xl mx-auto text-stone-600 mb-12">
                é»‘æ­»ç—…å°æ³•åœ‹é€ æˆäº†æ¯€æ»…æ€§çš„æ‰“æ“Šï¼Œå…¶äººå£è¦æ¨¡åœ¨æ­æ´²é¦–å±ˆä¸€æŒ‡ï¼Œé€™ä½¿å¾—æå¤±å°¤ç‚ºæ…˜é‡ã€‚å¾å—éƒ¨çš„é¦¬è³½åˆ°æ•™çš‡æ‰€åœ¨çš„äºç¶­è¾²ï¼Œå†åˆ°åŒ—æ–¹çš„å·´é»ï¼Œæ²’æœ‰ä»»ä½•åœ°æ–¹èƒ½å¤ å€–å…ã€‚æ­»äº¡çš„è¦æ¨¡ä¹‹å¤§ï¼Œé€Ÿåº¦ä¹‹å¿«ï¼Œå¾¹åº•æ‘§æ¯€äº†ç¤¾æœƒçµæ§‹ï¼Œææ‡¼æ’•è£‚äº†å®¶åº­èˆ‡ç¤¾å€çš„ç´å¸¶ã€‚
            </p>
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="text-center md:text-left">
                    <h4 data-lang-key="impactScaleTitle" class="text-2xl font-bold mb-4">ç½é›£çš„è¦æ¨¡</h4>
                    <p data-lang-key="impactScaleInfo" class="text-stone-600 mb-6">æ³•åœ‹æå¤±äº†ç´„ <span class="text-4xl font-bold text-red-700">30%</span> åˆ° <span class="text-4xl font-bold text-red-700">60%</span> çš„äººå£ã€‚åœ¨æŸäº›åœ°å€ï¼Œå¦‚è«¾æ›¼ç¬¬ï¼Œæ­»äº¡ç‡å¯èƒ½é«˜é”é§­äººè½èçš„ <span class="text-3xl font-bold text-red-700">70-80%</span>ã€‚ç•¶æ™‚çš„ç·¨å¹´å²å®¶è®“Â·å‚…è¯è–©ä¼°è¨ˆã€Œä¸–ç•Œä¸‰åˆ†ä¹‹ä¸€çš„äººæ­»äº†ã€ï¼Œé€™å€‹æ•¸å­—ä»¤äººä¸å¯’è€Œæ…„ã€‚</p>
                    <div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-amber-600">
                        <p data-lang-key="impactQuote" class="text-lg italic text-stone-700">ã€Œçˆ¶è¦ªä¸æ¢æœ›å…’å­ï¼Œå…’å­ä¸æ¢æœ›çˆ¶è¦ªï¼›ä»æ„›å·²æ­»ï¼Œå¸Œæœ›æ®†ç›¡ã€‚ã€</p>
                        <p data-lang-key="impactQuoteAuthor" class="text-right mt-2 font-semibold text-stone-500">- è–„ä¼½ä¸˜å°ç¤¾æœƒå´©æ½°çš„æè¿°</p>
                    </div>
                </div>
                <div>
                    <h4 data-lang-key="mortalityChartTitle" class="text-2xl font-bold mb-4 text-center">æ³•åœ‹ä¸»è¦åœ°å€æ­»äº¡ç‡ä¼°è¨ˆ</h4>
                    <div class="chart-container bg-white p-4 rounded-lg shadow-lg">
                        <canvas id="mortalityChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="response" class="mb-24 scroll-mt-20">
            <h3 data-lang-key="responseTitle" class="text-3xl font-bold text-center mb-4 text-stone-900">ç¬¬å››ç« ï¼šå±æ©Ÿä¸­çš„ç¤¾æœƒåæ‡‰</h3>
            <p data-lang-key="responseIntro" class="text-center max-w-3xl mx-auto text-stone-600 mb-12">
                é¢å°ä¸€å ´ç„¡æ³•ç†è§£çš„ç½é›£ï¼Œåå››ä¸–ç´€çš„æ³•åœ‹ç¤¾æœƒåœ¨çµ•æœ›ä¸­æ™æ‰ã€‚å¾åŸºæ–¼éŒ¯èª¤ç†è«–çš„é†«ç™‚å˜—è©¦ï¼Œåˆ°å‚¬ç”Ÿç¾ä»£å…¬å…±è¡›ç”Ÿé››å½¢çš„åˆ¶åº¦å‰µæ–°ï¼›å¾å°‹æ±‚ç¥è¹Ÿçš„å®—æ•™ç‹‚ç†±ï¼Œåˆ°å°‡ææ‡¼è½‰åŒ–ç‚ºæš´åŠ›çš„æ›¿ç½ªç¾Šè¡Œç‚ºã€‚é€™äº›åæ‡‰å…±åŒå‹¾å‹’å‡ºä¸€å¹…è™•æ–¼å´©æ½°é‚Šç·£çš„ç¤¾æœƒåœ–æ™¯ã€‚
            </p>

            <div>
                <div class="mb-4 flex flex-wrap justify-center border-b border-stone-300">
                    <button data-lang-key="tabMedical" class="tab-button px-4 py-2 font-semibold text-stone-600 transition duration-300" data-tab="medical">é†«ç™‚æ‡‰å°</button>
                    <button data-lang-key="tabPublicHealth" class="tab-button px-4 py-2 font-semibold text-stone-600 transition duration-300" data-tab="public-health">å…¬å…±è¡›ç”Ÿ</button>
                    <button data-lang-key="tabReligion" class="tab-button px-4 py-2 font-semibold text-stone-600 transition duration-300" data-tab="religion">å®—æ•™ç‹‚ç†±</button>
                    <button data-lang-key="tabScapegoating" class="tab-button px-4 py-2 font-semibold text-stone-600 transition duration-300" data-tab="scapegoating">å°‹æ‰¾æ›¿ç½ªç¾Š</button>
                </div>
                <div id="tab-content" class="bg-white p-8 rounded-lg shadow-inner">
                    <div id="medical-content" class="tab-pane">
                        <h4 data-lang-key="medicalTitle" class="text-xl font-bold mb-2">å‚³çµ±èˆ‡è§€å¯Ÿ</h4>
                        <p data-lang-key="medicalInfo" class="text-stone-600">ä¸­ä¸–ç´€é†«å­¸å—ã€Œç˜´æ°£ç†è«–ã€ä¸»å°ï¼Œèªç‚ºç–¾ç—…ç”±æ±¡æ¿ç©ºæ°£å¼•èµ·ã€‚æ²»ç™‚æ–¹æ³•åŒ…æ‹¬æ”¾è¡€ã€å‚¬ç€‰å’Œä½¿ç”¨èŠ³é¦™è‰è—¥ï¼Œä½†æ”¶æ•ˆç”šå¾®ã€‚ç„¶è€Œï¼Œåƒæ•™çš‡é†«å¸«å±…ä¼ŠÂ·å¾·Â·è‚–åˆ©äºå…‹é€™æ¨£çš„é†«ç”Ÿï¼Œå …å®ˆå´—ä½ä¸¦è©³ç´°è¨˜éŒ„ç—…æƒ…ï¼Œé¦–æ¬¡æ˜ç¢ºå€åˆ†äº†è…ºé¼ ç–«å’Œè‚ºé¼ ç–«ï¼Œå±•ç¾äº†è‡¨åºŠè§€å¯Ÿçš„é‡è¦æ€§ã€‚</p>
                    </div>
                    <div id="public-health-content" class="tab-pane hidden">
                        <h4 data-lang-key="publicHealthTitle" class="text-xl font-bold mb-2">å…¬å…±è¡›ç”Ÿçš„èª•ç”Ÿ</h4>
                        <p data-lang-key="publicHealthInfo" class="text-stone-600">å„˜ç®¡é†«ç™‚å¤±æ•—ï¼Œä½†ç˜Ÿç–«å‚¬ç”Ÿäº†åˆ¶åº¦æ€§çš„å…¬å…±è¡›ç”Ÿæªæ–½ã€‚æ„å¤§åˆ©å’Œæ³•åœ‹çš„åŸå¸‚é–‹å§‹å¯¦æ–½<span class="font-bold">éš”é›¢æª¢ç–«ï¼ˆQuarantineï¼‰</span>ï¼Œéš”é›¢å…¥å¢ƒèˆ¹éš»40å¤©ã€‚æ­¤å¤–ï¼Œé‚„å»ºç«‹äº†å°ˆé–€çš„<span class="font-bold">éš”é›¢é†«é™¢ï¼ˆLazarettosï¼‰</span>ä¾†ç…§é¡§é¼ ç–«æ‚£è€…ï¼Œä¸¦è¨­ç«‹è¡›ç”Ÿå§”å“¡æœƒä¾†ç®¡ç†é˜²ç–«ã€‚é€™äº›æªæ–½ä»£è¡¨äº†åœ‹å®¶ç´šå…¬å…±è¡›ç”Ÿç®¡ç†çš„é–‹ç«¯ã€‚</p>
                    </div>
                    <div id="religion-content" class="tab-pane hidden">
                        <h4 data-lang-key="religionTitle" class="text-xl font-bold mb-2">ä¿¡ä»°ã€ææ‡¼èˆ‡ç‹‚ç†±</h4>
                        <p data-lang-key="religionInfo" class="text-stone-600">ç˜Ÿç–«è¢«æ™®éè¦–ç‚ºä¸Šå¸çš„æ‡²ç½°ã€‚æ•™æœƒç„¡åŠ›è§£é‡‹å’Œæ‡‰å°ï¼Œå°è‡´äº†æ·±åˆ»çš„ä¿¡ä»°å±æ©Ÿã€‚ä½œç‚ºå›æ‡‰ï¼Œå‡ºç¾äº†<span class="font-bold">é­ç¬æ´¾é‹å‹•</span>ï¼Œæ‡ºæ‚”è€…å…¬é–‹é­æ‰“è‡ªå·±ä»¥å¹³æ¯ç¥æ€’ã€‚é€™ç¨®æ¥µç«¯è¡Œç‚ºæœ€çµ‚è¢«æ•™çš‡è­´è²¬ç‚ºç•°ç«¯ã€‚åŒæ™‚ï¼Œæ–°çš„è—è¡“ä¸»é¡Œ<span class="font-bold">ã€Œæ­»äº¡ä¹‹èˆã€</span>å‡ºç¾ï¼Œå¼·èª¿æ­»äº¡é¢å‰äººäººå¹³ç­‰ã€‚</p>
                    </div>
                    <div id="scapegoating-content" class="tab-pane hidden">
                        <h4 data-lang-key="scapegoatingTitle" class="text-xl font-bold mb-2">æ–¯ç‰¹æ‹‰æ–¯å ¡å¤§å± æ®º</h4>
                        <p data-lang-key="scapegoatingInfo" class="text-stone-600">åœ¨ææ‡¼å’Œç„¡çŸ¥ä¸­ï¼Œäººå€‘ç˜‹ç‹‚å°‹æ‰¾ä»£ç½ªç¾”ç¾Šï¼ŒçŒ¶å¤ªç¤¾å€æˆç‚ºä¸»è¦ç›®æ¨™ã€‚è¬ è¨€ç¨±ä»–å€‘åœ¨æ°´äº•æŠ•æ¯’ã€‚é€™å¼•ç™¼äº†æ­æ´²ç¯„åœå…§çš„å¤§å± æ®ºã€‚å…¶ä¸­æœ€æ…˜çƒˆçš„æ˜¯<span class="font-bold">1349å¹´2æœˆ14æ—¥çš„æ–¯ç‰¹æ‹‰æ–¯å ¡å¤§å± æ®º</span>ï¼Œåœ¨ç˜Ÿç–«åˆ°é”è©²åŸä¹‹å‰ï¼Œæ•¸åƒåçŒ¶å¤ªäººå°±åœ¨æ°‘çœ¾çš„ç‹‚ç†±ä¸­è¢«æ´»æ´»ç‡’æ­»ï¼Œå…¶èƒŒå¾Œä¹Ÿäº¤ç¹”è‘—ç¶“æ¿Ÿå‹•æ©Ÿã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="transformation" class="scroll-mt-20">
            <h3 data-lang-key="transformationTitle" class="text-3xl font-bold text-center mb-4 text-stone-900">ç¬¬äº”ç« ï¼šé©å‘½æ€§çš„é¤˜æ³¢</h3>
            <p data-lang-key="transformationIntro" class="text-center max-w-3xl mx-auto text-stone-600 mb-12">
                é»‘æ­»ç—…ä¸åƒ…æ˜¯ä¸€å ´ç½é›£ï¼Œæ›´æ˜¯ä¸€å€‹å¼·å¤§çš„æ­·å²å‚¬åŒ–åŠ‘ã€‚å·¨å¤§çš„äººå£æå¤±å¾æ ¹æœ¬ä¸Šæ”¹è®Šäº†æ­æ´²çš„ç¶“æ¿Ÿå’Œç¤¾æœƒçµæ§‹ã€‚å‹å‹•åŠ›çŸ­ç¼ºé¡›è¦†äº†å°å»ºåˆ¶åº¦ï¼Œè³¦äºˆäº†åº•å±¤æ°‘çœ¾å‰æ‰€æœªæœ‰çš„è­°åƒ¹èƒ½åŠ›ï¼Œä¸¦ç‚ºä¸€å€‹æ›´å…·æµå‹•æ€§å’Œæ´»åŠ›çš„ç¤¾æœƒå¥ å®šäº†åŸºç¤ï¼Œç„¡æ„ä¸­æ•²éŸ¿äº†é€šå¾€ç¾ä»£ä¸–ç•Œçš„å¤§é–€ã€‚
            </p>

            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                     <h4 data-lang-key="transformationOrderTitle" class="text-2xl font-bold mb-6 text-center">èˆŠç§©åºçš„çµ‚çµ</h4>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow text-center">
                            <p data-lang-key="orderBefore" class="text-stone-500 text-sm">ç˜Ÿç–«å‰</p>
                            <p data-lang-key="orderBeforeState" class="text-xl font-bold my-2">å‹å‹•åŠ›éå‰©</p>
                            <p data-lang-key="orderBeforeInfo" class="text-stone-600">è¾²å¥´è¢«æŸç¸›åœ¨åœŸåœ°ä¸Šï¼Œå·¥è³‡ä½å»‰ã€‚</p>
                        </div>
                        <div class="bg-amber-100 p-6 rounded-lg shadow text-center">
                            <p data-lang-key="orderAfter" class="text-amber-800 text-sm">ç˜Ÿç–«å¾Œ</p>
                            <p data-lang-key="orderAfterState" class="text-xl font-bold my-2 text-amber-900">å‹å‹•åŠ›çŸ­ç¼º</p>
                            <p data-lang-key="orderAfterInfo" class="text-amber-800">å€–å­˜è€…æ“æœ‰è­°åƒ¹èƒ½åŠ›ï¼Œç¤¾æœƒæµå‹•æ€§å¢åŠ ã€‚</p>
                        </div>
                     </div>
                     <div class="mt-8">
                        <p data-lang-key="transformationRevoltInfo" class="text-stone-600">é€™ç¨®è½‰è®Šå¼•ç™¼äº†è²´æ—çš„æŠµåˆ¶å’Œè¾²æ°‘çš„åæŠ—ï¼Œæœ€è‘—åçš„æ˜¯1358å¹´çš„<span class="font-bold">æ‰å…‹é›·èµ·ç¾©ï¼ˆJacquerieï¼‰</span>ã€‚å„˜ç®¡èµ·ç¾©è¢«æ®˜é…·é®å£“ï¼Œä½†å®ƒæ¨™èªŒè‘—ä¸‹å±¤éšç´šæ‹’çµ•å›åˆ°èˆŠç§©åºçš„æ±ºå¿ƒã€‚</p>
                     </div>
                </div>
                <div>
                    <h4 data-lang-key="wagesChartTitle" class="text-2xl font-bold mb-4 text-center">ç˜Ÿç–«å¾Œå·¥è³‡è®ŠåŒ–è¶¨å‹¢</h4>
                    <div class="chart-container bg-white p-4 rounded-lg shadow-lg">
                        <canvas id="wagesChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-stone-800 text-stone-300 py-8 mt-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p data-lang-key="footerNotice">æ­¤äº’å‹•å¼æ‡‰ç”¨ç¨‹å¼æ ¹æ“šæ­·å²å ±å‘Šç”Ÿæˆï¼Œæ—¨åœ¨æä¾›æ•™è‚²æ€§æ¦‚è¦½ã€‚</p>
            <p data-lang-key="footerCredit" class="text-sm text-stone-400 mt-2">è¨­è¨ˆèˆ‡é–‹ç™¼ by Gemini AI</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            let currentLanguage = 'zh';
            let mortalityChartInstance;
            let wagesChartInstance;

            const translations = {
                zh: {
                    // Header & Nav
                    headerTitle: 'å¤§æ­»äº¡',
                    navOrigin: 'èµ·æº',
                    navSpread: 'æ“´æ•£',
                    navImpact: 'è¡æ“Š',
                    navResponse: 'æ‡‰å°',
                    navTransformation: 'è®Šé©',
                    toggleButton: 'English',

                    // Hero Section
                    mainTitle: 'å¤§æ­»äº¡',
                    mainSubtitle: 'å°åå››ä¸–ç´€æ³•åœ‹é»‘æ­»ç—…èµ·æºã€å‚³æ’­åŠå…¶è®Šé©æ€§å½±éŸ¿çš„äº’å‹•å¼åˆ†æ',
                    mainIntro: 'åå››ä¸–ç´€ä¸­è‘‰ï¼Œä¸€å ´å²ç„¡å‰ä¾‹çš„ç½é›£å¸­æ²æ­äºå¤§é™¸ï¼Œåœ¨æ³•åœ‹ç•™ä¸‹äº†ä¸å¯ç£¨æ»…çš„å°è¨˜ã€‚é€™ä¸åƒ…æ˜¯ä¸€å ´äººå£æ‚²åŠ‡ï¼Œæ›´æ˜¯ä¸€è‚¡å¼·å¤§çš„è®Šé©åŠ›é‡ï¼Œå¾æ ¹æœ¬ä¸Šé‡å¡‘äº†ç¤¾æœƒçš„æ ¹åŸºã€‚æœ¬æ‡‰ç”¨ç¨‹å¼å°‡å¼•å°æ‚¨æ¢ç´¢é€™å ´ç˜Ÿç–«çš„èµ·æºï¼Œè¿½è¹¤å…¶åœ¨æ³•åœ‹çš„è‡´å‘½è·¯å¾‘ï¼Œå¯©è¦–ç•¶æ™‚ç¤¾æœƒçš„åæ‡‰ï¼Œä¸¦æ­ç¤ºå…¶æ·±é çš„æ­·å²å¾Œæœã€‚',

                    // Origin Section
                    originTitle: 'ç¬¬ä¸€ç« ï¼šç˜Ÿç–«çš„èª•ç”Ÿ',
                    originIntro: 'ä¸€åˆ‡å§‹æ–¼ä¸€ç¨®å¾®å°çš„ç´°èŒå’Œä¸€å€‹æ—¥ç›Šç·Šå¯†ç›¸é€£çš„ä¸–ç•Œã€‚ç¾ä»£ç§‘å­¸æ­ç¤ºï¼Œé»‘æ­»ç—…çš„ç½ªé­ç¦é¦–æ˜¯é¼ ç–«æ¡¿èŒï¼ˆ$Yersinia\ pestis$ï¼‰ï¼Œå…¶èµ·æºå¯è¿½æº¯è‡³ä¸­äºçš„å±±è„ˆã€‚æœ¬ç¯€å°‡æ¢è¨ç—…åŸé«”çš„ç‰¹æ€§ï¼Œä¸¦å±•ç¤ºå…¶å¦‚ä½•é€šéä¸€å€‹è¤‡é›œçš„ç”Ÿæ…‹éˆï¼Œå¾é‡ç”Ÿå‹•ç‰©å‚³æ’­åˆ°äººé¡ç¤¾æœƒã€‚',
                    originChainTitle: 'è‡´å‘½çš„å‚³æ’­éˆ',
                    chainMarmot: 'æ—±çº',
                    chainMarmotInfo: 'å¤©ç„¶å®¿ä¸»ï¼Œæ”œå¸¶é¼ ç–«æ¡¿èŒçš„é‡ç”Ÿå›“é½’å‹•ç‰©ã€‚',
                    chainFlea: 'è·³èš¤',
                    chainFleaInfo: 'å®å’¬å—æ„ŸæŸ“çš„æ—±çºå¾Œï¼Œæˆç‚ºå‚³æ’­åª’ä»‹ã€‚',
                    chainRat: 'é»‘é¼ ',
                    chainRatInfo: 'èˆ‡äººé¡å…±å­˜ï¼Œæ­ä¹˜å•†éšŠå’Œèˆ¹éš»ï¼Œæˆç‚ºé—œéµçš„æ©‹æ¨‘åª’ä»‹ã€‚',
                    chainHuman: 'äººé¡',
                    chainHumanInfo: 'è¢«æ”œå¸¶ç—…èŒçš„è·³èš¤å®å’¬å¾Œï¼Œäººé¡ç–«æƒ…çˆ†ç™¼ã€‚',
                    hoverInstruction: 'å°‡æ»‘é¼ æ‡¸åœåœ¨åœ–ç¤ºä¸Šä»¥æŸ¥çœ‹æ›´å¤šè³‡è¨Šã€‚',
                    originFormsTitle: 'ä¸‰ç¨®è‡´å‘½å½¢å¼',
                    formBubonic: 'è…ºé¼ ç–« (Bubonic)',
                    formBubonicInfo: 'æœ€å¸¸è¦‹ï¼Œé€šéè·³èš¤å®å’¬å‚³æ’­ã€‚ç‰¹å¾µç‚ºæ·‹å·´è…ºè…«ï¼Œæ­»äº¡ç‡é«˜é” <span class="font-bold text-red-700">30-75%</span>ã€‚',
                    formPneumonic: 'è‚ºé¼ ç–« (Pneumonic)',
                    formPneumonicInfo: 'å½±éŸ¿è‚ºéƒ¨ï¼Œå¯é€šéé£›æ²«åœ¨äººéš›é–“å‚³æ’­ã€‚æœªç¶“æ²»ç™‚æ­»äº¡ç‡æ¥è¿‘ <span class="font-bold text-red-700">100%</span>ã€‚',
                    formSepticemic: 'æ•—è¡€æ€§é¼ ç–« (Septicemic)',
                    formSepticemicInfo: 'ç´°èŒç›´æ¥æ„ŸæŸ“è¡€æ¶²ï¼Œåœ¨ç•¶æ™‚å¹¾ä¹ç„¡å¯é¿å…åœ°å°è‡´æ­»äº¡ï¼Œæ­»äº¡ç‡é«˜é” <span class="font-bold text-red-700">99-100%</span>ã€‚',

                    // Spread Section
                    spreadTitle: 'ç¬¬äºŒç« ï¼šçµ²è·¯ä¸Šçš„ç½ç¦',
                    spreadIntro: 'ã€Œè’™å¤æ²»ä¸‹çš„å’Œå¹³ã€ä¿ƒé€²äº†çµ²ç¶¢ä¹‹è·¯çš„ç©ºå‰ç¹æ¦®ï¼Œä½†ä¹Ÿç‚ºç–¾ç—…çš„å¿«é€Ÿè”“å»¶é‹ªå¹³äº†é“è·¯ã€‚ä¸€å€‹åŸæœ¬å±€é™æ–¼ä¸­äºçš„å‹•ç‰©é–“æµè¡Œç—…ï¼Œè—‰ç”±å…¨çƒåŒ–çš„è²¿æ˜“ç¶²çµ¡ï¼Œè¸ä¸Šäº†é€šå¾€æ­æ´²çš„æ—…ç¨‹ã€‚å¡æ³•åŸçš„åœåŸæˆ°æˆç‚ºä¸€å€‹é—œéµçš„è½‰æŠ˜é»ï¼Œç„¡è«–æ˜¯é€šéç”Ÿç‰©æˆ°é‚„æ˜¯å•†æ¥­æ¥è§¸ï¼Œç˜Ÿç–«æœ€çµ‚ç™»ä¸Šäº†é§›å¾€æ­æ´²çš„èˆ¹éš»ã€‚',
                    timelineBigBang: 'ä¸­äºã€Œå¤§çˆ†ç‚¸ã€',
                    timelineBigBangInfo: 'å‰çˆ¾å‰æ–¯æ–¯å¦ç™¼ç¾æ­»æ–¼ã€Œç˜Ÿç–«ã€çš„å¢“ç¢‘ï¼Œè¢«è¦–ç‚ºèµ·æºåœ°ã€‚',
                    timelineCaffa: 'å¡æ³•åœåŸæˆ°',
                    timelineCaffaInfo: 'ä½æ–¼é»‘æµ·çš„ç†±é‚£äºè²¿æ˜“æ¸¯å£ï¼Œæˆç‚ºç˜Ÿç–«å‚³å…¥æ­æ´²çš„è·³æ¿ã€‚',
                    timelineMessina: 'ç™»é™¸å¢¨è¥¿æ‹¿',
                    timelineMessinaInfo: 'ã€Œæ­»äº¡ä¹‹èˆ¹ã€æŠµé”è¥¿è¥¿é‡Œï¼Œç˜Ÿç–«æ­£å¼é€²å…¥æ­æ´²å¿ƒè‡Ÿåœ°å¸¶ã€‚',
                    timelineMarseille: 'å…¥ä¾µæ³•åœ‹é¦¬è³½',
                    timelineMarseilleInfo: 'ç˜Ÿç–«é€šéä¸»è¦è²¿æ˜“æ¸¯å£é€²å…¥æ³•è˜­è¥¿ç‹åœ‹ï¼Œé–‹å§‹å…¶è‡´å‘½çš„å¾ç¨‹ã€‚',
                    
                    // Impact Section
                    impactTitle: 'ç¬¬ä¸‰ç« ï¼šæ³•åœ‹çš„æ·ªé™·',
                    impactIntro: 'é»‘æ­»ç—…å°æ³•åœ‹é€ æˆäº†æ¯€æ»…æ€§çš„æ‰“æ“Šï¼Œå…¶äººå£è¦æ¨¡åœ¨æ­æ´²é¦–å±ˆä¸€æŒ‡ï¼Œé€™ä½¿å¾—æå¤±å°¤ç‚ºæ…˜é‡ã€‚å¾å—éƒ¨çš„é¦¬è³½åˆ°æ•™çš‡æ‰€åœ¨çš„äºç¶­è¾²ï¼Œå†åˆ°åŒ—æ–¹çš„å·´é»ï¼Œæ²’æœ‰ä»»ä½•åœ°æ–¹èƒ½å¤ å€–å…ã€‚æ­»äº¡çš„è¦æ¨¡ä¹‹å¤§ï¼Œé€Ÿåº¦ä¹‹å¿«ï¼Œå¾¹åº•æ‘§æ¯€äº†ç¤¾æœƒçµæ§‹ï¼Œææ‡¼æ’•è£‚äº†å®¶åº­èˆ‡ç¤¾å€çš„ç´å¸¶ã€‚',
                    impactScaleTitle: 'ç½é›£çš„è¦æ¨¡',
                    impactScaleInfo: 'æ³•åœ‹æå¤±äº†ç´„ <span class="text-4xl font-bold text-red-700">30%</span> åˆ° <span class="text-4xl font-bold text-red-700">60%</span> çš„äººå£ã€‚åœ¨æŸäº›åœ°å€ï¼Œå¦‚è«¾æ›¼ç¬¬ï¼Œæ­»äº¡ç‡å¯èƒ½é«˜é”é§­äººè½èçš„ <span class="text-3xl font-bold text-red-700">70-80%</span>ã€‚ç•¶æ™‚çš„ç·¨å¹´å²å®¶è®“Â·å‚…è¯è–©ä¼°è¨ˆã€Œä¸–ç•Œä¸‰åˆ†ä¹‹ä¸€çš„äººæ­»äº†ã€ï¼Œé€™å€‹æ•¸å­—ä»¤äººä¸å¯’è€Œæ…„ã€‚',
                    impactQuote: 'ã€Œçˆ¶è¦ªä¸æ¢æœ›å…’å­ï¼Œå…’å­ä¸æ¢æœ›çˆ¶è¦ªï¼›ä»æ„›å·²æ­»ï¼Œå¸Œæœ›æ®†ç›¡ã€‚ã€',
                    impactQuoteAuthor: '- è–„ä¼½ä¸˜å°ç¤¾æœƒå´©æ½°çš„æè¿°',
                    mortalityChartTitle: 'æ³•åœ‹ä¸»è¦åœ°å€æ­»äº¡ç‡ä¼°è¨ˆ',
                    mortalityChartLabel: 'ä¼°è¨ˆæœ€é«˜æ­»äº¡ç‡ (%)',
                    mortalityChartDataLabels: ['è«¾æ›¼ç¬¬', 'å·´é»', 'å‹ƒè‰®ç¬¬ (æ—¥å¤«é‡Œ)', 'æœ—æ ¼å¤šå…‹', 'æ­æ´²å¹³å‡'],
                    mortalityTooltip: ' ä¼°è¨ˆæ­»äº¡ç‡',

                    // Response Section
                    responseTitle: 'ç¬¬å››ç« ï¼šå±æ©Ÿä¸­çš„ç¤¾æœƒåæ‡‰',
                    responseIntro: 'é¢å°ä¸€å ´ç„¡æ³•ç†è§£çš„ç½é›£ï¼Œåå››ä¸–ç´€çš„æ³•åœ‹ç¤¾æœƒåœ¨çµ•æœ›ä¸­æ™æ‰ã€‚å¾åŸºæ–¼éŒ¯èª¤ç†è«–çš„é†«ç™‚å˜—è©¦ï¼Œåˆ°å‚¬ç”Ÿç¾ä»£å…¬å…±è¡›ç”Ÿé››å½¢çš„åˆ¶åº¦å‰µæ–°ï¼›å¾å°‹æ±‚ç¥è¹Ÿçš„å®—æ•™ç‹‚ç†±ï¼Œåˆ°å°‡ææ‡¼è½‰åŒ–ç‚ºæš´åŠ›çš„æ›¿ç½ªç¾Šè¡Œç‚ºã€‚é€™äº›åæ‡‰å…±åŒå‹¾å‹’å‡ºä¸€å¹…è™•æ–¼å´©æ½°é‚Šç·£çš„ç¤¾æœƒåœ–æ™¯ã€‚',
                    tabMedical: 'é†«ç™‚æ‡‰å°',
                    tabPublicHealth: 'å…¬å…±è¡›ç”Ÿ',
                    tabReligion: 'å®—æ•™ç‹‚ç†±',
                    tabScapegoating: 'å°‹æ‰¾æ›¿ç½ªç¾Š',
                    medicalTitle: 'å‚³çµ±èˆ‡è§€å¯Ÿ',
                    medicalInfo: 'ä¸­ä¸–ç´€é†«å­¸å—ã€Œç˜´æ°£ç†è«–ã€ä¸»å°ï¼Œèªç‚ºç–¾ç—…ç”±æ±¡æ¿ç©ºæ°£å¼•èµ·ã€‚æ²»ç™‚æ–¹æ³•åŒ…æ‹¬æ”¾è¡€ã€å‚¬ç€‰å’Œä½¿ç”¨èŠ³é¦™è‰è—¥ï¼Œä½†æ”¶æ•ˆç”šå¾®ã€‚ç„¶è€Œï¼Œåƒæ•™çš‡é†«å¸«å±…ä¼ŠÂ·å¾·Â·è‚–åˆ©äºå…‹é€™æ¨£çš„é†«ç”Ÿï¼Œå …å®ˆå´—ä½ä¸¦è©³ç´°è¨˜éŒ„ç—…æƒ…ï¼Œé¦–æ¬¡æ˜ç¢ºå€åˆ†äº†è…ºé¼ ç–«å’Œè‚ºé¼ ç–«ï¼Œå±•ç¾äº†è‡¨åºŠè§€å¯Ÿçš„é‡è¦æ€§ã€‚',
                    publicHealthTitle: 'å…¬å…±è¡›ç”Ÿçš„èª•ç”Ÿ',
                    publicHealthInfo: 'å„˜ç®¡é†«ç™‚å¤±æ•—ï¼Œä½†ç˜Ÿç–«å‚¬ç”Ÿäº†åˆ¶åº¦æ€§çš„å…¬å…±è¡›ç”Ÿæªæ–½ã€‚æ„å¤§åˆ©å’Œæ³•åœ‹çš„åŸå¸‚é–‹å§‹å¯¦æ–½<span class="font-bold">éš”é›¢æª¢ç–«ï¼ˆQuarantineï¼‰</span>ï¼Œéš”é›¢å…¥å¢ƒèˆ¹éš»40å¤©ã€‚æ­¤å¤–ï¼Œé‚„å»ºç«‹äº†å°ˆé–€çš„<span class="font-bold">éš”é›¢é†«é™¢ï¼ˆLazarettosï¼‰</span>ä¾†ç…§é¡§é¼ ç–«æ‚£è€…ï¼Œä¸¦è¨­ç«‹è¡›ç”Ÿå§”å“¡æœƒä¾†ç®¡ç†é˜²ç–«ã€‚é€™äº›æªæ–½ä»£è¡¨äº†åœ‹å®¶ç´šå…¬å…±è¡›ç”Ÿç®¡ç†çš„é–‹ç«¯ã€‚',
                    religionTitle: 'ä¿¡ä»°ã€ææ‡¼èˆ‡ç‹‚ç†±',
                    religionInfo: 'ç˜Ÿç–«è¢«æ™®éè¦–ç‚ºä¸Šå¸çš„æ‡²ç½°ã€‚æ•™æœƒç„¡åŠ›è§£é‡‹å’Œæ‡‰å°ï¼Œå°è‡´äº†æ·±åˆ»çš„ä¿¡ä»°å±æ©Ÿã€‚ä½œç‚ºå›æ‡‰ï¼Œå‡ºç¾äº†<span class="font-bold">é­ç¬æ´¾é‹å‹•</span>ï¼Œæ‡ºæ‚”è€…å…¬é–‹é­æ‰“è‡ªå·±ä»¥å¹³æ¯ç¥æ€’ã€‚é€™ç¨®æ¥µç«¯è¡Œç‚ºæœ€çµ‚è¢«æ•™çš‡è­´è²¬ç‚ºç•°ç«¯ã€‚åŒæ™‚ï¼Œæ–°çš„è—è¡“ä¸»é¡Œ<span class="font-bold">ã€Œæ­»äº¡ä¹‹èˆã€</span>å‡ºç¾ï¼Œå¼·èª¿æ­»äº¡é¢å‰äººäººå¹³ç­‰ã€‚',
                    scapegoatingTitle: 'æ–¯ç‰¹æ‹‰æ–¯å ¡å¤§å± æ®º',
                    scapegoatingInfo: 'åœ¨ææ‡¼å’Œç„¡çŸ¥ä¸­ï¼Œäººå€‘ç˜‹ç‹‚å°‹æ‰¾ä»£ç½ªç¾”ç¾Šï¼ŒçŒ¶å¤ªç¤¾å€æˆç‚ºä¸»è¦ç›®æ¨™ã€‚è¬ è¨€ç¨±ä»–å€‘åœ¨æ°´äº•æŠ•æ¯’ã€‚é€™å¼•ç™¼äº†æ­æ´²ç¯„åœå…§çš„å¤§å± æ®ºã€‚å…¶ä¸­æœ€æ…˜çƒˆçš„æ˜¯<span class="font-bold">1349å¹´2æœˆ14æ—¥çš„æ–¯ç‰¹æ‹‰æ–¯å ¡å¤§å± æ®º</span>ï¼Œåœ¨ç˜Ÿç–«åˆ°é”è©²åŸä¹‹å‰ï¼Œæ•¸åƒåçŒ¶å¤ªäººå°±åœ¨æ°‘çœ¾çš„ç‹‚ç†±ä¸­è¢«æ´»æ´»ç‡’æ­»ï¼Œå…¶èƒŒå¾Œä¹Ÿäº¤ç¹”è‘—ç¶“æ¿Ÿå‹•æ©Ÿã€‚',

                    // Transformation Section
                    transformationTitle: 'ç¬¬äº”ç« ï¼šé©å‘½æ€§çš„é¤˜æ³¢',
                    transformationIntro: 'é»‘æ­»ç—…ä¸åƒ…æ˜¯ä¸€å ´ç½é›£ï¼Œæ›´æ˜¯ä¸€å€‹å¼·å¤§çš„æ­·å²å‚¬åŒ–åŠ‘ã€‚å·¨å¤§çš„äººå£æå¤±å¾æ ¹æœ¬ä¸Šæ”¹è®Šäº†æ­æ´²çš„ç¶“æ¿Ÿå’Œç¤¾æœƒçµæ§‹ã€‚å‹å‹•åŠ›çŸ­ç¼ºé¡›è¦†äº†å°å»ºåˆ¶åº¦ï¼Œè³¦äºˆäº†åº•å±¤æ°‘çœ¾å‰æ‰€æœªæœ‰çš„è­°åƒ¹èƒ½åŠ›ï¼Œä¸¦ç‚ºä¸€å€‹æ›´å…·æµå‹•æ€§å’Œæ´»åŠ›çš„ç¤¾æœƒå¥ å®šäº†åŸºç¤ï¼Œç„¡æ„ä¸­æ•²éŸ¿äº†é€šå¾€ç¾ä»£ä¸–ç•Œçš„å¤§é–€ã€‚',
                    transformationOrderTitle: 'èˆŠç§©åºçš„çµ‚çµ',
                    orderBefore: 'ç˜Ÿç–«å‰',
                    orderBeforeState: 'å‹å‹•åŠ›éå‰©',
                    orderBeforeInfo: 'è¾²å¥´è¢«æŸç¸›åœ¨åœŸåœ°ä¸Šï¼Œå·¥è³‡ä½å»‰ã€‚',
                    orderAfter: 'ç˜Ÿç–«å¾Œ',
                    orderAfterState: 'å‹å‹•åŠ›çŸ­ç¼º',
                    orderAfterInfo: 'å€–å­˜è€…æ“æœ‰è­°åƒ¹èƒ½åŠ›ï¼Œç¤¾æœƒæµå‹•æ€§å¢åŠ ã€‚',
                    transformationRevoltInfo: 'é€™ç¨®è½‰è®Šå¼•ç™¼äº†è²´æ—çš„æŠµåˆ¶å’Œè¾²æ°‘çš„åæŠ—ï¼Œæœ€è‘—åçš„æ˜¯1358å¹´çš„<span class="font-bold">æ‰å…‹é›·èµ·ç¾©ï¼ˆJacquerieï¼‰</span>ã€‚å„˜ç®¡èµ·ç¾©è¢«æ®˜é…·é®å£“ï¼Œä½†å®ƒæ¨™èªŒè‘—ä¸‹å±¤éšç´šæ‹’çµ•å›åˆ°èˆŠç§©åºçš„æ±ºå¿ƒã€‚',
                    wagesChartTitle: 'ç˜Ÿç–«å¾Œå·¥è³‡è®ŠåŒ–è¶¨å‹¢',
                    wagesChartLabel: 'æŠ€è¡“å·¥äººåç›®å·¥è³‡æŒ‡æ•¸',
                    wagesChartDataLabels: ['1340', '1347 (ç˜Ÿç–«å‰)', '1350 (ç˜Ÿç–«å¾Œ)', '1360', '1380'],
                    wagesChartFootnote: 'æ¦‚å¿µæ€§å±•ç¤ºï¼Œéç²¾ç¢ºæ­·å²æ•¸æ“š',
                    
                    // Footer
                    footerNotice: 'æ­¤äº’å‹•å¼æ‡‰ç”¨ç¨‹å¼æ ¹æ“šæ­·å²å ±å‘Šç”Ÿæˆï¼Œæ—¨åœ¨æä¾›æ•™è‚²æ€§æ¦‚è¦½ã€‚',
                    footerCredit: 'è¨­è¨ˆèˆ‡é–‹ç™¼ by Gemini AI',
                },
                en: {
                    // Header & Nav
                    headerTitle: 'The Great Mortality',
                    navOrigin: 'Origin',
                    navSpread: 'Spread',
                    navImpact: 'Impact',
                    navResponse: 'Response',
                    navTransformation: 'Transformation',
                    toggleButton: 'ä¸­æ–‡',

                    // Hero Section
                    mainTitle: 'The Great Mortality',
                    mainSubtitle: 'An Interactive Analysis of the Origin, Spread, and Transformative Impact of the Black Death in 14th-Century France',
                    mainIntro: 'In the mid-14th century, an unprecedented catastrophe swept across Eurasia, leaving an indelible mark on France. It was not merely a demographic tragedy but a potent force of change that fundamentally reshaped the foundations of society. This application will guide you through the plague\'s origins, trace its deadly path through France, examine societal responses, and unveil its profound historical consequences.',
                    
                    // Origin Section
                    originTitle: 'Chapter I: The Birth of a Plague',
                    originIntro: 'It all began with a tiny bacterium and an increasingly connected world. Modern science reveals the culprit of the Black Death to be $Yersinia\ pestis$, with origins tracing back to the mountains of Central Asia. This section explores the pathogen\'s characteristics and shows how it spread from wildlife to human society through a complex ecological chain.',
                    originChainTitle: 'The Deadly Transmission Chain',
                    chainMarmot: 'Marmot',
                    chainMarmotInfo: 'The natural reservoir, a wild rodent carrying $Yersinia\ pestis$.',
                    chainFlea: 'Flea',
                    chainFleaInfo: 'Becomes a vector after biting an infected marmot.',
                    chainRat: 'Black Rat',
                    chainRatInfo: 'Living alongside humans, it becomes a key bridge vector by traveling on caravans and ships.',
                    chainHuman: 'Human',
                    chainHumanInfo: 'The human epidemic begins when people are bitten by infected fleas.',
                    hoverInstruction: 'Hover over the icons for more information.',
                    originFormsTitle: 'Three Deadly Forms',
                    formBubonic: 'Bubonic Plague',
                    formBubonicInfo: 'The most common form, spread by flea bites. Characterized by swollen lymph nodes (buboes), with a mortality rate of <span class="font-bold text-red-700">30-75%</span>.',
                    formPneumonic: 'Pneumonic Plague',
                    formPneumonicInfo: 'Affecting the lungs, it could be transmitted person-to-person via respiratory droplets. Untreated, mortality approached <span class="font-bold text-red-700">100%</span>.',
                    formSepticemic: 'Septicemic Plague',
                    formSepticemicInfo: 'The bacteria directly infects the bloodstream, leading to almost certain death in that era, with mortality rates of <span class="font-bold text-red-700">99-100%</span>.',

                    // Spread Section
                    spreadTitle: 'Chapter II: Catastrophe on the Silk Road',
                    spreadIntro: 'The "Pax Mongolica" fostered unprecedented prosperity on the Silk Road but also paved the way for the rapid spread of disease. A zoonotic disease once confined to Central Asia embarked on a journey to Europe via globalized trade networks. The siege of Caffa became a pivotal turning point; whether through biological warfare or commercial contact, the plague ultimately boarded ships bound for Europe.',
                    timelineBigBang: 'Central Asian "Big Bang"',
                    timelineBigBangInfo: 'Tombstones in Kyrgyzstan from 1338-39, inscribed with "pestilence," are considered the origin point.',
                    timelineCaffa: 'Siege of Caffa',
                    timelineCaffaInfo: 'The Genoese trading port on the Black Sea became the springboard for the plague into Europe.',
                    timelineMessina: 'Arrival in Messina',
                    timelineMessinaInfo: 'The "death ships" reached Sicily, marking the plague\'s official entry into the heart of Europe.',
                    timelineMarseille: 'Invasion of Marseille, France',
                    timelineMarseilleInfo: 'The plague entered the Kingdom of France through its main trading port, beginning its deadly conquest.',

                    // Impact Section
                    impactTitle: 'Chapter III: The Fall of France',
                    impactIntro: 'The Black Death dealt a devastating blow to France, whose large population made the losses particularly severe. From Marseille in the south to the papal seat at Avignon and Paris in the north, no place was spared. The sheer scale and speed of death shattered the social fabric, as fear tore apart families and communities.',
                    impactScaleTitle: 'The Scale of the Disaster',
                    impactScaleInfo: 'France lost an estimated <span class="text-4xl font-bold text-red-700">30%</span> to <span class="text-4xl font-bold text-red-700">60%</span> of its population. In some regions, like Normandy, the death toll may have reached a staggering <span class="text-3xl font-bold text-red-700">70-80%</span>. The chronicler Jean Froissart estimated that "a third of the world died," a chilling figure.',
                    impactQuote: '"The father did not visit the son, nor the son the father. Charity was dead and hope was gone."',
                    impactQuoteAuthor: '- Boccaccio on the societal breakdown',
                    mortalityChartTitle: 'Estimated Mortality Rates in Key French Regions',
                    mortalityChartLabel: 'Estimated Peak Mortality Rate (%)',
                    mortalityChartDataLabels: ['Normandy', 'Paris', 'Burgundy (Givry)', 'Languedoc', 'European Average'],
                    mortalityTooltip: ' Est. Mortality',
                    
                    // Response Section
                    responseTitle: 'Chapter IV: Societal Responses to Crisis',
                    responseIntro: 'Faced with an incomprehensible disaster, 14th-century French society struggled in desperation. From medical attempts based on flawed theories to institutional innovations that birthed modern public health; from religious fanaticism seeking miracles to the violent scapegoating that channeled fear. These responses paint a picture of a society on the brink of collapse.',
                    tabMedical: 'Medical Response',
                    tabPublicHealth: 'Public Health',
                    tabReligion: 'Religious Fervor',
                    tabScapegoating: 'Scapegoating',
                    medicalTitle: 'Tradition and Observation',
                    medicalInfo: 'Medieval medicine was dominated by the "miasma theory," believing disease was caused by corrupt air. Treatments like bloodletting, purging, and using aromatic herbs were ineffective. However, physicians like Guy de Chauliac, a papal doctor, stayed at their posts, documenting the illness and making the first clear distinction between bubonic and pneumonic plague, showing the importance of clinical observation.',
                    publicHealthTitle: 'The Birth of Public Health',
                    publicHealthInfo: 'Despite medical failures, the plague spurred institutional public health measures. Cities in Italy and France began implementing the <span class="font-bold">quarantine</span>, isolating incoming ships for 40 days. Specialized <span class="font-bold">lazarettos</span> (plague hospitals) were established, and health boards were created to manage the response. These measures represented the dawn of state-level public health management.',
                    religionTitle: 'Faith, Fear, and Fanaticism',
                    religionInfo: 'The plague was widely seen as divine punishment. The Church\'s inability to explain or stop it led to a profound crisis of faith. In response, the <span class="font-bold">Flagellant movement</span> arose, where penitents publicly whipped themselves to appease God\'s wrath. This extremism was eventually condemned as heresy. The artistic theme of the <span class="font-bold">"Danse Macabre"</span> (Dance of Death) emerged, emphasizing that death equalizes all.',
                    scapegoatingTitle: 'The Strasbourg Massacre',
                    scapegoatingInfo: 'In fear and ignorance, people desperately sought scapegoats, and Jewish communities were the primary target, accused of poisoning wells. This led to massacres across Europe. One of the most horrific was in <span class="font-bold">Strasbourg on Feb 14, 1349</span>, where thousands of Jews were burned alive by a frenzied populace, often before the plague even arrived, driven also by economic motives.',

                    // Transformation Section
                    transformationTitle: 'Chapter V: The Revolutionary Aftermath',
                    transformationIntro: 'The Black Death was not just a catastrophe but a powerful historical catalyst. The massive population loss fundamentally altered Europe\'s economic and social structure. Labor shortages upended the feudal system, giving unprecedented bargaining power to the lower classes and paving the way for a more fluid and dynamic society, inadvertently opening the door to the modern world.',
                    transformationOrderTitle: 'The End of the Old Order',
                    orderBefore: 'Before the Plague',
                    orderBeforeState: 'Labor Surplus',
                    orderBeforeInfo: 'Serfs were tied to the land with low wages.',
                    orderAfter: 'After the Plague',
                    orderAfterState: 'Labor Shortage',
                    orderAfterInfo: 'Survivors had bargaining power, increasing social mobility.',
                    transformationRevoltInfo: 'This shift prompted resistance from the nobility and revolts from the peasantry, most famously the <span class="font-bold">Jacquerie</span> in 1358. Though brutally suppressed, it signaled the lower classes\' refusal to return to the old order.',
                    wagesChartTitle: 'Post-Plague Wage Trend',
                    wagesChartLabel: 'Nominal Wage Index for Skilled Laborers',
                    wagesChartDataLabels: ['1340', '1347 (Pre-Plague)', '1350 (Post-Plague)', '1360', '1380'],
                    wagesChartFootnote: 'Conceptual representation, not precise historical data',
                    
                    // Footer
                    footerNotice: 'This interactive application was generated from historical reports for educational purposes.',
                    footerCredit: 'Designed & Developed by Gemini AI',
                }
            };
            
            const langToggleButton = document.getElementById('lang-toggle');

            function switchLanguage(lang) {
                currentLanguage = lang;
                document.documentElement.lang = lang === 'zh' ? 'zh-TW' : 'en';

                const elements = document.querySelectorAll('[data-lang-key]');
                elements.forEach(el => {
                    const key = el.dataset.langKey;
                    if (translations[lang][key]) {
                        el.innerHTML = translations[lang][key];
                    }
                });

                langToggleButton.textContent = translations[lang].toggleButton;
                
                // Re-create charts with translated labels
                createMortalityChart(lang);
                createWagesChart(lang);
            }

            function createMortalityChart(lang) {
                if (mortalityChartInstance) {
                    mortalityChartInstance.destroy();
                }
                const mortalityCtx = document.getElementById('mortalityChart').getContext('2d');
                mortalityChartInstance = new Chart(mortalityCtx, {
                    type: 'bar',
                    data: {
                        labels: translations[lang].mortalityChartDataLabels,
                        datasets: [{
                            label: translations[lang].mortalityChartLabel,
                            data: [80, 50, 50, 60, 60],
                            backgroundColor: 'rgba(180, 83, 9, 0.6)',
                            borderColor: 'rgba(180, 83, 9, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: { beginAtZero: true, max: 100, ticks: { callback: value => value + '%' } }
                        },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: context => `${translations[lang].mortalityTooltip}: ${context.raw}%`
                                }
                            }
                        }
                    }
                });
            }

            function createWagesChart(lang) {
                if (wagesChartInstance) {
                    wagesChartInstance.destroy();
                }
                const wagesCtx = document.getElementById('wagesChart').getContext('2d');
                wagesChartInstance = new Chart(wagesCtx, {
                    type: 'line',
                    data: {
                        labels: translations[lang].wagesChartDataLabels,
                        datasets: [{
                            label: translations[lang].wagesChartLabel,
                            data: [100, 105, 180, 220, 250],
                            fill: true,
                            backgroundColor: 'rgba(252, 211, 77, 0.2)',
                            borderColor: 'rgba(180, 83, 9, 1)',
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            title: { display: true, text: translations[lang].wagesChartFootnote }
                        }
                    }
                });
            }

            langToggleButton.addEventListener('click', () => {
                const newLang = currentLanguage === 'zh' ? 'en' : 'zh';
                switchLanguage(newLang);
            });
            
            // Setup intersection observer for nav highlighting
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-30% 0px -70% 0px' });
            sections.forEach(section => observer.observe(section));

            // Setup tabs
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanes = document.querySelectorAll('.tab-pane');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.dataset.tab;
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    tabPanes.forEach(pane => {
                        pane.classList.toggle('hidden', pane.id !== `${tabId}-content`);
                    });
                });
            });

            // Initial load
            switchLanguage('zh'); // Default language
            document.querySelector('.tab-button[data-tab="medical"]').click();
        });
    </script>
</body>
</html>
