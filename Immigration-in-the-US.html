<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="page_title">äº’å‹•å¼å ±å‘Šï¼šç¾åœ‹ç„¡è­‰ç§»æ°‘çš„èµ·æº</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f8f7f4;
            color: #333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .nav-link {
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #0d9488; /* teal-600 */
        }
        .timeline-item.active {
            background-color: #0d9488; /* teal-600 */
            color: white;
        }
        .timeline-item {
            cursor: pointer;
            transition: all 0.3s;
        }
        /* Language switcher style */
        #lang-switcher {
            border: 1px solid #0d9488;
            color: #0d9488;
            padding: 6px 12px;
            border-radius: 9999px;
            font-weight: 500;
            transition: all 0.3s;
        }
        #lang-switcher:hover {
            background-color: #0d9488;
            color: white;
        }
    </style>
</head>
<body class="bg-stone-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center max-w-7xl">
            <h1 class="font-bold text-lg md:text-xl text-teal-700" data-lang-key="nav_title">ç¾åœ‹ç§»æ°‘é«”ç³»çš„èµ·æº</h1>
            <div class="hidden md:flex items-center space-x-6 text-sm font-medium">
                <a href="#intro" class="nav-link text-slate-600" data-lang-key="nav_intro">å°è«–</a>
                <a href="#timeline" class="nav-link text-slate-600" data-lang-key="nav_timeline">æ­·å²çš„å¡‘é€ </a>
                <a href="#drivers" class="nav-link text-slate-600" data-lang-key="nav_drivers">é©…å‹•çš„å¼•æ“</a>
                <a href="#paradox" class="nav-link text-slate-600" data-lang-key="nav_paradox">åŸ·æ³•çš„æ‚–è«–</a>
                <a href="#broken-system" class="nav-link text-slate-600" data-lang-key="nav_system">å¤±éˆçš„é«”ç³»</a>
                <a href="#solutions" class="nav-link text-slate-600" data-lang-key="nav_solutions">å‰è¡Œä¹‹è·¯</a>
                <button id="lang-switcher" class="text-sm">English</button>
            </div>
            <div class="flex items-center md:hidden">
                <button id="lang-switcher-mobile" class="text-sm mr-4" style="border: 1px solid #0d9488; color: #0d9488; padding: 4px 8px; border-radius: 9999px;">EN</button>
                <button id="mobile-menu-button" class="text-slate-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#intro" class="block py-2 nav-link text-slate-600" data-lang-key="nav_intro_mobile">å°è«–</a>
             <a href="#timeline" class="block py-2 nav-link text-slate-600" data-lang-key="nav_timeline_mobile">æ­·å²çš„å¡‘é€ </a>
             <a href="#drivers" class="block py-2 nav-link text-slate-600" data-lang-key="nav_drivers_mobile">é©…å‹•çš„å¼•æ“</a>
             <a href="#paradox" class="block py-2 nav-link text-slate-600" data-lang-key="nav_paradox_mobile">åŸ·æ³•çš„æ‚–è«–</a>
             <a href="#broken-system" class="block py-2 nav-link text-slate-600" data-lang-key="nav_system_mobile">å¤±éˆçš„é«”ç³»</a>
             <a href="#solutions" class="block py-2 nav-link text-slate-600" data-lang-key="nav_solutions_mobile">å‰è¡Œä¹‹è·¯</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-16 max-w-7xl">

        <!-- Section: Introduction -->
        <section id="intro" class="text-center mb-16 md:mb-24">
            <h2 class="text-3xl md:text-5xl font-bold text-teal-800 mb-4" data-lang-key="intro_title">ä¸€å€‹éé æœŸçš„é«”ç³»</h2>
            <p class="text-lg md:text-xl text-slate-600 max-w-4xl mx-auto" data-lang-key="intro_p">
                ç¾åœ‹é¾å¤§çš„ç„¡è­‰ç§»æ°‘äººå£ä¸¦éä¸€å ´æ„å¤–ï¼Œè€Œæ˜¯ä¸€å€‹ä¸–ç´€ä»¥ä¾†ï¼Œå……æ»¿çŸ›ç›¾ä¸”å¾€å¾€é©å¾—å…¶åçš„æ”¿ç­–æ‰€å…±åŒå¡‘é€ çš„ç³»çµ±æ€§çµæœã€‚æœ¬å ±å‘Šå°‡æ­ç¤ºï¼Œé€™å€‹ã€Œå¤±éˆã€çš„é«”ç³»æ˜¯å¦‚ä½•è¢«åˆ»æ„å»ºæ§‹ï¼Œåˆå¦‚ä½•èˆ‡ç¾åœ‹çš„ç¶“æ¿Ÿç¾å¯¦åŠäººé“åƒ¹å€¼è§€ç›¸è„«ç¯€ã€‚
            </p>
        </section>

        <!-- Section: Timeline -->
        <section id="timeline" class="mb-16 md:mb-24">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-2" data-lang-key="timeline_title">æ­·å²çš„å¡‘é€ ï¼šæ³•å¾‹å¦‚ä½•å‰µé€ ã€Œéæ³•ã€</h3>
                <p class="text-slate-600 max-w-3xl mx-auto" data-lang-key="timeline_p">é»æ“Šä¸‹æ–¹çš„å¹´ä»½ï¼Œæ¢ç´¢é—œéµæ³•å¾‹å¦‚ä½•é€æ­¥å®šç¾©ä¸¦æœ€çµ‚å°‡ä¸€å€‹åˆæ³•çš„å‹å‹•åŠ›æµå‹•ã€Œéæ³•åŒ–ã€ã€‚</p>
            </div>
            <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                <button class="timeline-item text-sm md:text-base font-bold py-2 px-4 rounded-full bg-white shadow-sm" data-id="1882">1882</button>
                <button class="timeline-item text-sm md:text-base font-bold py-2 px-4 rounded-full bg-white shadow-sm" data-id="1924">1924</button>
                <button class="timeline-item text-sm md:text-base font-bold py-2 px-4 rounded-full bg-white shadow-sm" data-id="1964">1964-65</button>
                <button class="timeline-item text-sm md:text-base font-bold py-2 px-4 rounded-full bg-white shadow-sm" data-id="1994">1994</button>
            </div>
            <div id="timeline-content" class="bg-white p-6 md:p-8 rounded-lg shadow-lg min-h-[200px] transition-all duration-500 max-w-4xl mx-auto">
                <!-- Content will be injected by JS -->
            </div>
        </section>

        <!-- Section: Drivers -->
        <section id="drivers" class="mb-16 md:mb-24">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-2" data-lang-key="drivers_title">ç§»æ°‘çš„å¼•æ“ï¼šæ‹‰åŠ›èˆ‡æ¨åŠ›</h3>
                <p class="text-slate-600 max-w-3xl mx-auto" data-lang-key="drivers_p">å¼·å¤§çš„ç¶“æ¿Ÿèˆ‡ç¤¾æœƒåŠ›é‡ï¼Œèˆ‡æ—¥ç›Šåš´è‹›çš„æ³•å¾‹é™åˆ¶ç”¢ç”Ÿå·¨å¤§å¼µåŠ›ï¼Œæ§‹æˆäº†ç„¡è­‰ç§»æ°‘ç¾è±¡çš„æ ¸å¿ƒå‹•åŠ›ã€‚</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Pull Factors -->
                <div class="bg-teal-50 p-6 rounded-lg border-l-4 border-teal-500">
                    <h4 class="text-xl font-bold mb-4 text-teal-800" data-lang-key="drivers_pull_title">ğŸ‡ºğŸ‡¸ ç¾åœ‹çš„æ‹‰åŠ› (Pull Factors)</h4>
                    <ul class="space-y-3 text-slate-700">
                        <li data-lang-key="drivers_pull_1"><strong>å‹å‹•åŠ›ç£éµ:</strong> è¾²æ¥­ã€å»ºç¯‰å’Œæœå‹™æ¥­é•·æœŸä¾è³´ä½æˆæœ¬ã€éˆæ´»çš„å‹å‹•åŠ›ã€‚é€™ç¨®çµæ§‹æ€§éœ€æ±‚æ˜¯å¸å¼•ç§»æ°‘æœ€æ ¹æœ¬çš„åŸå› ã€‚</li>
                        <li data-lang-key="drivers_pull_2"><strong>å·¥è³‡é´»æº:</strong> åœ¨ç¾åœ‹å¾äº‹ä½æŠ€è¡“å·¥ä½œçš„å ±é…¬é é«˜æ–¼ä¾†æºåœ‹ï¼Œå·¨å¤§çš„ç¶“æ¿Ÿæ¢¯åº¦æ§‹æˆäº†å¼·å¤§çš„èª˜å› ã€‚</li>
                        <li data-lang-key="drivers_pull_3"><strong>ç¤¾æœƒç¶²çµ¡:</strong> å·²åœ¨ç¾çš„ç§»æ°‘é€šéå®¶åº­åœ˜èšå’Œã€Œéˆå¼ç§»æ°‘ã€ï¼Œç‚ºå¾Œä¾†çš„åŒé„‰æä¾›è³‡è¨Šã€ä½æ‰€å’Œè³‡é‡‘ï¼Œæ¥µå¤§é™ä½äº†ç§»æ°‘çš„é¢¨éšªå’Œæˆæœ¬ã€‚</li>
                    </ul>
                </div>
                <!-- Push Factors -->
                <div class="bg-orange-50 p-6 rounded-lg border-l-4 border-orange-500">
                    <h4 class="text-xl font-bold mb-4 text-orange-800" data-lang-key="drivers_push_title">ğŸŒ ä¾†æºåœ‹çš„æ¨åŠ› (Push Factors)</h4>
                    <ul class="space-y-3 text-slate-700">
                        <li data-lang-key="drivers_push_1"><strong>ç¶“æ¿Ÿå‹•ç›ª:</strong> ã€ŠåŒ—ç¾è‡ªç”±è²¿æ˜“å”å®šã€‹(NAFTA) ç­‰æ”¿ç­–è¡æ“Šäº†å¢¨è¥¿å“¥è¾²æ¥­ï¼Œå°è‡´æ•¸ç™¾è¬è¾²æ°‘æµé›¢å¤±æ‰€ï¼Œè¢«è¿«åŒ—ä¸Šã€‚</li>
                        <li data-lang-key="drivers_push_2"><strong>æš´åŠ›èˆ‡å¤±èƒ½:</strong> ä¸­ç¾æ´²åŒ—ä¸‰è§’åœ°å€çš„å¹«æ´¾æš´åŠ›ã€æ”¿åºœè…æ•—å’Œæ³•æ²»ä¸å½°ï¼Œè¿«ä½¿äººå€‘ç‚ºæ±‚ç”Ÿå­˜è€Œé€ƒé›¢å®¶åœ’ã€‚</li>
                        <li data-lang-key="drivers_push_3"><strong>æ°£å€™è®Šé·:</strong> é•·æœŸä¹¾æ—±å’Œæ¥µç«¯å¤©æ°£äº‹ä»¶æ‘§æ¯€äº†è¾²æ¥­ç”Ÿè¨ˆï¼ŒåŠ åŠ‡äº†ç³§é£Ÿä¸å®‰å…¨ï¼Œä½¿ç§»æ°‘æˆç‚ºè¨±å¤šè¾²æ‘å®¶åº­çš„å”¯ä¸€é¸æ“‡ã€‚</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section: Enforcement Paradox -->
        <section id="paradox" class="mb-16 md:mb-24">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-2" data-lang-key="paradox_title">åŸ·æ³•çš„æ‚–è«–ï¼šé‚Šå¢ƒç®¡åˆ¶å¦‚ä½•é©å¾—å…¶å</h3>
                <p class="text-slate-600 max-w-3xl mx-auto" data-lang-key="paradox_p">è‡ª90å¹´ä»£ä»¥ä¾†ï¼Œç¾åœ‹æ¡å–ã€Œä»¥å¨æ‡¾é é˜²ã€çš„åŸ·æ³•ç­–ç•¥ã€‚æ•¸æ“šé¡¯ç¤ºï¼Œé€™ä¸åƒ…æœªèƒ½é˜»æ­¢ç§»æ°‘ï¼Œåè€Œç”¢ç”Ÿäº†ä¸€ç³»åˆ—æ‚²åŠ‡æ€§çš„ã€æ„æƒ³ä¸åˆ°çš„å¾Œæœã€‚</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h4 class="text-lg font-bold text-center mb-4" data-lang-key="paradox_chart1_title">æ‚–è«–ä¸€ï¼šæ”¯å‡ºé£†å‡ï¼Œå¾ªç’°çµ‚çµ</h4>
                    <p class="text-sm text-center text-slate-500 mb-4" data-lang-key="paradox_chart1_p">1965å¹´å¾Œï¼Œåˆæ³•å‹å·¥æ¸ é“é—œé–‰ï¼Œé‚Šå¢ƒé€®æ•äººæ•¸ï¼ˆè¡¡é‡ç„¡è­‰æµå‹•çš„æŒ‡æ¨™ï¼‰éš¨ä¹‹ä¸Šå‡ã€‚å¼·åŒ–çš„é‚Šå¢ƒåŸ·æ³•ä¸¦æœªé˜»æ­¢äººå€‘å‰ä¾†ï¼Œè€Œæ˜¯çµ‚çµäº†ä»¥å¾€çš„ã€Œå¾ªç’°ç§»æ°‘ã€æ¨¡å¼ï¼Œè¿«ä½¿ç§»æ°‘é•·æœŸå®šå±…ã€‚</p>
                    <div class="chart-container">
                        <canvas id="braceroChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h4 class="text-lg font-bold text-center mb-4" data-lang-key="paradox_chart2_title">æ‚–è«–äºŒï¼šé ç®—è¶Šå¤šï¼Œæ­»äº¡è¶Šå¤š</h4>
                    <p class="text-sm text-center text-slate-500 mb-4" data-lang-key="paradox_chart2_p">é‚Šå¢ƒå·¡é‚éšŠé ç®—æ€¥åŠ‡å¢åŠ ï¼Œå°‡ç§»æ°‘æ¨å‘æ›´å±éšªçš„æ²™æ¼ åœ°å¸¶ã€‚çµæœæ˜¯é‚Šå¢ƒæ­»äº¡äººæ•¸åŒæ­¥æ”€å‡ï¼Œå‚¬ç”Ÿäº†é¾å¤§çš„å·æ¸¡ç”¢æ¥­ï¼Œä½¿é‚Šå¢ƒè®Šå¾—æ›´å±éšªã€‚</p>
                    <div class="chart-container">
                        <canvas id="enforcementChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section: A Broken System -->
        <section id="broken-system" class="mb-16 md:mb-24">
            <div class="text-center mb-12">
                <h3 class="text-2xl md:text-4xl font-bold mb-2" data-lang-key="system_title">ä¸€å€‹å¤±éˆçš„é«”ç³»ï¼šåˆæ³•æ¸ é“çš„ç“¶é ¸</h3>
                <p class="text-slate-600 max-w-3xl mx-auto" data-lang-key="system_p">è¨±å¤šäººå•ï¼šã€Œä»–å€‘ç‚ºä»€éº¼ä¸åˆæ³•åœ°ä¾†ï¼Ÿã€ç­”æ¡ˆæ˜¯ï¼šå°æ–¼çµ•å¤§å¤šæ•¸äººä¾†èªªï¼Œåˆæ³•æ¸ é“å¹¾ä¹ä¸å­˜åœ¨æˆ–å½¢åŒè™›è¨­ï¼Œé€™æœ¬èº«å°±æ˜¯è£½é€ ç„¡è­‰äººå£çš„å¦ä¸€å€‹æºé ­ã€‚</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg text-center">
                    <h4 class="text-lg font-bold mb-2" data-lang-key="system_card1_title">ç°½è­‰é€¾æœŸå±…ç•™</h4>
                    <p class="text-sm text-slate-500 mb-4" data-lang-key="system_card1_p">ä¸€å€‹å¸¸è¢«å¿½è¦–çš„äº‹å¯¦ï¼šè¿‘åŠæ•¸çš„ç„¡è­‰ç§»æ°‘æ˜¯åˆæ³•å…¥å¢ƒï¼Œä½†åœ¨ç°½è­‰åˆ°æœŸå¾Œç•™ä¸‹ã€‚é€™ä¸åƒ…åƒ…æ˜¯é‚Šå¢ƒå•é¡Œã€‚</p>
                    <div class="chart-container h-64 max-h-[30vh]">
                        <canvas id="overstayChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center flex flex-col justify-center">
                    <h4 class="text-lg font-bold mb-2" data-lang-key="system_card2_title">é•·é”æ•¸åå¹´çš„ç©å£“</h4>
                    <p class="text-slate-700 text-3xl font-bold text-red-600 mb-2" data-lang-key="system_card2_year">~20+ å¹´</p>
                    <p class="text-sm text-slate-500" data-lang-key="system_card2_p">å°æ–¼æŸäº›å®¶åº­æ“”ä¿é¡åˆ¥ï¼Œç²å¾—ç¶ å¡çš„ç­‰å¾…æ™‚é–“è¶…é20å¹´ã€‚ä¸€å€‹å½¢åŒè™›è¨­çš„ã€Œåˆæ³•é€”å¾‘ã€ï¼Œåœ¨ç¾å¯¦ä¸­æ¯«ç„¡æ„ç¾©ã€‚</p>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg text-center">
                    <h4 class="text-lg font-bold mb-2" data-lang-key="system_card3_title">è‡¨æ™‚å·¥ç°½è­‰ï¼šæ¯æ°´è»Šè–ª</h4>
                     <p class="text-sm text-slate-500 mb-4" data-lang-key="system_card3_p">ç¾åœ‹ç¶“æ¿Ÿæ€¥éœ€çš„éè¾²æ¥­è‡¨æ™‚å·¥(H-2B)ç°½è­‰ï¼Œæ¯å¹´å…¨çƒé…é¡åƒ…6.6è¬å€‹ï¼Œé ç„¡æ³•æ»¿è¶³å¸‚å ´éœ€æ±‚ã€‚</p>
                    <div class="chart-container h-64 max-h-[30vh]">
                        <canvas id="h2bChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Solutions -->
        <section id="solutions" class="bg-slate-100 -mx-6 px-6 py-16 md:-mx-16 md:px-16">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-12">
                    <h3 class="text-2xl md:text-4xl font-bold mb-2" data-lang-key="solutions_title">æ”¿æ²»åƒµå±€èˆ‡å‰è¡Œä¹‹è·¯</h3>
                    <p class="text-slate-600 max-w-3xl mx-auto" data-lang-key="solutions_p">ä»»ä½•å…¨é¢çš„è§£æ±ºæ–¹æ¡ˆéƒ½å¿…é ˆæ“ºè„«é»¨æ´¾ä¹‹çˆ­ï¼Œæ¡å–å‹™å¯¦çš„ã€å¤šç®¡é½Šä¸‹çš„ç­–ç•¥ï¼Œå°‡æ³•å¾‹æ¸ é“ã€ç¶“æ¿Ÿç¾å¯¦å’Œäººé“ä¸»ç¾©è€ƒé‡çµ±ä¸€èµ·ä¾†ã€‚</p>
                </div>
                <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                    <h4 class="text-xl font-bold mb-6 text-center text-teal-800" data-lang-key="solutions_subtitle">é‚å‘ä¸€å€‹é€£è²«æ”¿ç­–çš„æ·±åº¦å»ºè­°</h4>
                    <ol class="space-y-4 list-decimal list-inside text-slate-700">
                        <li data-lang-key="solutions_1"><strong>æ“´å¤§å’Œæ”¹é©åˆæ³•æ¸ é“ï¼š</strong> å‰µå»ºéˆæ´»çš„ã€èƒ½éŸ¿æ‡‰å¸‚å ´éœ€æ±‚çš„è‡¨æ™‚å·¥äººç°½è­‰è¨ˆç•«ï¼Œç‚ºå‹å·¥æä¾›åˆæ³•çš„æ›¿ä»£æ–¹æ¡ˆï¼Œé‡œåº•æŠ½è–ªã€‚</li>
                        <li data-lang-key="solutions_2"><strong>æ¸…ç†ç°½è­‰ç©å£“ï¼š</strong> ç‚ºç§»æ°‘ç®¡ç†æ©Ÿæ§‹æä¾›è¶³å¤ è³‡æºï¼Œå¤§å¹…å‰Šæ¸›é•·é”æ•¸åå¹´çš„ç°½è­‰ç©å£“ï¼Œæ¢å¾©åˆæ³•æ¸ é“çš„å¯é æ€§ã€‚</li>
                        <li data-lang-key="solutions_3"><strong>é‡æ–°æ€è€ƒé‚Šå¢ƒç®¡ç†ï¼š</strong> å¾ã€Œå¨æ‡¾ã€è½‰å‘ã€Œç®¡ç†ã€ï¼Œå°‡è³‡æºæŠ•å…¥å®˜æ–¹å…¥å¢ƒå£å²¸ï¼Œä»¥ä¾¿å®‰å…¨ã€æœ‰åºã€é«˜æ•ˆåœ°è™•ç†åº‡è­·åŠå…¶ä»–åˆæ³•å…¥å¢ƒè«‹æ±‚ã€‚</li>
                        <li data-lang-key="solutions_4"><strong>é‡å°æ ¹æºé€²è¡Œé•·æœŸæŠ•å…¥ï¼š</strong> èˆ‡ä¾†æºåœ‹å»ºç«‹çœŸæ­£çš„å¤¥ä¼´é—œä¿‚ï¼Œå…±åŒæ‡‰å°é©…å‹•ç§»æ°‘çš„æš´åŠ›ã€è…æ•—å’Œæ°£å€™è®ŠåŒ–ç­‰æ ¹æœ¬å•é¡Œã€‚</li>
                        <li data-lang-key="solutions_5"><strong>ç‚ºå·²å®šå±…è€…æä¾›è§£æ±ºæ–¹æ¡ˆï¼š</strong> ç‚ºæ•¸ç™¾è¬å·²æ·±åº¦èå…¥ç¾åœ‹ç¤¾æœƒçš„ç„¡è­‰ç§»æ°‘æä¾›ç²å¾—åˆæ³•èº«ä»½çš„é€”å¾‘ï¼Œé€™æ—¢æ˜¯å‹™å¯¦ä¹Ÿæ˜¯äººé“çš„é¸æ“‡ï¼Œç¬¦åˆç¾åœ‹çš„åœ‹å®¶åˆ©ç›Šã€‚</li>
                    </ol>
                </div>
            </div>
        </section>
    </main>
    
<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- TRANSLATION DATA ---
    const translations = {
        'zh': {
            page_title: 'äº’å‹•å¼å ±å‘Šï¼šç¾åœ‹ç„¡è­‰ç§»æ°‘çš„èµ·æº',
            nav_title: 'ç¾åœ‹ç§»æ°‘é«”ç³»çš„èµ·æº',
            nav_intro: 'å°è«–', nav_timeline: 'æ­·å²çš„å¡‘é€ ', nav_drivers: 'é©…å‹•çš„å¼•æ“', nav_paradox: 'åŸ·æ³•çš„æ‚–è«–', nav_system: 'å¤±éˆçš„é«”ç³»', nav_solutions: 'å‰è¡Œä¹‹è·¯',
            nav_intro_mobile: 'å°è«–', nav_timeline_mobile: 'æ­·å²çš„å¡‘é€ ', nav_drivers_mobile: 'é©…å‹•çš„å¼•æ“', nav_paradox_mobile: 'åŸ·æ³•çš„æ‚–è«–', nav_system_mobile: 'å¤±éˆçš„é«”ç³»', nav_solutions_mobile: 'å‰è¡Œä¹‹è·¯',
            intro_title: 'ä¸€å€‹éé æœŸçš„é«”ç³»',
            intro_p: 'ç¾åœ‹é¾å¤§çš„ç„¡è­‰ç§»æ°‘äººå£ä¸¦éä¸€å ´æ„å¤–ï¼Œè€Œæ˜¯ä¸€å€‹ä¸–ç´€ä»¥ä¾†ï¼Œå……æ»¿çŸ›ç›¾ä¸”å¾€å¾€é©å¾—å…¶åçš„æ”¿ç­–æ‰€å…±åŒå¡‘é€ çš„ç³»çµ±æ€§çµæœã€‚æœ¬å ±å‘Šå°‡æ­ç¤ºï¼Œé€™å€‹ã€Œå¤±éˆã€çš„é«”ç³»æ˜¯å¦‚ä½•è¢«åˆ»æ„å»ºæ§‹ï¼Œåˆå¦‚ä½•èˆ‡ç¾åœ‹çš„ç¶“æ¿Ÿç¾å¯¦åŠäººé“åƒ¹å€¼è§€ç›¸è„«ç¯€ã€‚',
            timeline_title: 'æ­·å²çš„å¡‘é€ ï¼šæ³•å¾‹å¦‚ä½•å‰µé€ ã€Œéæ³•ã€',
            timeline_p: 'é»æ“Šä¸‹æ–¹çš„å¹´ä»½ï¼Œæ¢ç´¢é—œéµæ³•å¾‹å¦‚ä½•é€æ­¥å®šç¾©ä¸¦æœ€çµ‚å°‡ä¸€å€‹åˆæ³•çš„å‹å‹•åŠ›æµå‹•ã€Œéæ³•åŒ–ã€ã€‚',
            timeline_data: {
                '1882': { title: '1882å¹´ã€Šæ’è¯æ³•æ¡ˆã€‹', content: 'é€™æ˜¯ç¾åœ‹ç¬¬ä¸€éƒ¨é‡å°ç‰¹å®šæ—è£”çš„é‡å¤§é™åˆ¶æ€§ç§»æ°‘æ³•ã€‚å®ƒç¦æ­¢è¯äººå‹å·¥å…¥å¢ƒï¼Œä¸¦å‰å¥ªå·²åœ¨ç¾è¯äººæ­¸åŒ–ç‚ºå…¬æ°‘çš„æ¬Šåˆ©ã€‚é€™éƒ¨æ³•å¾‹é¦–æ¬¡åœ¨è¯é‚¦å±¤é¢åŸºæ–¼ç¨®æ—å’Œéšç´šå‰µé€ äº†ã€Œéæ³•ã€ç§»æ°‘é¡åˆ¥ï¼Œä¸¦ç¢ºç«‹äº†é©…é€å‡ºå¢ƒçš„æ³•å¾‹æ¡†æ¶ã€‚' },
                '1924': { title: '1924å¹´ã€Šåœ‹å®¶èµ·æºæ³•æ¡ˆã€‹', content: 'è©²æ³•æ¡ˆå»ºç«‹äº†åŸºæ–¼åœ‹ç±çš„æ­§è¦–æ€§é…é¡åˆ¶åº¦ï¼Œæ—¨åœ¨é™åˆ¶å—æ­å’Œæ±æ­ç§»æ°‘ï¼Œç¶­è­·ç¾åœ‹çš„ã€Œç¨®æ—åŒè³ªæ€§ã€ã€‚ç„¶è€Œï¼Œç‚ºäº†æ»¿è¶³è¥¿å—éƒ¨è¾²æ¥­çš„å‹å‹•åŠ›éœ€æ±‚ï¼Œæ³•æ¡ˆè±å…äº†å°è¥¿åŠçƒåœ‹å®¶ï¼ˆåŒ…æ‹¬å¢¨è¥¿å“¥ï¼‰çš„æ•¸é‡é™åˆ¶ï¼Œç‚ºå¢¨è¥¿å“¥å‹å·¥ä¿ç•™äº†ä¸€æ¢åˆæ³•çš„æµå‹•æ¸ é“ã€‚' },
                '1964': { title: '1964-65å¹´ æ”¿ç­–çš„è‡´å‘½ç–ŠåŠ ', content: '1964å¹´ï¼Œç‚ºç¾åœ‹è¾²æ¥­æä¾›äº†æ•¸åå¹´åˆæ³•å‹å·¥çš„ã€Œå¸ƒæ‹‰å¡ç¾…è¨ˆç•«ã€è¢«çµ‚æ­¢ã€‚åƒ…ä¸€å¹´å¾Œï¼Œ1965å¹´çš„ã€Šç§»æ°‘èˆ‡åœ‹ç±æ³•ã€‹åœ¨å»¢é™¤ç¨®æ—é…é¡åˆ¶çš„åŒæ™‚ï¼Œé¦–æ¬¡å°è¥¿åŠçƒç§»æ°‘æ–½åŠ äº†å¹´åº¦æ•¸é‡ä¸Šé™ã€‚é€™å…©å€‹æ”¿ç­–ç–ŠåŠ ï¼Œå¹¾ä¹åœ¨ä¸€å¤œä¹‹é–“å°‡ä¸€å€‹é•·æœŸåˆæ³•çš„ã€å¾ªç’°çš„å‹å‹•åŠ›æµå‹•å…¨é¢ã€Œéæ³•åŒ–ã€ã€‚' },
                '1994': { title: '1994å¹´ NAFTAèˆ‡é‚Šå¢ƒè»äº‹åŒ–', content: 'ã€ŠåŒ—ç¾è‡ªç”±è²¿æ˜“å”å®šã€‹(NAFTA)ç”Ÿæ•ˆï¼Œè¡æ“Šäº†å¢¨è¥¿å“¥è¾²æ¥­ï¼Œè£½é€ äº†å¤§é‡æµé›¢å¤±æ‰€çš„è¾²æ°‘ã€‚åŒå¹´ï¼Œç¾åœ‹å•Ÿå‹•ã€Œå®ˆé–€å“¡è¡Œå‹•ã€ï¼Œé–‹å§‹å¤§è¦æ¨¡è»äº‹åŒ–é‚Šå¢ƒï¼Œæ¨è¡Œã€Œä»¥å¨æ‡¾é é˜²ã€æˆ°ç•¥ã€‚é€™æ¨™èªŒè‘—ç¾åœ‹æ‡‰å°ç„¡è­‰ç§»æ°‘çš„ç­–ç•¥ï¼Œå¾è¢«å‹•é€®æ•è½‰å‘ä¸»å‹•å¨æ‡¾ï¼Œä½†å»å¸¶ä¾†äº†ç½é›£æ€§çš„å¾Œæœã€‚' }
            },
            drivers_title: 'ç§»æ°‘çš„å¼•æ“ï¼šæ‹‰åŠ›èˆ‡æ¨åŠ›',
            drivers_p: 'å¼·å¤§çš„ç¶“æ¿Ÿèˆ‡ç¤¾æœƒåŠ›é‡ï¼Œèˆ‡æ—¥ç›Šåš´è‹›çš„æ³•å¾‹é™åˆ¶ç”¢ç”Ÿå·¨å¤§å¼µåŠ›ï¼Œæ§‹æˆäº†ç„¡è­‰ç§»æ°‘ç¾è±¡çš„æ ¸å¿ƒå‹•åŠ›ã€‚',
            drivers_pull_title: 'ğŸ‡ºğŸ‡¸ ç¾åœ‹çš„æ‹‰åŠ› (Pull Factors)',
            drivers_pull_1: '<strong>å‹å‹•åŠ›ç£éµ:</strong> è¾²æ¥­ã€å»ºç¯‰å’Œæœå‹™æ¥­é•·æœŸä¾è³´ä½æˆæœ¬ã€éˆæ´»çš„å‹å‹•åŠ›ã€‚é€™ç¨®çµæ§‹æ€§éœ€æ±‚æ˜¯å¸å¼•ç§»æ°‘æœ€æ ¹æœ¬çš„åŸå› ã€‚',
            drivers_pull_2: '<strong>å·¥è³‡é´»æº:</strong> åœ¨ç¾åœ‹å¾äº‹ä½æŠ€è¡“å·¥ä½œçš„å ±é…¬é é«˜æ–¼ä¾†æºåœ‹ï¼Œå·¨å¤§çš„ç¶“æ¿Ÿæ¢¯åº¦æ§‹æˆäº†å¼·å¤§çš„èª˜å› ã€‚',
            drivers_pull_3: '<strong>ç¤¾æœƒç¶²çµ¡:</strong> å·²åœ¨ç¾çš„ç§»æ°‘é€šéå®¶åº­åœ˜èšå’Œã€Œéˆå¼ç§»æ°‘ã€ï¼Œç‚ºå¾Œä¾†çš„åŒé„‰æä¾›è³‡è¨Šã€ä½æ‰€å’Œè³‡é‡‘ï¼Œæ¥µå¤§é™ä½äº†ç§»æ°‘çš„é¢¨éšªå’Œæˆæœ¬ã€‚',
            drivers_push_title: 'ğŸŒ ä¾†æºåœ‹çš„æ¨åŠ› (Push Factors)',
            drivers_push_1: '<strong>ç¶“æ¿Ÿå‹•ç›ª:</strong> ã€ŠåŒ—ç¾è‡ªç”±è²¿æ˜“å”å®šã€‹(NAFTA) ç­‰æ”¿ç­–è¡æ“Šäº†å¢¨è¥¿å“¥è¾²æ¥­ï¼Œå°è‡´æ•¸ç™¾è¬è¾²æ°‘æµé›¢å¤±æ‰€ï¼Œè¢«è¿«åŒ—ä¸Šã€‚',
            drivers_push_2: '<strong>æš´åŠ›èˆ‡å¤±èƒ½:</strong> ä¸­ç¾æ´²åŒ—ä¸‰è§’åœ°å€çš„å¹«æ´¾æš´åŠ›ã€æ”¿åºœè…æ•—å’Œæ³•æ²»ä¸å½°ï¼Œè¿«ä½¿äººå€‘ç‚ºæ±‚ç”Ÿå­˜è€Œé€ƒé›¢å®¶åœ’ã€‚',
            drivers_push_3: '<strong>æ°£å€™è®Šé·:</strong> é•·æœŸä¹¾æ—±å’Œæ¥µç«¯å¤©æ°£äº‹ä»¶æ‘§æ¯€äº†è¾²æ¥­ç”Ÿè¨ˆï¼ŒåŠ åŠ‡äº†ç³§é£Ÿä¸å®‰å…¨ï¼Œä½¿ç§»æ°‘æˆç‚ºè¨±å¤šè¾²æ‘å®¶åº­çš„å”¯ä¸€é¸æ“‡ã€‚',
            paradox_title: 'åŸ·æ³•çš„æ‚–è«–ï¼šé‚Šå¢ƒç®¡åˆ¶å¦‚ä½•é©å¾—å…¶å',
            paradox_p: 'è‡ª90å¹´ä»£ä»¥ä¾†ï¼Œç¾åœ‹æ¡å–ã€Œä»¥å¨æ‡¾é é˜²ã€çš„åŸ·æ³•ç­–ç•¥ã€‚æ•¸æ“šé¡¯ç¤ºï¼Œé€™ä¸åƒ…æœªèƒ½é˜»æ­¢ç§»æ°‘ï¼Œåè€Œç”¢ç”Ÿäº†ä¸€ç³»åˆ—æ‚²åŠ‡æ€§çš„ã€æ„æƒ³ä¸åˆ°çš„å¾Œæœã€‚',
            paradox_chart1_title: 'æ‚–è«–ä¸€ï¼šæ”¯å‡ºé£†å‡ï¼Œå¾ªç’°çµ‚çµ',
            paradox_chart1_p: '1965å¹´å¾Œï¼Œåˆæ³•å‹å·¥æ¸ é“é—œé–‰ï¼Œé‚Šå¢ƒé€®æ•äººæ•¸ï¼ˆè¡¡é‡ç„¡è­‰æµå‹•çš„æŒ‡æ¨™ï¼‰éš¨ä¹‹ä¸Šå‡ã€‚å¼·åŒ–çš„é‚Šå¢ƒåŸ·æ³•ä¸¦æœªé˜»æ­¢äººå€‘å‰ä¾†ï¼Œè€Œæ˜¯çµ‚çµäº†ä»¥å¾€çš„ã€Œå¾ªç’°ç§»æ°‘ã€æ¨¡å¼ï¼Œè¿«ä½¿ç§»æ°‘é•·æœŸå®šå±…ã€‚',
            paradox_chart2_title: 'æ‚–è«–äºŒï¼šé ç®—è¶Šå¤šï¼Œæ­»äº¡è¶Šå¤š',
            paradox_chart2_p: 'é‚Šå¢ƒå·¡é‚éšŠé ç®—æ€¥åŠ‡å¢åŠ ï¼Œå°‡ç§»æ°‘æ¨å‘æ›´å±éšªçš„æ²™æ¼ åœ°å¸¶ã€‚çµæœæ˜¯é‚Šå¢ƒæ­»äº¡äººæ•¸åŒæ­¥æ”€å‡ï¼Œå‚¬ç”Ÿäº†é¾å¤§çš„å·æ¸¡ç”¢æ¥­ï¼Œä½¿é‚Šå¢ƒè®Šå¾—æ›´å±éšªã€‚',
            system_title: 'ä¸€å€‹å¤±éˆçš„é«”ç³»ï¼šåˆæ³•æ¸ é“çš„ç“¶é ¸',
            system_p: 'è¨±å¤šäººå•ï¼šã€Œä»–å€‘ç‚ºä»€éº¼ä¸åˆæ³•åœ°ä¾†ï¼Ÿã€ç­”æ¡ˆæ˜¯ï¼šå°æ–¼çµ•å¤§å¤šæ•¸äººä¾†èªªï¼Œåˆæ³•æ¸ é“å¹¾ä¹ä¸å­˜åœ¨æˆ–å½¢åŒè™›è¨­ï¼Œé€™æœ¬èº«å°±æ˜¯è£½é€ ç„¡è­‰äººå£çš„å¦ä¸€å€‹æºé ­ã€‚',
            system_card1_title: 'ç°½è­‰é€¾æœŸå±…ç•™',
            system_card1_p: 'ä¸€å€‹å¸¸è¢«å¿½è¦–çš„äº‹å¯¦ï¼šè¿‘åŠæ•¸çš„ç„¡è­‰ç§»æ°‘æ˜¯åˆæ³•å…¥å¢ƒï¼Œä½†åœ¨ç°½è­‰åˆ°æœŸå¾Œç•™ä¸‹ã€‚é€™ä¸åƒ…åƒ…æ˜¯é‚Šå¢ƒå•é¡Œã€‚',
            system_card2_title: 'é•·é”æ•¸åå¹´çš„ç©å£“',
            system_card2_year: '~20+ å¹´',
            system_card2_p: 'å°æ–¼æŸäº›å®¶åº­æ“”ä¿é¡åˆ¥ï¼Œç²å¾—ç¶ å¡çš„ç­‰å¾…æ™‚é–“è¶…é20å¹´ã€‚ä¸€å€‹å½¢åŒè™›è¨­çš„ã€Œåˆæ³•é€”å¾‘ã€ï¼Œåœ¨ç¾å¯¦ä¸­æ¯«ç„¡æ„ç¾©ã€‚',
            system_card3_title: 'è‡¨æ™‚å·¥ç°½è­‰ï¼šæ¯æ°´è»Šè–ª',
            system_card3_p: 'ç¾åœ‹ç¶“æ¿Ÿæ€¥éœ€çš„éè¾²æ¥­è‡¨æ™‚å·¥(H-2B)ç°½è­‰ï¼Œæ¯å¹´å…¨çƒé…é¡åƒ…6.6è¬å€‹ï¼Œé ç„¡æ³•æ»¿è¶³å¸‚å ´éœ€æ±‚ã€‚',
            solutions_title: 'æ”¿æ²»åƒµå±€èˆ‡å‰è¡Œä¹‹è·¯',
            solutions_p: 'ä»»ä½•å…¨é¢çš„è§£æ±ºæ–¹æ¡ˆéƒ½å¿…é ˆæ“ºè„«é»¨æ´¾ä¹‹çˆ­ï¼Œæ¡å–å‹™å¯¦çš„ã€å¤šç®¡é½Šä¸‹çš„ç­–ç•¥ï¼Œå°‡æ³•å¾‹æ¸ é“ã€ç¶“æ¿Ÿç¾å¯¦å’Œäººé“ä¸»ç¾©è€ƒé‡çµ±ä¸€èµ·ä¾†ã€‚',
            solutions_subtitle: 'é‚å‘ä¸€å€‹é€£è²«æ”¿ç­–çš„æ·±åº¦å»ºè­°',
            solutions_1: '<strong>æ“´å¤§å’Œæ”¹é©åˆæ³•æ¸ é“ï¼š</strong> å‰µå»ºéˆæ´»çš„ã€èƒ½éŸ¿æ‡‰å¸‚å ´éœ€æ±‚çš„è‡¨æ™‚å·¥äººç°½è­‰è¨ˆç•«ï¼Œç‚ºå‹å·¥æä¾›åˆæ³•çš„æ›¿ä»£æ–¹æ¡ˆï¼Œé‡œåº•æŠ½è–ªã€‚',
            solutions_2: '<strong>æ¸…ç†ç°½è­‰ç©å£“ï¼š</strong> ç‚ºç§»æ°‘ç®¡ç†æ©Ÿæ§‹æä¾›è¶³å¤ è³‡æºï¼Œå¤§å¹…å‰Šæ¸›é•·é”æ•¸åå¹´çš„ç°½è­‰ç©å£“ï¼Œæ¢å¾©åˆæ³•æ¸ é“çš„å¯é æ€§ã€‚',
            solutions_3: '<strong>é‡æ–°æ€è€ƒé‚Šå¢ƒç®¡ç†ï¼š</strong> å¾ã€Œå¨æ‡¾ã€è½‰å‘ã€Œç®¡ç†ã€ï¼Œå°‡è³‡æºæŠ•å…¥å®˜æ–¹å…¥å¢ƒå£å²¸ï¼Œä»¥ä¾¿å®‰å…¨ã€æœ‰åºã€é«˜æ•ˆåœ°è™•ç†åº‡è­·åŠå…¶ä»–åˆæ³•å…¥å¢ƒè«‹æ±‚ã€‚',
            solutions_4: '<strong>é‡å°æ ¹æºé€²è¡Œé•·æœŸæŠ•å…¥ï¼š</strong> èˆ‡ä¾†æºåœ‹å»ºç«‹çœŸæ­£çš„å¤¥ä¼´é—œä¿‚ï¼Œå…±åŒæ‡‰å°é©…å‹•ç§»æ°‘çš„æš´åŠ›ã€è…æ•—å’Œæ°£å€™è®ŠåŒ–ç­‰æ ¹æœ¬å•é¡Œã€‚',
            solutions_5: '<strong>ç‚ºå·²å®šå±…è€…æä¾›è§£æ±ºæ–¹æ¡ˆï¼š</strong> ç‚ºæ•¸ç™¾è¬å·²æ·±åº¦èå…¥ç¾åœ‹ç¤¾æœƒçš„ç„¡è­‰ç§»æ°‘æä¾›ç²å¾—åˆæ³•èº«ä»½çš„é€”å¾‘ï¼Œé€™æ—¢æ˜¯å‹™å¯¦ä¹Ÿæ˜¯äººé“çš„é¸æ“‡ï¼Œç¬¦åˆç¾åœ‹çš„åœ‹å®¶åˆ©ç›Šã€‚',
            charts: {
                bracero_l1: 'åˆæ³•å¸ƒæ‹‰å¡ç¾…è¨ˆç•«å…¥å¢ƒäººæ•¸', bracero_l2: 'é‚Šå¢ƒé€®æ•äººæ•¸', bracero_y1: 'åˆæ³•å…¥å¢ƒäººæ•¸', bracero_y2: 'é€®æ•äººæ•¸',
                enforce_l1: 'é‚Šå¢ƒå·¡é‚éšŠé ç®—(åå„„ç¾å…ƒ)', enforce_l2: 'é‚Šå¢ƒè¨˜éŒ„çš„ç§»æ°‘æ­»äº¡äººæ•¸', enforce_y1: 'é ç®— (åå„„ç¾å…ƒ)', enforce_y2: 'æ­»äº¡äººæ•¸',
                overstay_l1: 'ç°½è­‰é€¾æœŸå±…ç•™', overstay_l2: 'ç„¡è­‰è¶Šå¢ƒ',
                h2b_l1: 'å¹´åº¦é…é¡', h2b_l2: 'é ä¼°å‹å‹•åŠ›éœ€æ±‚', h2b_x1: 'äººæ•¸ (å°æ•¸å°ºåº¦)',
            }
        },
        'en': {
            page_title: 'Interactive Report: The Origins of Undocumented Immigration in the U.S.',
            nav_title: 'Origins of the U.S. Immigration System',
            nav_intro: 'Introduction', nav_timeline: 'Shaped by History', nav_drivers: 'The Driving Engine', nav_paradox: 'The Enforcement Paradox', nav_system: 'A Broken System', nav_solutions: 'The Path Forward',
            nav_intro_mobile: 'Introduction', nav_timeline_mobile: 'Shaped by History', nav_drivers_mobile: 'The Driving Engine', nav_paradox_mobile: 'The Enforcement Paradox', nav_system_mobile: 'A Broken System', nav_solutions_mobile: 'The Path Forward',
            intro_title: 'An Unintended System',
            intro_p: "America's large undocumented population is not an accident but the systematic result of a century of contradictory and often counterproductive policies. This report reveals how this 'broken' system was intentionally constructed and how it disconnects from U.S. economic realities and humanitarian values.",
            timeline_title: 'Shaped by History: How Law Created "Illegality"',
            timeline_p: 'Click on the years below to explore how key laws progressively defined and ultimately criminalized a previously legal labor flow.',
            timeline_data: {
                '1882': { title: '1882 Chinese Exclusion Act', content: 'This was the first significant restrictive immigration law in the U.S. targeting a specific ethnicity. It barred Chinese laborers from entering and denied Chinese already in the U.S. the right to naturalize. This law created the category of "illegal" immigrant at the federal level based on race and class and established the legal framework for deportation.' },
                '1924': { title: '1924 National Origins Act', content: 'This act established a discriminatory quota system based on national origin, designed to limit immigration from Southern and Eastern Europe to maintain America\'s "racial homogeneity." However, to meet the labor demands of Southwestern agriculture, the act exempted countries in the Western Hemisphere (including Mexico) from numerical limits, preserving a legal channel for Mexican laborers.' },
                '1964': { title: '1964-65 The Fateful Combination', content: 'In 1964, the Bracero Program, which had supplied legal labor to U.S. agriculture for decades, was terminated. Just a year later, the Immigration and Nationality Act of 1965, while abolishing racial quotas, imposed an annual numerical cap on immigration from the Western Hemisphere for the first time. This combination effectively illegalized a long-standing, circular labor flow overnight.' },
                '1994': { title: '1994 NAFTA & Border Militarization', content: 'The North American Free Trade Agreement (NAFTA) took effect, disrupting Mexican agriculture and displacing millions of farmers. In the same year, the U.S. launched "Operation Gatekeeper," beginning the large-scale militarization of the border and implementing a "prevention through deterrence" strategy. This marked a shift in U.S. strategy from passive apprehension to active deterrence, with disastrous consequences.' }
            },
            drivers_title: 'The Engine of Migration: Pull and Push',
            drivers_p: 'Powerful economic and social forces create immense tension with increasingly restrictive laws, forming the core dynamic of undocumented migration.',
            drivers_pull_title: 'ğŸ‡ºğŸ‡¸ Pull Factors of the U.S.',
            drivers_pull_1: '<strong>Labor Magnet:</strong> Agriculture, construction, and service industries have a long-term reliance on low-cost, flexible labor. This structural demand is the most fundamental reason for attracting immigrants.',
            drivers_pull_2: '<strong>Wage Gap:</strong> The pay for low-skilled jobs in the U.S. is far higher than in source countries, creating a powerful economic incentive.',
            drivers_pull_3: '<strong>Social Networks:</strong> Immigrants already in the U.S. provide information, housing, and funds for newcomers through family reunification and "chain migration," significantly reducing the risks and costs of migration.',
            drivers_push_title: 'ğŸŒ Push Factors of Source Countries',
            drivers_push_1: '<strong>Economic Dislocation:</strong> Policies like the North American Free Trade Agreement (NAFTA) devastated Mexican agriculture, displacing millions of farmers who were forced to move north.',
            drivers_push_2: '<strong>Violence and Instability:</strong> Gang violence, government corruption, and a lack of rule of law in the Northern Triangle of Central America force people to flee their homes for survival.',
            drivers_push_3: '<strong>Climate Change:</strong> Prolonged droughts and extreme weather events have destroyed agricultural livelihoods and exacerbated food insecurity, making migration the only option for many rural families.',
            paradox_title: 'The Enforcement Paradox: How Border Control Backfired',
            paradox_p: "Since the 1990s, the U.S. has adopted a 'prevention through deterrence' enforcement strategy. Data shows this not only failed to stop migration but also produced a series of tragic, unintended consequences.",
            paradox_chart1_title: 'Paradox 1: Spending Soars, Circulation Ends',
            paradox_chart1_p: 'After 1965, with legal labor channels closed, border apprehensions (a proxy for undocumented flows) rose. Increased enforcement didn\'t stop people from coming; it ended the historical pattern of "circular migration," compelling migrants to settle permanently.',
            paradox_chart2_title: 'Paradox 2: More Budget, More Deaths',
            paradox_chart2_p: 'A dramatic increase in the Border Patrol budget pushed migrants into more dangerous desert terrains. The result was a parallel rise in border deaths and the creation of a vast smuggling industry, making the border deadlier.',
            system_title: 'A Broken System: The Legal Channel Bottleneck',
            system_p: 'Many ask, "Why don\'t they just come legally?" The answer is: for the vast majority, legal channels are virtually non-existent or illusory, which is another source of the undocumented population.',
            system_card1_title: 'Visa Overstays',
            system_card1_p: 'An often-overlooked fact: nearly half of all undocumented immigrants entered legally and then overstayed their visas. This is not just a border issue.',
            system_card2_title: 'Decades-Long Backlogs',
            system_card2_year: '~20+ Years',
            system_card2_p: 'For some family-sponsored categories, the waiting time for a green card exceeds 20 years. A "legal path" that is practically meaningless in reality.',
            system_card3_title: 'Temporary Worker Visas: A Drop in the Bucket',
            system_card3_p: 'The U.S. economy desperately needs non-agricultural temporary workers (H-2B visas), but the annual global quota is only 66,000, far from meeting market demand.',
            solutions_title: 'Political Stalemate and the Path Forward',
            solutions_p: 'Any comprehensive solution must move beyond partisan squabbles and adopt a pragmatic, multi-pronged strategy that aligns legal channels with economic realities and humanitarian considerations.',
            solutions_subtitle: 'In-Depth Recommendations for a Coherent Policy',
            solutions_1: '<strong>Expand and Reform Legal Channels:</strong> Create flexible temporary worker visa programs that respond to market demands, providing a legal alternative and addressing the root cause.',
            solutions_2: '<strong>Clear the Visa Backlog:</strong> Provide adequate resources to immigration agencies to drastically reduce the decades-long visa backlogs, restoring the reliability of legal channels.',
            solutions_3: '<strong>Rethink Border Management:</strong> Shift from "deterrence" to "management," investing resources at official ports of entry to process asylum and other legal entry requests safely, orderly, and efficiently.',
            solutions_4: '<strong>Invest in Long-Term Root Cause Mitigation:</strong> Build genuine partnerships with source countries to collectively address the underlying drivers of migration, such as violence, corruption, and climate change.',
            solutions_5: '<strong>Provide a Solution for the Settled Population:</strong> Offer a pathway to legal status for the millions of undocumented immigrants deeply integrated into American society. This is both a pragmatic and humane choice that serves the national interest.',
            charts: {
                bracero_l1: 'Legal Bracero Program Admissions', bracero_l2: 'Border Patrol Apprehensions', bracero_y1: 'Legal Admissions', bracero_y2: 'Apprehensions',
                enforce_l1: 'Border Patrol Budget ($ Billions)', enforce_l2: 'Migrant Deaths Recorded at Border', enforce_y1: 'Budget ($ Billions)', enforce_y2: 'Number of Deaths',
                overstay_l1: 'Visa Overstays', overstay_l2: 'Unauthorized Crossings',
                h2b_l1: 'Annual Quota', h2b_l2: 'Estimated Labor Need', h2b_x1: 'Number of People (Log Scale)',
            }
        }
    };
    
    // --- GLOBAL STATE ---
    let currentLang = localStorage.getItem('lang') || 'zh';
    let activeCharts = {};
    const timelineContainer = document.getElementById('timeline-content');
    const timelineButtons = document.querySelectorAll('.timeline-item');

    // --- LANGUAGE SWITCHING LOGIC ---
    const switchLanguage = (lang) => {
        currentLang = lang;
        localStorage.setItem('lang', lang);
        document.documentElement.lang = lang === 'zh' ? 'zh-TW' : 'en';

        // Update all elements with data-lang-key
        document.querySelectorAll('[data-lang-key]').forEach(el => {
            const key = el.getAttribute('data-lang-key');
            if (translations[lang] && translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });
        
        // Update language switcher buttons
        const switcher = document.getElementById('lang-switcher');
        const switcherMobile = document.getElementById('lang-switcher-mobile');
        if (lang === 'en') {
            switcher.textContent = 'ä¸­æ–‡';
            switcherMobile.textContent = 'ä¸­';
        } else {
            switcher.textContent = 'English';
            switcherMobile.textContent = 'EN';
        }
        
        // Update dynamic content
        const activeTimelineButton = document.querySelector('.timeline-item.active') || document.querySelector('.timeline-item[data-id="1964"]');
        updateTimelineContent(activeTimelineButton.dataset.id);
        createAllCharts();
    };
    
    // --- UI EVENT LISTENERS ---
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
    document.querySelectorAll('#mobile-menu a').forEach(link => {
        link.addEventListener('click', () => mobileMenu.classList.add('hidden'));
    });

    document.getElementById('lang-switcher').addEventListener('click', () => switchLanguage(currentLang === 'zh' ? 'en' : 'zh'));
    document.getElementById('lang-switcher-mobile').addEventListener('click', () => switchLanguage(currentLang === 'zh' ? 'en' : 'zh'));


    // --- DYNAMIC CONTENT RENDERING ---
    function updateTimelineContent(id) {
        const data = translations[currentLang].timeline_data[id];
        if (data) {
            timelineContainer.innerHTML = `
                <h4 class="text-xl font-bold mb-3 text-teal-700">${data.title}</h4>
                <p class="text-slate-600">${data.content}</p>
            `;
            timelineButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.id === id) btn.classList.add('active');
            });
        }
    }

    timelineButtons.forEach(button => {
        button.addEventListener('click', () => updateTimelineContent(button.dataset.id));
    });

    // --- CHART CREATION ---
    function createAllCharts() {
        // Destroy existing charts before redrawing
        Object.values(activeCharts).forEach(chart => chart.destroy());
        activeCharts = {};

        const chartLang = translations[currentLang].charts;
        Chart.defaults.font.family = currentLang === 'zh' ? "'Noto Sans TC', sans-serif" : "'Inter', sans-serif";
        Chart.defaults.plugins.tooltip.titleFont = { size: 14, weight: 'bold' };
        Chart.defaults.plugins.tooltip.bodyFont = { size: 12 };
        Chart.defaults.plugins.tooltip.padding = 10;
        Chart.defaults.plugins.tooltip.boxPadding = 4;
        
        // Chart 1: Bracero vs Apprehensions
        activeCharts.bracero = new Chart(document.getElementById('braceroChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: ['1956', '1959', '1964', '1968', '1970', '1973', '1976'],
                datasets: [{
                    label: chartLang.bracero_l1,
                    data: [445197, 437643, 177736, 0, 0, 0, 0],
                    borderColor: '#0d9488', fill: true, backgroundColor: 'rgba(13, 148, 136, 0.1)', yAxisID: 'y', tension: 0.1,
                }, {
                    label: chartLang.bracero_l2,
                    data: [72442, 45336, 86597, 212057, 345353, 655968, 875915],
                    borderColor: '#f97316', fill: true, backgroundColor: 'rgba(249, 115, 22, 0.1)', yAxisID: 'y1', tension: 0.1,
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, scales: { y: { type: 'linear', display: true, position: 'left', title: { display: true, text: chartLang.bracero_y1 } }, y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: chartLang.bracero_y2 }, grid: { drawOnChartArea: false } } }, plugins: { tooltip: { mode: 'index', intersect: false }, legend: { position: 'bottom' } } }
        });

        // Chart 2: Enforcement vs Deaths
        activeCharts.enforcement = new Chart(document.getElementById('enforcementChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: ['1992', '2000', '2007', '2013', '2021', '2022'],
                datasets: [{
                    label: chartLang.enforce_l1,
                    data: [0.7, 2.1, 3.6, 4.7, 4.9, 5.5],
                    backgroundColor: '#0d9488', yAxisID: 'y',
                }, {
                    type: 'line', label: chartLang.enforce_l2,
                    data: [6, 380, 398, 451, 605, 890],
                    borderColor: '#ef4444', backgroundColor: 'rgba(239, 68, 68, 0.5)', yAxisID: 'y1', tension: 0.1, pointRadius: 5, pointHoverRadius: 7
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, scales: { y: { type: 'linear', display: true, position: 'left', title: { display: true, text: chartLang.enforce_y1 } }, y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: chartLang.enforce_y2 }, grid: { drawOnChartArea: false }, min: 0 } }, plugins: { tooltip: { mode: 'index', intersect: false }, legend: { position: 'bottom' } } }
        });
        
        // Chart 3: Overstay
        activeCharts.overstay = new Chart(document.getElementById('overstayChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: [chartLang.overstay_l1, chartLang.overstay_l2],
                datasets: [{ data: [40, 60], backgroundColor: ['#34d399', '#fb923c'], hoverOffset: 4 }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' }, title: { display: false } } }
        });

        // Chart 4: H-2B Visa
        activeCharts.h2b = new Chart(document.getElementById('h2bChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: [chartLang.h2b_label],
                datasets: [{ label: chartLang.h2b_l1, data: [66000], backgroundColor: '#0d9488', barPercentage: 0.4 }, { label: chartLang.h2b_l2, data: [2000000], backgroundColor: 'rgba(13, 148, 136, 0.2)', barPercentage: 0.4 }]
            },
            options: {
                responsive: true, maintainAspectRatio: false, indexAxis: 'y',
                scales: { x: { title: { display: true, text: chartLang.h2b_x1 }, type: 'logarithmic' } },
                plugins: { legend: { display: true, position: 'bottom' }, tooltip: { callbacks: { label: function(context) { let label = context.dataset.label || ''; if (label) { label += ': '; } if (context.parsed.x !== null) { label += new Intl.NumberFormat('en-US').format(context.parsed.x); } return label; } } } }
            }
        });
    }

    // --- INITIALIZATION ---
    switchLanguage(currentLang);
});
</script>
</body>
</html>
