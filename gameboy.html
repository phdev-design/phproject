<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Boy äº’å‹•å¼æ¼”è®Šå²</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Retro Tech -->
    <!-- Application Structure Plan: æœ¬æ‡‰ç”¨ç¨‹å¼æ¡ç”¨ä»¥æ™‚é–“è»¸ç‚ºæ ¸å¿ƒçš„å–®é æ»¾å‹•å¼è¨­è¨ˆã€‚é€™ç¨®éç·šæ€§çš„è³‡è¨Šæ¶æ§‹èƒ½é¼“å‹µä½¿ç”¨è€…ä¸»å‹•æ¢ç´¢ï¼Œè€Œéè¢«å‹•é–±è®€ã€‚é ‚éƒ¨è¨­æœ‰å›ºå®šå°è¦½åˆ—ï¼Œå¯å¿«é€Ÿè·³è½‰è‡³ã€Œèµ·æºå“²å­¸ã€ã€ã€Œä¸»æ©Ÿæ¼”è®Šã€ã€ã€ŒæŒæ©Ÿæˆ°çˆ­ã€ã€ã€Œè»Ÿé«”ç‹æœã€ã€ã€Œè™›æ“¬ä¸»æ©Ÿè¨­è¨ˆå¸«ã€åŠã€Œæ•¸æ“šæ´å¯Ÿã€ç­‰ä¸»é¡Œå€å¡Šã€‚æ ¸å¿ƒäº’å‹•æ˜¯ä¸€å€‹å‹•æ…‹æ™‚é–“è»¸ï¼Œé»æ“Šä¸åŒå‹è™Ÿçš„ä¸»æ©Ÿï¼Œå³å´æœƒå³æ™‚æ›´æ–°è©³ç´°è¦æ ¼èˆ‡æ­·å²æ„ç¾©ã€‚æ–°å¢çš„ã€Œè™›æ“¬ä¸»æ©Ÿè¨­è¨ˆå¸«ã€å€å¡Šåˆ©ç”¨ Gemini APIï¼Œè®“ä½¿ç”¨è€…å¯ä»¥åŸºæ–¼è‡ªé¸è¦æ ¼ç”Ÿæˆè™›æ§‹çš„ä¸»æ©Ÿæ¦‚å¿µï¼Œå°‡æ­·å²æ¢ç´¢èˆ‡å‰µæ„ç”Ÿæˆçµåˆï¼Œæä¾›æ›´æ·±åº¦çš„äº’å‹•é«”é©—ã€‚ -->
    <!-- Visualization & Content Choices: 
        - å ±å‘Šè³‡è¨Šï¼šä¸»æ©Ÿæ¼”è®Šæ­·å² -> ç›®æ¨™ï¼šçµ„ç¹”èˆ‡æ¯”è¼ƒ -> è¦–è¦ºåŒ–/å‘ˆç¾æ–¹å¼ï¼šäº’å‹•å¼å‚ç›´æ™‚é–“è»¸ (HTML/CSS) æ­é…å‹•æ…‹å…§å®¹é¢æ¿ (JS) -> äº’å‹•ï¼šé»æ“Šæ™‚é–“è»¸ä¸Šçš„ä¸»æ©ŸæŒ‰éˆ•ï¼Œå³æ™‚æ›´æ–°å³å´çš„åœ–ç‰‡ã€è¦æ ¼èˆ‡æè¿° -> ç†ç”±ï¼šæ¯”å–®ç´”çš„åˆ—è¡¨æ›´èƒ½å¸å¼•ä½¿ç”¨è€…æ¢ç´¢ä¸åŒå‹è™Ÿé–“çš„ç´°å¾®å·®ç•° -> å‡½å¼åº«/æ–¹æ³•ï¼šVanilla JS DOM æ“ä½œã€‚
        - å ±å‘Šè³‡è¨Šï¼šç¬¬ä¸€æ¬¡æŒæ©Ÿæˆ°çˆ­æ•¸æ“š (åƒ¹æ ¼ã€çºŒèˆªã€éŠ·é‡) -> ç›®æ¨™ï¼šæ¯”è¼ƒ -> è¦–è¦ºåŒ–/å‘ˆç¾æ–¹å¼ï¼šå‹•æ…‹é•·æ¢åœ– -> äº’å‹•ï¼šé»æ“ŠæŒ‰éˆ•åˆ‡æ›æ¯”è¼ƒç¶­åº¦ï¼ˆåƒ¹æ ¼/çºŒèˆª/éŠ·é‡ï¼‰ï¼Œåœ–è¡¨éš¨ä¹‹æ›´æ–° -> ç†ç”±ï¼šäº’å‹•å¼åœ–è¡¨æ¯”éœæ…‹è¡¨æ ¼æ›´èƒ½çªé¡¯ Game Boy çš„ç­–ç•¥æ€§å„ªå‹¢ -> å‡½å¼åº«/æ–¹æ³•ï¼šChart.jsã€‚
        - æ–°å¢åŠŸèƒ½ï¼šè™›æ“¬ä¸»æ©Ÿæ¦‚å¿µç”Ÿæˆ -> ç›®æ¨™ï¼šäº’å‹•èˆ‡å‰µæ„ -> è¦–è¦ºåŒ–/å‘ˆç¾æ–¹å¼ï¼šäº’å‹•å¼è¡¨å–®èˆ‡å‹•æ…‹çµæœé¡¯ç¤ºå€å¡Š -> äº’å‹•ï¼šä½¿ç”¨è€…é¸æ“‡å¹´ä»½ã€è¢å¹•ã€ç‰¹è‰²ï¼Œé»æ“ŠæŒ‰éˆ•å‘¼å« Gemini APIï¼ŒAPI å›å‚³è™›æ§‹ä¸»æ©Ÿçš„ JSON è³‡æ–™ï¼Œä¸¦é¡¯ç¤ºåœ¨é é¢ä¸Š -> ç†ç”±ï¼šæä¾›ä¸€å€‹æœ‰è¶£çš„ã€ç”± AI é©…å‹•çš„æ²™ç›’é«”é©—ï¼Œæ·±åŒ–ä½¿ç”¨è€…å°ç”¢å“è¨­è¨ˆç†å¿µçš„ç†è§£ -> å‡½å¼åº«/æ–¹æ³•ï¼šGemini API (fetch), Vanilla JSã€‚
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8F7F4;
            color: #333;
        }
        .retro-screen {
            background-color: #9BBC0F;
            border: 20px solid #808080;
            border-bottom-width: 40px;
            border-radius: 10px 10px 30px 10px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -21px;
            top: 50%;
            transform: translateY(-50%);
            width: 14px;
            height: 14px;
            background-color: #A0A0A0;
            border-radius: 50%;
            border: 3px solid #F8F7F4;
        }
        .timeline-item.active::before {
            background-color: #4A5568;
            transform: translateY(-50%) scale(1.2);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .btn-active {
            background-color: #4A5568 !important;
            color: #FFF !important;
        }
        .console-icon {
            border: 4px solid #777;
            border-radius: 8px;
            background: #D1D5DB;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .console-screen {
            background: #222;
            width: 70%;
            height: 50%;
            border-radius: 4px;
            margin-bottom: 8px;
        }
        .console-buttons {
            display: flex;
            width: 100%;
            justify-content: space-around;
            align-items: center;
        }
        .console-dpad {
            width: 25px;
            height: 25px;
            background: #555;
            position: relative;
        }
        .console-dpad::before, .console-dpad::after {
            content: '';
            position: absolute;
            background: #555;
        }
        .console-dpad::before {
            width: 100%;
            height: 33.33%;
            top: 33.33%;
            left: 0;
        }
        .console-dpad::after {
            width: 33.33%;
            height: 100%;
            top: 0;
            left: 33.33%;
        }
        .console-ab {
            display: flex;
            gap: 4px;
        }
        .console-ab div {
            width: 15px;
            height: 15px;
            background: #A30000;
            border-radius: 50%;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #4A5568;
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-gray-700 text-white shadow-lg sticky top-0 z-50 transition-all duration-300">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold">Game Boy å‚³å¥‡</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#origin" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">èµ·æºå“²å­¸</a>
                        <a href="#evolution" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">ä¸»æ©Ÿæ¼”è®Š</a>
                        <a href="#war" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">æŒæ©Ÿæˆ°çˆ­</a>
                        <a href="#software" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">è»Ÿé«”ç‹æœ</a>
                        <a href="#gemini-creator" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">âœ¨è™›æ“¬è¨­è¨ˆå¸«</a>
                        <a href="#legacy" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">æ–‡åŒ–éºç”¢</a>
                        <a href="#data" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-600">æ•¸æ“šæ´å¯Ÿ</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <section id="hero" class="text-center py-12 md:py-20">
            <div class="retro-screen w-full max-w-md mx-auto p-4 flex justify-center items-center h-48 md:h-64 shadow-2xl">
                <h2 class="text-3xl md:text-5xl font-bold text-gray-800 tracking-tight leading-tight">ä»»å¤©å ‚ Game Boy<br/>äº’å‹•å¼æ¼”è®Šå²</h2>
            </div>
            <p class="mt-8 max-w-3xl mx-auto text-lg text-gray-600">
                ä¸€éƒ¨ä¸åƒ…å®šç¾©äº†æŒä¸ŠéŠæˆ²ï¼Œæ›´æ†‘è—‰ã€Œæˆç†ŸæŠ€è¡“çš„æ°´å¹³æ€è€ƒã€ç†å¿µï¼Œå‰µé€ äº†ä¸€å€‹æ©«è·¨åäº”å¹´çš„å¨›æ¨‚å¸åœ‹ã€‚é»æ“Šä¸‹æ–¹å°è¦½æˆ–å‘ä¸‹æ»¾å‹•ï¼Œé–‹å§‹æ¢ç´¢é€™æ®µå‚³å¥‡æ­·å²ã€‚
            </p>
        </section>

        <div class="my-12 border-t border-gray-300"></div>

        <section id="origin" class="py-12 md:py-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">èµ·æºå“²å­¸</h3>
                <p class="mt-2 text-gray-600">ä¸€åˆ‡å§‹æ–¼ä¸€å€‹ç°¡å–®è€Œæ·±åˆ»çš„ç†å¿µã€‚</p>
            </div>
            <div class="max-w-4xl mx-auto bg-amber-50 border-l-4 border-amber-400 p-6 md:p-8 rounded-r-lg shadow-md">
                <h4 class="text-2xl font-bold text-gray-900">ã€Œæ¯ã‚ŒãŸæŠ€è¡“ã®æ°´å¹³æ€è€ƒã€</h4>
                <p class="text-lg text-amber-800 mt-1 mb-4">Kareta Gijutsu no Suihei ShikÅ</p>
                <p class="text-gray-700 text-base leading-relaxed">
                    é€™æ˜¯ Game Boy ä¹‹çˆ¶â€”â€”æ©«äº•è»å¹³ç‚ºä»»å¤©å ‚å¥ å®šçš„æ ¸å¿ƒè¨­è¨ˆç†å¿µï¼Œæ„ç‚ºã€Œæˆç†ŸæŠ€è¡“çš„æ°´å¹³æ€è€ƒã€ã€‚å…¶ç²¾é«“åœ¨æ–¼ï¼Œä¸ç›²ç›®è¿½æ±‚æœ€æ–°ã€æœ€æ˜‚è²´çš„æŠ€è¡“ï¼Œè€Œæ˜¯åˆ©ç”¨é‚£äº›å·²ç¶“ç™¼å±•æˆç†Ÿã€ç©©å®šå¯é ä¸”æˆæœ¬ä½å»‰çš„ã€Œæ¯èæŠ€è¡“ã€ï¼Œé€éå‰µæ–°çš„ã€Œæ°´å¹³æ€è€ƒã€ï¼Œå°‡å…¶æ‡‰ç”¨æ–¼å…¨æ–°çš„å¨›æ¨‚é ˜åŸŸã€‚Game Boy çš„å–®è‰²è¢å¹•ã€ä½åŠŸè€—è™•ç†å™¨å’Œé•·æ•ˆé›»æ± çºŒèˆªåŠ›ï¼Œéƒ½æ˜¯æ­¤å“²å­¸çš„å®Œç¾é«”ç¾ã€‚å®ƒè­‰æ˜äº†å‰å¤§çš„ç”¢å“ä¸¦éæºæ–¼æœ€å¼·çš„è¦æ ¼ï¼Œè€Œæ˜¯æºæ–¼å°ä½¿ç”¨è€…çœŸå¯¦éœ€æ±‚çš„æ·±åˆ»æ´å¯Ÿã€‚
                </p>
            </div>
        </section>

        <div class="my-12 border-t border-gray-300"></div>
        
        <section id="evolution" class="py-12 md:py-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">ä¸»æ©Ÿæ¼”è®Š</h3>
                <p class="mt-2 text-gray-600">é»æ“Šå·¦å´æ™‚é–“è»¸ä¸Šçš„å‹è™Ÿï¼ŒæŸ¥çœ‹å…¶è©³ç´°è³‡è¨Šèˆ‡æ­·å²æ„ç¾©ã€‚</p>
            </div>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/3 lg:w-1/4">
                    <div id="timeline-nav" class="relative border-l-2 border-gray-300 pl-6 space-y-2">
                    </div>
                </div>
                <div class="md:w-2/3 lg:w-3/4 bg-white p-6 rounded-lg shadow-lg min-h-[400px]">
                    <div id="evolution-content">
                    </div>
                </div>
            </div>
        </section>
        
        <div class="my-12 border-t border-gray-300"></div>

        <section id="war" class="py-12 md:py-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">ç¬¬ä¸€æ¬¡æŒæ©Ÿæˆ°çˆ­</h3>
                <p class="mt-2 text-gray-600">Game Boy å¦‚ä½•æ†‘è—‰ã€Œå¼±é»ã€æˆ°å‹æŠ€è¡“æ›´å¼·çš„å°æ‰‹ã€‚</p>
            </div>
            <div class="text-center mb-6">
                <div id="war-buttons" class="inline-flex rounded-md shadow-sm" role="group">
                    <button type="button" data-metric="price" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">
                        ç™¼å”®åƒ¹æ ¼
                    </button>
                    <button type="button" data-metric="battery" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">
                        é›»æ± çºŒèˆª
                    </button>
                    <button type="button" data-metric="sales" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">
                        å…¨çƒéŠ·é‡
                    </button>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="warChart"></canvas>
            </div>
            <p id="war-narrative" class="max-w-3xl mx-auto mt-6 text-center text-gray-600 transition-opacity duration-300"></p>
        </section>

        <div class="my-12 border-t border-gray-300"></div>

        <section id="software" class="py-12 md:py-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">è»Ÿé«”ç‹æœ</h3>
                <p class="mt-2 text-gray-600">ç¡¬é«”çš„æ½›åŠ›ç”±è»Ÿé«”é‡‹æ”¾ï¼Œå…©æ¬¾éŠæˆ²å®šç¾©äº† Game Boy çš„æˆåŠŸã€‚</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto mb-12">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h4 class="text-2xl font-bold text-center mb-4">ã€Šä¿„ç¾…æ–¯æ–¹å¡Šã€‹</h4>
                    <p class="text-gray-700">ä½œç‚ºæ­ç¾ç‰ˆ Game Boy çš„æ†ç¶éŠæˆ²ï¼Œé€™æ˜¯ä¸€å€‹å¤©æ‰ä¹‹èˆ‰ã€‚ã€Šä¿„ç¾…æ–¯æ–¹å¡Šã€‹ç°¡å–®ã€æ˜“ä¸Šç™®çš„ç©æ³•è·¨è¶Šäº†æ‰€æœ‰äººç¾¤ï¼Œå°‡ Game Boy å¾å…’ç«¥ç©å…·æå‡ç‚ºå…¨æ°‘æ–‡åŒ–ç¾è±¡ï¼Œå®Œç¾è©®é‡‹äº†ã€Œéš¨æ™‚éš¨åœ°æä¾›ç´”ç²¹æ¨‚è¶£ã€çš„æ ¸å¿ƒåƒ¹å€¼ã€‚å®ƒæ˜¯ç„¡æ•¸äººè³¼è²· Game Boy çš„ç¬¬ä¸€å€‹ç†ç”±ã€‚</p>
                    <div class="mt-4 text-center text-3xl font-bold text-blue-600">3500è¬+</div>
                    <div class="text-center text-gray-500">å…¨çƒéŠ·é‡</div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h4 class="text-2xl font-bold text-center mb-4">ã€Šç²¾éˆå¯¶å¯å¤¢ã€‹</h4>
                    <p class="text-gray-700">é€™æ¬¾éŠæˆ²å¥‡è¹Ÿèˆ¬åœ°å»¶é•·äº† Game Boy çš„ç”Ÿå‘½é€±æœŸã€‚å®ƒå·§å¦™åˆ©ç”¨äº†å‰ç»æ€§è¨­è¨ˆçš„ã€ŒGame Link é€£æ¥åŸ ã€ï¼Œå°‡éŠæˆ²å¾å–®äººå¨›æ¨‚è®Šç‚ºéœ€è¦çœŸå¯¦ç¤¾äº¤çš„é›†é«”æ´»å‹•ã€‚ã€Œäº¤æ›ã€èˆ‡ã€Œå°æˆ°ã€çš„æ ¸å¿ƒç©æ³•ï¼Œè®“ç¡¬é«”åŠŸèƒ½èˆ‡è»Ÿé«”å‰µæ„å®Œç¾çµåˆï¼Œå¼•çˆ†äº†å…¨çƒæ€§çš„ã€Œå¯¶å¯å¤¢ç‹‚ç†±ã€ã€‚</p>
                    <div class="mt-4 text-center text-3xl font-bold text-red-600">4600è¬+</div>
                    <div class="text-center text-gray-500">ç¬¬ä¸€ä¸–ä»£å…¨çƒéŠ·é‡</div>
                </div>
            </div>
            <h4 class="text-2xl font-bold text-center mb-6">Game Boy & Game Boy Color åå¤§æš¢éŠ·éŠæˆ²</h4>
            <div class="chart-container">
                <canvas id="topGamesChart"></canvas>
            </div>
        </section>

        <div class="my-12 border-t border-gray-300"></div>

        <section id="gemini-creator" class="py-12 md:py-16 bg-gray-100 rounded-lg">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">âœ¨ è™›æ“¬ä¸»æ©Ÿè¨­è¨ˆå¸«</h3>
                <p class="mt-2 text-gray-600 max-w-2xl mx-auto">å‡å¦‚ä½ æ˜¯ 90 å¹´ä»£çš„ä»»å¤©å ‚è¨­è¨ˆå¸«ï¼Œä½ æœƒå¦‚ä½•æ‰“é€ ä¸‹ä¸€ä»£ Game Boyï¼Ÿé¸æ“‡è¦æ ¼ï¼Œè®“ AI ç‚ºä½ ç”Ÿæˆè¨­è¨ˆæ¦‚å¿µï¼</p>
            </div>
            <div class="max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-lg">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div>
                        <label for="year-select" class="block mb-2 text-sm font-medium text-gray-900">ç›®æ¨™å¹´ä»½</label>
                        <select id="year-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                            <option value="1992">1992</option>
                            <option value="1995" selected>1995</option>
                            <option value="1997">1997</option>
                            <option value="2000">2000</option>
                        </select>
                    </div>
                    <div>
                        <label for="screen-select" class="block mb-2 text-sm font-medium text-gray-900">è¢å¹•æŠ€è¡“</label>
                        <select id="screen-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                            <option value="æ”¹è‰¯é»‘ç™½è¢å¹• (ç„¡æ®˜å½±)">æ”¹è‰¯é»‘ç™½è¢å¹•</option>
                            <option value="æ—©æœŸè¢«å‹•å¼å½©è‰²è¢å¹•" selected>æ—©æœŸå½©è‰²è¢å¹•</option>
                            <option value="å‰å…‰å¼å½©è‰²è¢å¹•">å‰å…‰å¼å½©è‰²è¢å¹•</option>
                        </select>
                    </div>
                    <div>
                        <label for="feature-select" class="block mb-2 text-sm font-medium text-gray-900">æ ¸å¿ƒç‰¹è‰²</label>
                        <select id="feature-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                            <option value="æ¥µè‡´çš„é›»æ± çºŒèˆª">è¶…é•·é›»æ± çºŒèˆª</option>
                            <option value="å…§å»ºéœ‡å‹•åŠŸèƒ½" selected>å…§å»ºéœ‡å‹•åŠŸèƒ½</option>
                            <option value="å¼·åŒ–é€£ç·šåŠŸèƒ½">å¼·åŒ–é€£ç·šåŠŸèƒ½</option>
                        </select>
                    </div>
                </div>
                <button id="generate-concept-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center">
                    <span class="mr-2">âœ¨</span> ç”¢ç”Ÿè¨­è¨ˆæ¦‚å¿µ
                </button>
                <div id="gemini-result-container" class="mt-6 p-4 border border-gray-200 rounded-lg bg-gray-50 min-h-[150px]">
                    <p class="text-gray-500 text-center">è«‹é¸æ“‡è¦æ ¼ä¸¦é»æ“ŠæŒ‰éˆ•ï¼Œç”Ÿæˆæ‚¨çš„å°ˆå±¬ Game Boy æ¦‚å¿µã€‚</p>
                </div>
            </div>
        </section>

        <div class="my-12 border-t border-gray-300"></div>

        <section id="legacy" class="py-12 md:py-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">æ–‡åŒ–éºç”¢</h3>
                <p class="mt-2 text-gray-600">Game Boy çš„å½±éŸ¿åŠ›é ä¸æ­¢æ–¼éŠæˆ²æœ¬èº«ã€‚</p>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto">
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-3">ğŸ›¡ï¸</div>
                    <h4 class="text-xl font-bold mb-2">å‚³å¥‡è€ç”¨æ€§</h4>
                    <p class="text-gray-600 text-sm">åœ¨æ³¢æ–¯ç£æˆ°çˆ­ä¸­è¢«ç‚¸æ¯€ä½†ä»èƒ½é–‹æ©Ÿçš„ Game Boyï¼Œæˆç‚ºå…¶ã€Œå …ä¸å¯æ‘§ã€å“è³ªçš„æœ€å¥½è­‰æ˜ï¼Œè‡³ä»Šä»åœ¨ç´ç´„ä»»å¤©å ‚å•†åº—å±•å‡ºã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-3">ğŸµ</div>
                    <h4 class="text-xl font-bold mb-2">Chiptune éŸ³æ¨‚</h4>
                    <p class="text-gray-600 text-sm">å…¶ç¨ç‰¹çš„4è²é“éŸ³æ•ˆæ™¶ç‰‡æ„å¤–å‚¬ç”Ÿäº†ã€ŒChiptuneã€é›»å­éŸ³æ¨‚æµæ´¾ï¼Œè‡³ä»Šä»æœ‰éŸ³æ¨‚å®¶ä½¿ç”¨æ”¹è£çš„ Game Boy é€²è¡Œå‰µä½œã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-3">ğŸ“¸</div>
                    <h4 class="text-xl font-bold mb-2">å¥‡è¶£å‘¨é‚Š</h4>
                    <p class="text-gray-600 text-sm">Game Boy ç›¸æ©Ÿå’Œå°è¡¨æ©Ÿç­‰é…ä»¶ï¼Œæ˜¯æ¶ˆè²»ç´šæ•¸ä½ç›¸æ©Ÿçš„æ—©æœŸå½¢æ…‹ï¼Œå†æ¬¡é«”ç¾äº†ä»»å¤©å ‚åˆ©ç”¨æˆç†ŸæŠ€è¡“é€²è¡Œå‰µæ–°çš„èƒ½åŠ›ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl mb-3">â­</div>
                    <h4 class="text-xl font-bold mb-2">æ™‚å°šæ½®æµ</h4>
                    <p class="text-gray-600 text-sm">å¾ç‘ªä¸¹å¨œåˆ°éº¥å¯Â·å‚‘å…‹æ£®ï¼Œç„¡æ•¸åäººéƒ½æ˜¯å®ƒçš„ç²‰çµ²ã€‚Game Boy æˆç‚º90å¹´ä»£é›»å½±ã€éŸ³æ¨‚ä¸­çš„å¸¸å®¢ï¼Œæ˜¯ä¸€å€‹æ™‚ä»£çš„æ–‡åŒ–ç¬¦è™Ÿã€‚</p>
                </div>
            </div>
        </section>

        <div class="my-12 border-t border-gray-300"></div>

        <section id="data" class="py-12 md:py-16">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800">æ•¸æ“šæ´å¯Ÿ</h3>
                <p class="mt-2 text-gray-600">é©šäººçš„å•†æ¥­æˆå°±ï¼Œé‘„å°±äº†æŒæ©Ÿå¸åœ‹ã€‚</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center max-w-6xl mx-auto">
                <div class="chart-container h-[350px] max-h-[40vh]">
                     <canvas id="salesBreakdownChart"></canvas>
                </div>
                <div class="text-center md:text-left">
                    <div class="mb-6">
                        <p class="text-5xl font-bold text-blue-600">1.18å„„</p>
                        <p class="text-gray-600">Game Boy & Color ç¸½éŠ·é‡</p>
                    </div>
                    <div class="mb-6">
                        <p class="text-5xl font-bold text-green-600">8151è¬</p>
                        <p class="text-gray-600">Game Boy Advance å®¶æ—ç¸½éŠ·é‡</p>
                    </div>
                    <div>
                        <p class="text-5xl font-bold text-gray-800">~2å„„</p>
                        <p class="text-gray-600">Game Boy å“ç‰Œç´¯è¨ˆç¸½éŠ·é‡</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <h4 class="text-xl font-bold">Game Boy ç²¾ç¥çš„æ°¸çºŒ</h4>
            <p class="max-w-3xl mx-auto mt-4 text-gray-400">
                Game Boy çš„å‚³å¥‡é›–å·²è½å¹•ï¼Œä½†å…¶ã€Œå„ªå…ˆè€ƒæ…®å¯ç©æ€§èˆ‡å‰µæ–°é«”é©—ã€çš„ç²¾ç¥ï¼Œæ·±åˆ»çƒ™å°åœ¨ä»»å¤©å ‚çš„ DNA ä¸­ã€‚å¾ Wii çš„é«”æ„Ÿã€DS çš„è§¸æ§åˆ° Switch çš„æ··åˆè¨­è¨ˆï¼Œæˆ‘å€‘éƒ½èƒ½çœ‹åˆ° Game Boy éˆé­‚çš„å‚³æ‰¿ã€‚å®ƒå®šç¾©çš„ã€Œéš¨æ™‚ã€éš¨åœ°ã€èˆ‡ä»»ä½•äººåŒæ¨‚ã€çš„ç†å¿µï¼Œè‡³ä»Šä»åœ¨ç‚ºå…¨çƒç©å®¶å¸¶ä¾†æ­¡æ¨‚ã€‚
            </p>
            <p class="mt-6 text-sm text-gray-500">æ­¤äº’å‹•å¼å ±å‘Šæ ¹æ“šå…¬é–‹æ­·å²è³‡æ–™ç”Ÿæˆã€‚</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const evolutionData = {
            'dmg-01': { name: 'Game Boy (DMG-01)', year: '1989', desc: 'å¸åœ‹çš„åŸºçŸ³ã€‚æ¡ç”¨ã€Œå¤ ç”¨å°±å¥½ã€çš„è¨­è¨ˆï¼Œä»¥æ©„æ¬–ç¶ å–®è‰²è¢å¹•ã€è¶…é•·çºŒèˆªå’Œè¦ªæ°‘åƒ¹æ ¼ï¼Œåœ¨èˆ‡æŠ€è¡“æ›´å¼·å°æ‰‹çš„ç«¶çˆ­ä¸­å¤§ç²å…¨å‹ã€‚', specs: [{ label: 'CPU', value: '8-bit Sharp SM83 @ 4.19 MHz' },{ label: 'è¢å¹•', value: '2.5å‹ STN LCD (4éšæ©„æ¬–ç¶ )' },{ label: 'é›»æ± ', value: '4x AA, çºŒèˆª 15-30 å°æ™‚' },{ label: 'ç‰¹é»', value: 'æ¥µå…¶è€ç”¨, Game Link é€£æ¥åŸ ' }] },
            'mgb-001': { name: 'Game Boy Pocket', year: '1996', desc: 'è¼•è–„åŒ–çš„å†å®šç¾©ã€‚å›æ‡‰å¸‚å ´å°åˆä»£æ©Ÿã€Œç¬¨é‡ã€çš„çœ‹æ³•ï¼Œé«”ç©å’Œé‡é‡å¤§å¹…ç¸®å°ï¼Œä¸¦æ¡ç”¨äº†å°æ¯”åº¦æ›´é«˜ã€ç„¡æ®˜å½±çš„çœŸæ­£é»‘ç™½è¢å¹•ã€‚', specs: [{ label: 'CPU', value: '8-bit Sharp SM83 @ 4.19 MHz' },{ label: 'è¢å¹•', value: '2.56å‹ FSTN LCD (é»‘ç™½)' },{ label: 'é›»æ± ', value: '2x AAA, çºŒèˆªç´„ 10 å°æ™‚' },{ label: 'ç‰¹é»', value: 'æ›´å°ã€æ›´è¼•, è¢å¹•æ¸…æ™°åº¦æå‡' }] },
            'mgl-001': { name: 'Game Boy Light (æ—¥æœ¬é™å®š)', year: '1998', desc: 'é»‘å¤œä¸­çš„æ›™å…‰ã€‚ä»»å¤©å ‚é¦–æ¬¾å…§ç½®èƒŒå…‰çš„æŒæ©Ÿï¼Œè§£æ±ºäº†åœ¨æ˜æš—ç’°å¢ƒä¸‹ç„¡æ³•éŠæˆ²çš„ç—›é»ã€‚å›  GBC å³å°‡ä¸Šå¸‚è€Œæ›‡èŠ±ä¸€ç¾ï¼Œæ˜¯å–®è‰²æ™‚ä»£çš„æœ€çµ‚å®Œç¾å½¢æ…‹ã€‚', specs: [{ label: 'CPU', value: '8-bit Sharp SM83 @ 4.19 MHz' },{ label: 'è¢å¹•', value: '2.5å‹ FSTN LCD (å¸¶èƒŒå…‰)' },{ label: 'é›»æ± ', value: '2x AA, çºŒèˆª 12-20 å°æ™‚' },{ label: 'ç‰¹é»', value: 'é›»è‡´ç™¼å…‰èƒŒæ¿, æ”¶è—åƒ¹å€¼é«˜' }] },
            'gbc': { name: 'Game Boy Color', year: '1998', desc: 'é²ä¾†çš„è‰²å½©é©å‘½ã€‚ç‚ºæŒä¸Šä¸–ç•Œå¸¶ä¾†äº†è‰²å½©ï¼Œä¸¦å¢å¼·äº†è™•ç†å™¨æ€§èƒ½ã€‚æœ€é—œéµçš„æˆåŠŸå› ç´ æ˜¯ã€Œå‘ä¸‹ç›¸å®¹ã€ï¼Œç™¼å”®å³ç¹¼æ‰¿é¾å¤§çš„ç¶“å…¸éŠæˆ²åº«ã€‚', specs: [{ label: 'CPU', value: '8-bit Sharp SM83 @ 4/8 MHz' },{ label: 'è¢å¹•', value: '2.3å‹ TFT LCD (56è‰²åŒé¡¯)' },{ label: 'é›»æ± ', value: '2x AA, çºŒèˆªç´„ 10 å°æ™‚' },{ label: 'ç‰¹é»', value: 'å½©è‰²è¢å¹•, CPU é›™å€é€Ÿ, å‘ä¸‹ç›¸å®¹' }] },
            'gba': { name: 'Game Boy Advance', year: '2001', desc: 'è¶…ç´šä»»å¤©å ‚åœ¨æŒä¸Šé‡ç¾ã€‚çœŸæ­£çš„ä¸–ä»£æ›´è¿­ï¼Œæ­è¼‰ 32-bit è™•ç†å™¨ï¼Œæ€§èƒ½å¤§å¹…æå‡ã€‚æ©«å‘è¨­è¨ˆå’Œæ–°å¢çš„ L/R è‚©éµå¸¶ä¾†æ›´è±å¯Œçš„éŠæˆ²é«”é©—ï¼Œä½†åˆç‰ˆç„¡èƒŒå…‰è¢å¹•æ˜¯å…¶è‡´å‘½ç¼ºé™·ã€‚', specs: [{ label: 'CPU', value: '32-bit ARM7TDMI @ 16.78 MHz' },{ label: 'è¢å¹•', value: '2.9å‹ åå°„å¼ TFT LCD' },{ label: 'é›»æ± ', value: '2x AA, çºŒèˆªç´„ 15 å°æ™‚' },{ label: 'ç‰¹é»', value: '32-bit æ€§èƒ½, æ©«å‘è¨­è¨ˆ, å‘ä¸‹ç›¸å®¹' }] },
            'gba-sp': { name: 'Game Boy Advance SP', year: '2003', desc: 'è¨­è¨ˆèˆ‡åŠŸèƒ½çš„å®Œç¾èåˆã€‚æ¡ç”¨é©å‘½æ€§çš„ç¿»è“‹è¨­è¨ˆï¼Œå…§ç½®å……é›»é‹°é›»æ± ï¼Œä¸¦çµ‚æ–¼åŠ å…¥äº†è¢å¹•å…‰æºï¼Œè§£æ±ºäº†å‰ä»£æ‰€æœ‰ç—›é»ã€‚å¾ŒæœŸæ›´æœ‰ç•«é¢æ›´äº®çš„èƒŒå…‰ç‰ˆ (AGS-101)ã€‚', specs: [{ label: 'CPU', value: '32-bit ARM7TDMI @ 16.78 MHz' },{ label: 'è¢å¹•', value: '2.9å‹ å‰å…‰å¼/èƒŒå…‰å¼ TFT LCD' },{ label: 'é›»æ± ', value: 'å¯å……é›»é‹°é›»æ± , çºŒèˆª 10-18 å°æ™‚' },{ label: 'ç‰¹é»', value: 'ç¿»è“‹è¨­è¨ˆ, å…§ç½®å…‰æº, å¯å……é›»' }] },
            'gbm': { name: 'Game Boy Micro', year: '2005', desc: 'æ¥µè‡´å°å‹åŒ–çš„çµ•å”±ã€‚ä½œç‚º Game Boy å®¶æ—çš„æœ€å¾Œæˆå“¡ï¼Œå®ƒæ˜¯ä¸€æ¬¡å°æ™‚å°šåŒ–çš„å¤§è†½å˜—è©¦ã€‚é«”ç©æ¥µå…¶å¾®å°ï¼Œå¯æ›´æ›é‡‘å±¬é¢æ¿ï¼Œä½†ç‚ºæ­¤çŠ§ç‰²äº†å‘ä¸‹ç›¸å®¹åŠŸèƒ½ã€‚', specs: [{ label: 'CPU', value: '32-bit ARM7TDMI @ 16.78 MHz' },{ label: 'è¢å¹•', value: '2.0å‹ èƒŒå…‰å¼ LCD' },{ label: 'é›»æ± ', value: 'å¯å……é›»é‹°é›»æ± , çºŒèˆªç´„ 10 å°æ™‚' },{ label: 'ç‰¹é»', value: 'æ¥µè‡´å°å·§, å¯æ›é¢æ¿, ç„¡å‘ä¸‹ç›¸å®¹' }] }
        };

        const timelineNav = document.getElementById('timeline-nav');
        const evolutionContent = document.getElementById('evolution-content');

        function updateEvolutionContent(id) {
            const data = evolutionData[id];
            if (!data) return;
            evolutionContent.innerHTML = `<div class="flex flex-col sm:flex-row items-center gap-6 mb-6"><div class="console-icon w-32 h-40 flex-shrink-0"><div class="console-screen"></div><div class="console-buttons"><div class="console-dpad"></div><div class="console-ab"><div></div><div></div></div></div></div><div><h4 class="text-2xl font-bold">${data.name}</h4><p class="text-gray-500 font-medium">${data.year}</p></div></div><p class="text-gray-700 mb-6">${data.desc}</p><div class="border-t border-gray-200 pt-4"><h5 class="font-bold mb-2">é—œéµè¦æ ¼ï¼š</h5><ul class="space-y-2 text-sm">${data.specs.map(spec => `<li class="flex justify-between"><span class="font-semibold text-gray-600">${spec.label}</span><span class="text-right text-gray-800">${spec.value}</span></li>`).join('')}</ul></div>`;
            document.querySelectorAll('#timeline-nav .timeline-item').forEach(el => el.classList.remove('active'));
            document.querySelector(`#timeline-nav .timeline-item[data-id="${id}"]`).classList.add('active');
        }
        
        Object.keys(evolutionData).forEach(id => {
            const data = evolutionData[id];
            const item = document.createElement('div');
            item.className = 'timeline-item relative cursor-pointer p-2 rounded-md hover:bg-gray-100';
            item.dataset.id = id;
            item.innerHTML = `<h5 class="font-bold">${data.name}</h5><p class="text-sm text-gray-500">${data.year}</p>`;
            item.addEventListener('click', () => updateEvolutionContent(id));
            timelineNav.appendChild(item);
        });

        updateEvolutionContent('dmg-01');

        let warChart;
        const warData = {
            labels: ['Nintendo Game Boy', 'Atari Lynx', 'Sega Game Gear'],
            price: { data: [89.99, 179.99, 149.99], label: 'ç™¼å”®åƒ¹æ ¼ (ç¾å…ƒ)', narrative: 'Game Boy çš„åƒ¹æ ¼é ä½æ–¼ç«¶çˆ­å°æ‰‹ï¼Œä½¿å…¶èƒ½è§¸åŠæ›´å»£æ³›çš„å®¶åº­å’Œå¹´è¼•æ¶ˆè²»è€…ï¼Œé€™æ˜¯å…¶å¸‚å ´æˆåŠŸçš„é—œéµç¬¬ä¸€æ­¥ã€‚' },
            battery: { data: [22.5, 4.5, 4], label: 'å¹³å‡é›»æ± çºŒèˆª (å°æ™‚)', narrative: 'çºŒèˆªåŠ›æ˜¯æ±ºå®šæ€§å„ªå‹¢ã€‚Game Boy é•·é”åæ•¸å°æ™‚çš„éŠç©æ™‚é–“ï¼Œå®Œå‹å°æ‰‹è€—é›»çš„å½©è‰²è¢å¹•ï¼ŒçœŸæ­£å¯¦ç¾äº†ã€Œä¾¿æ”œã€çš„æ ¸å¿ƒåƒ¹å€¼ã€‚' },
            sales: { data: [118.69, 1, 10.62], label: 'å…¨çƒéŠ·é‡ (ç™¾è¬å°)', narrative: 'æœ€çµ‚çš„å¸‚å ´éŠ·é‡è­‰æ˜äº†ä»»å¤©å ‚ç­–ç•¥çš„æˆåŠŸã€‚å°ˆæ³¨æ–¼å¯ç©æ€§ã€åƒ¹æ ¼å’ŒçºŒèˆªï¼Œè€Œéç´™é¢è¦æ ¼ï¼Œç‚º Game Boy è´å¾—äº†å£“å€’æ€§çš„å‹åˆ©ã€‚' }
        };

        const warNarrativeEl = document.getElementById('war-narrative');

        function createWarChart(metric) {
            const ctx = document.getElementById('warChart').getContext('2d');
            const currentData = warData[metric];
            warNarrativeEl.textContent = currentData.narrative;
            if (warChart) {
                warChart.data.datasets[0].data = currentData.data;
                warChart.data.datasets[0].label = currentData.label;
                warChart.options.scales.x.title.text = currentData.label;
                warChart.update();
                return;
            }
            warChart = new Chart(ctx, { type: 'bar', data: { labels: warData.labels, datasets: [{ label: currentData.label, data: currentData.data, backgroundColor: ['rgba(75, 192, 192, 0.6)','rgba(255, 99, 132, 0.6)','rgba(54, 162, 235, 0.6)'], borderColor: ['rgba(75, 192, 192, 1)','rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)'], borderWidth: 1 }] }, options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false }, tooltip: { callbacks: { label: function(context) { let label = context.dataset.label || ''; if (label) { label += ': '; } if (context.parsed.x !== null) { let unit = ''; if (metric === 'price') unit = ' ç¾å…ƒ'; if (metric === 'battery') unit = ' å°æ™‚'; if (metric === 'sales') unit = ' ç™¾è¬å°'; label += context.parsed.x + unit; } return label; } } } }, scales: { x: { beginAtZero: true, title: { display: true, text: currentData.label } }, y: { ticks: { autoSkip: false } } } } });
        }
        
        const warButtons = document.getElementById('war-buttons');
        warButtons.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const metric = e.target.dataset.metric;
                createWarChart(metric);
                warButtons.querySelectorAll('button').forEach(btn => btn.classList.remove('btn-active'));
                e.target.classList.add('btn-active');
            }
        });
        warButtons.querySelector('button[data-metric="price"]').classList.add('btn-active');
        createWarChart('price');

        new Chart(document.getElementById('topGamesChart').getContext('2d'), { type: 'bar', data: { labels: ['å¯¶å¯å¤¢ ç´…/ç¶ /è—/é»ƒ', 'ä¿„ç¾…æ–¯æ–¹å¡Š', 'å¯¶å¯å¤¢ é‡‘/éŠ€/æ°´æ™¶', 'è¶…ç´šç‘ªåˆ©æ­æ¨‚åœ’', 'è¶…ç´šç‘ªåˆ©æ­æ¨‚åœ’2', 'ç‘ªåˆ©æ­é†«ç”Ÿ', 'å¯¶å¯å¤¢å½ˆç å°', 'ç“¦åˆ©æ­æ¨‚åœ’', 'æ˜Ÿä¹‹å¡æ¯”', 'è¶…ç´šç‘ªåˆ©æ­è±ªè¯ç‰ˆ'], datasets: [{ label: 'å…¨çƒéŠ·é‡ (ç™¾è¬å¥—)', data: [46, 35, 29, 18.14, 11.18, 5.34, 5.31, 5.19, 5.13, 5.07], backgroundColor: 'rgba(54, 162, 235, 0.6)', borderColor: 'rgba(54, 162, 235, 1)', borderWidth: 1 }] }, options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false }, tooltip: { callbacks: { label: (context) => `${context.parsed.x} ç™¾è¬å¥—` } } }, scales: { x: { beginAtZero: true, title: { display: true, text: 'å…¨çƒéŠ·é‡ (ç™¾è¬å¥—)' } }, y: { ticks: { callback: function(value) { const label = this.getLabelForValue(value); return label.length > 10 ? label.substring(0, 10) + '...' : label; } } } } } });
        new Chart(document.getElementById('salesBreakdownChart').getContext('2d'), { type: 'doughnut', data: { labels: ['Game Boy & Color', 'Game Boy Advance å®¶æ—'], datasets: [{ label: 'éŠ·é‡', data: [11869, 8151], backgroundColor: ['rgba(75, 192, 192, 0.7)','rgba(153, 102, 255, 0.7)'], borderColor: ['rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)'], borderWidth: 1 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' }, tooltip: { callbacks: { label: (context) => ` ${context.label}: ${context.parsed.toLocaleString()} è¬å°` } } } } });

        // Gemini API Feature
        const generateBtn = document.getElementById('generate-concept-btn');
        const resultContainer = document.getElementById('gemini-result-container');
        const yearSelect = document.getElementById('year-select');
        const screenSelect = document.getElementById('screen-select');
        const featureSelect = document.getElementById('feature-select');

        generateBtn.addEventListener('click', async () => {
            resultContainer.innerHTML = '<div class="flex justify-center items-center"><div class="spinner"></div><p class="ml-4">AI è¨­è¨ˆå¸«æ­£åœ¨æ§‹æ€ä¸­...</p></div>';
            generateBtn.disabled = true;

            const year = yearSelect.value;
            const screen = screenSelect.value;
            const feature = featureSelect.value;

            const prompt = `
            You are a creative product designer at Nintendo in the 1990s, specializing in handheld consoles and following Yokoi Gunpei's philosophy of "Lateral Thinking with Withered Technology".

            Based on the following user specifications, generate a concept for a new Game Boy model.

            Specifications:
            - Target Release Year: ${year}
            - Screen Technology: ${screen}
            - Key Feature: ${feature}

            Your response must be a valid JSON object. Do not include any text, notes, or markdown formatting before or after the JSON object. The JSON object must have only the following three keys: "consoleName", "marketingPitch", "analysis". The text for "marketingPitch" and "analysis" must be in Traditional Chinese.

            Example structure:
            {
              "consoleName": "Game Boy Connect",
              "marketingPitch": "å°‡ä¸–ç•Œæ¡åœ¨æ‰‹ä¸­ï¼å…¨æ–°çš„ Game Boy Connect ä¸åƒ…èƒ½ç©éŠæˆ²ï¼Œæ›´èƒ½é€éç¨å®¶é€£ç·šåŠŸèƒ½èˆ‡å¥½å‹åˆ†äº«é«˜åˆ†èˆ‡ç§˜å¯†ï¼å½©è‰²è¢å¹•è®“ä½ çš„å†’éšªæ›´åŠ ç”Ÿå‹•ï¼",
              "analysis": "å„ªé»ï¼šåœ¨å–®äººéŠæˆ²ç‚ºä¸»çš„å¸‚å ´ä¸­ï¼Œå¼·èª¿é€£ç·šåŠŸèƒ½æ˜¯å€‹è—æµ·ç­–ç•¥ï¼Œèƒ½æœ‰æ•ˆä¿ƒé€²ç¤¾ç¾¤äº’å‹•ã€‚ç¼ºé»ï¼šä»¥ ${year} å¹´çš„æŠ€è¡“ï¼Œé€£ç·šåŠŸèƒ½çš„ç©©å®šæ€§å’Œæˆæœ¬å°‡æ˜¯å·¨å¤§æŒ‘æˆ°ï¼Œä¸”éœ€è¦è»Ÿé«”ç”Ÿæ…‹çš„å…¨åŠ›æ”¯æŒæ‰èƒ½ç™¼æ®åƒ¹å€¼ã€‚"
            }
            `;
            
            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API è«‹æ±‚å¤±æ•—ï¼Œç‹€æ…‹ç¢¼: ${response.status}`);
                }
                
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    
                    let rawText = result.candidates[0].content.parts[0].text;
                    
                    // Clean the response to ensure it's valid JSON
                    rawText = rawText.replace(/```json/g, '').replace(/```/g, '').trim();

                    const concept = JSON.parse(rawText);

                    resultContainer.innerHTML = `
                        <h4 class="text-xl font-bold text-indigo-700 mb-2">${concept.consoleName}</h4>
                        <p class="text-gray-800 mb-4 italic">"${concept.marketingPitch}"</p>
                        <div class="border-t border-gray-300 pt-3">
                            <h5 class="font-semibold text-gray-900 mb-1">è¨­è¨ˆå¸«åˆ†æï¼š</h5>
                            <p class="text-sm text-gray-700">${concept.analysis}</p>
                        </div>
                    `;
                } else {
                    throw new Error("å¾ API æ”¶åˆ°çš„å›æ‡‰æ ¼å¼ä¸æ­£ç¢ºã€‚");
                }
            } catch (error) {
                console.error('Gemini API Error:', error);
                resultContainer.innerHTML = `<p class="text-red-500 text-center">ç³Ÿç³•ï¼AI è¨­è¨ˆå¸«éˆæ„Ÿæ¯ç«­äº†ã€‚è«‹ç¨å¾Œå†è©¦ä¸€æ¬¡ã€‚<br><span class="text-xs text-gray-500">${error.message}</span></p>`;
            } finally {
                 generateBtn.disabled = false;
            }
        });
    });
    </script>
</body>
</html>
