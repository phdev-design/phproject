<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡è¨Šåœ–è¡¨ï¼šå‰–æC++çš„å­¸ç¿’æŒ‘æˆ° / Infographic: The Challenge of Learning C++</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Roboto:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0B2D48;
            color: #205A8C;
        }
        .font-roboto {
            font-family: 'Roboto', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flowchart-box {
            border: 2px solid #3E82C3;
            background-color: #0B2D48;
            color: #D9D9D9;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            flex-grow: 1;
        }
        .flowchart-arrow {
            font-size: 2.5rem;
            color: #F2A71B;
            align-self: center;
            margin: 0 1rem;
        }
        .lang-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid transparent;
        }
        .lang-btn.active {
            background-color: #F2A71B;
            color: #0B2D48;
            font-weight: 700;
        }
        .lang-btn:not(.active) {
            background-color: #3E82C3;
            color: white;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12 relative">
            <div class="absolute top-0 right-0 flex space-x-2">
                <button id="lang-zh" class="lang-btn" data-lang="zh">ç¹é«”ä¸­æ–‡</button>
                <button id="lang-en" class="lang-btn" data-lang="en">English</button>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-4" data-lang-key="mainTitle"></h1>
            <p class="text-lg md:text-xl text-[#D9D9D9]" data-lang-key="mainSubtitle"></p>
        </header>

        <main class="space-y-12">

            <section id="philosophy">
                <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 text-[#0B2D48]" data-lang-key="philosophyTitle"></h2>
                    <p class="text-center mb-8 max-w-3xl mx-auto" data-lang-key="philosophyDesc"></p>
                    <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0">
                        <div class="flowchart-box">
                            <h3 class="font-bold text-lg text-[#F2A71B]" data-lang-key="philosophyBox1"></h3>
                        </div>
                        <div class="flowchart-arrow">&rarr;</div>
                        <div class="flowchart-box">
                             <h3 class="font-bold text-lg text-[#F2A71B]" data-lang-key="philosophyBox2"></h3>
                        </div>
                        <div class="flowchart-arrow">&darr;</div>
                        <div class="flowchart-box bg-[#F2A71B] text-[#0B2D48]">
                            <h3 class="font-bold text-xl" data-lang-key="philosophyBox3"></h3>
                        </div>
                    </div>
                </div>
            </section>

            <section id="memory">
                 <h2 class="text-3xl font-bold text-center mb-6 text-white" data-lang-key="memoryTitle"></h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-xl p-6">
                        <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="memoryBurdenTitle"></h3>
                        <p class="mb-4" data-lang-key="memoryBurdenDesc"></p>
                         <div class="chart-container h-64 md:h-72">
                            <canvas id="memoryIssuesChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-xl p-6">
                        <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="pointersTitle"></h3>
                        <p class="mb-4" data-lang-key="pointersDesc"></p>
                        <div class="flex justify-around items-center h-full mt-4">
                            <div class="text-center p-4 border-2 border-dashed border-[#3E82C3] rounded-lg">
                                <h4 class="font-bold text-xl" data-lang-key="stackTitle"></h4>
                                <p class="text-6xl">âš¡</p>
                                <p data-lang-key="stackProp1"></p>
                                <p data-lang-key="stackProp2"></p>
                                <p data-lang-key="stackProp3"></p>
                            </div>
                            <div class="text-center p-4 border-2 border-dashed border-[#F2A71B] rounded-lg">
                                <h4 class="font-bold text-xl" data-lang-key="heapTitle"></h4>
                                <p class="text-6xl">ğŸ§ </p>
                                <p data-lang-key="heapProp1"></p>
                                <p data-lang-key="heapProp2"></p>
                                <p data-lang-key="heapProp3"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="ub">
                <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 text-[#0B2D48]" data-lang-key="ubTitle"></h2>
                    <p class="text-center mb-4 max-w-3xl mx-auto" data-lang-key="ubDesc"></p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div>
                            <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="ubTriggersTitle"></h3>
                            <p class="mb-4 text-center" data-lang-key="ubTriggersDesc"></p>
                            <div class="chart-container">
                                <canvas id="ubTriggersChart"></canvas>
                            </div>
                        </div>
                        <div class="text-center p-6 bg-gray-100 rounded-lg">
                            <p class="text-6xl mb-4">ğŸ“œ</p>
                            <h3 class="text-2xl font-bold mb-2" data-lang-key="ubContractTitle"></h3>
                            <p class="mb-4" data-lang-key="ubContractDesc"></p>
                            <div class="text-left space-y-2">
                                <p data-lang-key="ubContractDev"></p>
                                <p data-lang-key="ubContractCompiler"></p>
                                <p class="mt-4" data-lang-key="ubContractBreach"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="complexity">
                <h2 class="text-3xl font-bold text-center mb-6 text-white" data-lang-key="complexityTitle"></h2>
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-xl p-6">
                        <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="paradigmTitle"></h3>
                        <p class="mb-4" data-lang-key="paradigmDesc"></p>
                         <div class="chart-container">
                            <canvas id="paradigmChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-xl p-6">
                        <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="historyTitle"></h3>
                        <p class="mb-4" data-lang-key="historyDesc"></p>
                        <div class="relative p-4 space-y-2">
                            <div class="p-3 bg-[#F2A71B] text-black rounded-lg text-center z-40 relative"><strong data-lang-key="historyLayer4_1"></strong><br><span data-lang-key="historyLayer4_2"></span></div>
                             <div class="p-3 bg-[#3E82C3] text-white rounded-lg text-center z-30 relative mt-[-0.5rem] ml-4"><strong data-lang-key="historyLayer3_1"></strong><br><span data-lang-key="historyLayer3_2"></span></div>
                             <div class="p-3 bg-[#205A8C] text-white rounded-lg text-center z-20 relative mt-[-0.5rem] ml-8"><strong data-lang-key="historyLayer2_1"></strong><br><span data-lang-key="historyLayer2_2"></span></div>
                             <div class="p-3 bg-[#0B2D48] text-white rounded-lg text-center z-10 relative mt-[-0.5rem] ml-12"><strong data-lang-key="historyLayer1_1"></strong><br><span data-lang-key="historyLayer1_2"></span></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="moderncpp">
                 <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 text-[#0B2D48]" data-lang-key="modernTitle"></h2>
                    <p class="text-center mb-8 max-w-3xl mx-auto" data-lang-key="modernDesc"></p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                         <div>
                            <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="modernCompareTitle"></h3>
                             <div class="space-y-4">
                                <div class="bg-gray-100 p-4 rounded-lg">
                                    <h4 class="font-bold" data-lang-key="modernCompareMem"></h4>
                                    <p class="text-red-600 line-through text-sm font-mono">MyClass* p = new MyClass(); delete p;</p>
                                    <p class="text-green-600 text-sm font-mono">auto p = std::make_unique&lt;MyClass&gt;();</p>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-lg">
                                    <h4 class="font-bold" data-lang-key="modernCompareLoop"></h4>
                                    <p class="text-red-600 line-through text-sm font-mono">for(iterator it = v.begin()...)</p>
                                    <p class="text-green-600 text-sm font-mono">for(int val : v)</p>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-lg">
                                    <h4 class="font-bold" data-lang-key="modernCompareType"></h4>
                                    <p class="text-red-600 line-through text-sm font-mono">std::map&lt;...&gt;::iterator it = ...</p>
                                    <p class="text-green-600 text-sm font-mono">auto it = ...</p>
                                </div>
                            </div>
                         </div>
                        <div>
                             <h3 class="text-2xl font-bold text-center mb-4" data-lang-key="modernComplexityTitle"></h3>
                             <p class="mb-4 text-center" data-lang-key="modernComplexityDesc"></p>
                             <div class="chart-container">
                                <canvas id="modernCppComplexityChart"></canvas>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>
            
            <section id="conclusion">
                <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center mb-6 text-[#0B2D48]" data-lang-key="conclusionTitle"></h2>
                    <p class="text-center mb-8 max-w-3xl mx-auto" data-lang-key="conclusionDesc"></p>
                    <ol class="list-decimal list-inside space-y-4 max-w-2xl mx-auto text-lg">
                        <li class="p-3 bg-gray-50 rounded-lg" data-lang-key="conclusionPoint1"></li>
                        <li class="p-3 bg-gray-100 rounded-lg" data-lang-key="conclusionPoint2"></li>
                        <li class="p-3 bg-gray-50 rounded-lg" data-lang-key="conclusionPoint3"></li>
                        <li class="p-3 bg-gray-100 rounded-lg" data-lang-key="conclusionPoint4"></li>
                         <li class="p-3 bg-gray-50 rounded-lg" data-lang-key="conclusionPoint5"></li>
                    </ol>
                </div>
            </section>
        </main>

        <footer class="text-center text-white mt-12 py-6 border-t border-gray-700">
            <p data-lang-key="footerCopyright"></p>
            <p class="text-sm text-gray-400 mt-2" data-lang-key="footerNotice"></p>
        </footer>
    </div>

<script>
    const translations = {
        zh: {
            mainTitle: "å‰–æC++çš„å­¸ç¿’æŒ‘æˆ°",
            mainSubtitle: "ç‚ºä½•é€™é–€å¼·å¤§çš„èªè¨€å¦‚æ­¤ä»¤äººæœ›è€Œç”Ÿç•ï¼Ÿ",
            philosophyTitle: "ä¸€åˆ‡è¤‡é›œæ€§çš„æ ¹æºï¼šé›¶æˆæœ¬æŠ½è±¡",
            philosophyDesc: "C++çš„æ‰€æœ‰å­¸ç¿’é›£é»ï¼Œå¹¾ä¹éƒ½æºè‡ªå…¶ä¸å¦¥å”çš„æ ¸å¿ƒè¨­è¨ˆå“²å­¸ã€‚é€™å€‹åŸå‰‡å°‡æ¥µè‡´çš„æ•ˆèƒ½æ§åˆ¶æ¬Šäº¤çµ¦é–‹ç™¼è€…ï¼Œä»£åƒ¹å‰‡æ˜¯ç§»é™¤äº†é«˜éšèªè¨€ä¸­å¸¸è¦‹çš„å®‰å…¨ç¶²ã€‚é€™ä¸æ˜¯ç¼ºé™·ï¼Œè€Œæ˜¯ä¸€ç¨®å°‡å·¨å¤§è²¬ä»»ç½®æ–¼é–‹ç™¼è€…è‚©ä¸Šçš„ç‰¹æ€§ã€‚",
            philosophyBox1: "ä½ ä¸ä½¿ç”¨çš„æ±è¥¿ï¼Œ<br>ä½ ä¸éœ€è¦ç‚ºå®ƒä»˜å‡ºä»£åƒ¹ã€‚",
            philosophyBox2: "ä½ ç¢ºå¯¦ä½¿ç”¨çš„æ±è¥¿ï¼Œ<br>ä½ èƒ½ç²å¾—æœ€ä½³æ•ˆèƒ½ã€‚",
            philosophyBox3: "çµè«–ï¼š<br>ç¨‹å¼è¨­è¨ˆå¸«å°ä¸€åˆ‡è² è²¬",
            memoryTitle: "ç¬¬ä¸€é“æ‡¸å´–ï¼šæ‰‹å‹•è¨˜æ†¶é«”ç®¡ç†",
            memoryBurdenTitle: "ç¨‹å¼è¨­è¨ˆå¸«çš„æ²‰é‡è² æ“”",
            memoryBurdenDesc: "ã€Œé›¶æˆæœ¬æŠ½è±¡ã€åŸå‰‡çš„ç›´æ¥å¾Œæœå°±æ˜¯æ‰‹å‹•è¨˜æ†¶é«”ç®¡ç†ã€‚èˆ‡Javaæˆ–Pythonä¸åŒï¼ŒC++é–‹ç™¼è€…å¿…é ˆæ‰‹å‹•é…ç½® (`new`) å’Œé‡‹æ”¾ (`delete`) è¨˜æ†¶é«”ã€‚ç®¡ç†ä¸ç•¶æœƒå¼•ç™¼å…©é¡è‡´å‘½éŒ¯èª¤ï¼Œé€™è¦æ±‚é–‹ç™¼è€…å¿…é ˆå»ºç«‹åš´è¬¹çš„ã€Œç‰©ä»¶æ‰€æœ‰æ¬Šã€å¿ƒæ™ºæ¨¡å‹ã€‚",
            pointersTitle: "æŒ‡æ¨™ï¼šç›´æ¥è¨˜æ†¶é«”å­˜å–çš„é›™é¢åˆƒ",
            pointersDesc: "æŒ‡æ¨™æ˜¯C++ç”¨ä»¥å¯¦ç¾æ‰‹å‹•ç®¡ç†çš„å·¥å…·ï¼Œå®ƒå„²å­˜è®Šæ•¸çš„è¨˜æ†¶é«”ä½å€ã€‚ç²¾é€šæŒ‡æ¨™éœ€è¦ç†è§£å †ç–Š(Stack)èˆ‡å †(Heap)çš„å€åˆ¥ã€å€¼çš„å‚³éèˆ‡ä½å€çš„å‚³éï¼Œä»¥åŠè¤‡é›œçš„æŒ‡æ¨™èªæ³•ã€‚éŒ¯èª¤çš„é¸æ“‡å¾€å¾€ä¸æœƒåœ¨ç·¨è­¯æ™‚è¢«ç™¼ç¾ï¼Œè€Œæ˜¯åœ¨åŸ·è¡Œæ™‚ä»¥éš±æ™¦çš„æ–¹å¼æš´éœ²å‡ºä¾†ã€‚",
            stackTitle: "å †ç–Š (Stack)",
            stackProp1: "è‡ªå‹•ç®¡ç†",
            stackProp2: "ç”Ÿå‘½é€±æœŸå›ºå®š",
            stackProp3: "å¿«é€Ÿ",
            heapTitle: "å † (Heap)",
            heapProp1: "æ‰‹å‹•ç®¡ç†",
            heapProp2: "ç”Ÿå‘½é€±æœŸéˆæ´»",
            heapProp3: "è¼ƒæ…¢",
            ubTitle: "ç„¡æƒ…çš„å¥‘ç´„ï¼šç†è§£ä¸¦è¦é¿æœªå®šç¾©è¡Œç‚º (UB)",
            ubDesc: "æœªå®šç¾©è¡Œç‚º (UB) æ˜¯C++ä¸­æœ€å±éšªçš„æ¦‚å¿µã€‚å®ƒæŒ‡ç¨‹å¼åŸ·è¡Œäº†C++æ¨™æº–æœªä½œè¦å®šçš„æ“ä½œï¼Œç·¨è­¯å™¨å¯ä»¥åšä»»ä½•äº‹â€”â€”å´©æ½°ã€ç”¢å‡ºéŒ¯èª¤çµæœã€ç”šè‡³çœ‹ä¼¼æ­£å¸¸ã€‚UBçš„å­˜åœ¨æ˜¯ç‚ºäº†çµ¦äºˆç·¨è­¯å™¨æ¥µè‡´çš„æœ€ä½³åŒ–ç©ºé–“ï¼Œå®ƒå‡è¨­é–‹ç™¼è€…æ°¸é ä¸æœƒå¯«å‡ºé€™æ¨£çš„ç¨‹å¼ç¢¼ã€‚",
            ubTriggersTitle: "å¸¸è¦‹çš„UBè§¸ç™¼å™¨",
            ubTriggersDesc: "UBçš„è§¸ç™¼æ¢ä»¶äº”èŠ±å…«é–€ï¼Œå°åˆå­¸è€…ä¾†èªªè™•è™•æ˜¯é™·é˜±ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æœ€å¸¸è¦‹çš„ä¾‹å­ï¼Œå®ƒå€‘é€šå¸¸ä¸æœƒç”¢ç”Ÿç·¨è­¯è­¦å‘Šï¼Œä½†åœ¨åŸ·è¡Œæ™‚å¯èƒ½å°è‡´ç½é›£ã€‚",
            ubContractTitle: "æ•ˆèƒ½å¥‘ç´„",
            ubContractDesc: "å¯ä»¥å°‡UBè¦–ç‚ºé–‹ç™¼è€…èˆ‡ç·¨è­¯å™¨é–“çš„å¥‘ç´„ï¼š",
            ubContractDev: "<strong class='text-[#205A8C]'>é–‹ç™¼è€…æ‰¿è«¾ï¼š</strong>æˆ‘çš„ç¨‹å¼ç¢¼ä¸­çµ•ä¸åŒ…å«æœªå®šç¾©è¡Œç‚ºã€‚",
            ubContractCompiler: "<strong class='text-[#F2A71B]'>ç·¨è­¯å™¨å›å ±ï¼š</strong>æˆ‘ç›¸ä¿¡ä½ ï¼Œä¸¦çœç•¥å°é€™äº›æƒ…æ³çš„æª¢æŸ¥ï¼Œç”¢å‡ºé«˜åº¦æœ€ä½³åŒ–çš„ç¨‹å¼ç¢¼ã€‚",
            ubContractBreach: "<strong class='text-red-600'>ä¸€æ—¦é•ç´„ï¼š</strong>ç¨‹å¼çš„æœ‰æ•ˆæ€§è•©ç„¶ç„¡å­˜ï¼Œå¯èƒ½ç™¼ç”Ÿä»»ä½•äº‹ã€‚ğŸ˜ˆ",
            complexityTitle: "è¿·å®®èˆ¬çš„èªè¨€ï¼šè¦æ¨¡èˆ‡å¤šé‡å…¸ç¯„",
            paradigmTitle: "ä¸€å€‹èªè¨€ï¼Œå››ç¨®æ€ç¶­",
            paradigmDesc: "C++ä¸¦éç´”ç²¹çš„ç‰©ä»¶å°å‘èªè¨€ï¼Œå®ƒæ˜¯ä¸€å€‹æ”¯æ´å¤šç¨®ç¨‹å¼è¨­è¨ˆå…¸ç¯„çš„æ··åˆé«”ã€‚çœŸæ­£çš„æŒ‘æˆ°åœ¨æ–¼å­¸æœƒä½•æ™‚ä½¿ç”¨å“ªä¸€ç¨®ï¼Œä»¥åŠå¦‚ä½•å°‡å®ƒå€‘æœ‰æ•ˆåœ°çµåˆã€‚ä¾‹å¦‚ï¼ŒSTLä¸»è¦æ˜¯æ³›å‹ç¨‹å¼è¨­è¨ˆï¼Œå…¶æ€æƒ³èˆ‡å‚³çµ±OOPæœ‰æ‰€ä¸åŒã€‚",
            historyTitle: "æ­·å²çš„æ²‰ç©",
            historyDesc: "C++çš„è¤‡é›œæ€§æ˜¯æ­·å²æ¼”é€²çš„çµæœã€‚èªè¨€åœ¨æ•¸åå¹´ä¸­ä¸æ–·ç–ŠåŠ æ–°çš„å…¸ç¯„ï¼Œä½†å¾ˆå°‘ç§»é™¤èˆŠçš„ã€‚å­¸ç¿’è€…é¢å°çš„æ˜¯ä¸€å€‹å±¤å±¤ç–ŠåŠ çš„çµæ§‹ï¼Œå¿…é ˆå­¸æœƒåœ¨é€™åº§ã€Œèªè¨€è€ƒå¤éºå€ã€ä¸­å°èˆªã€‚",
            historyLayer4_1: "C++11/14/17/20+",
            historyLayer4_2: "å‡½å¼åŒ–ç¨‹å¼è¨­è¨ˆ (Lambda), ç¾ä»£åŒ–ç‰¹æ€§",
            historyLayer3_1: "C++98/03",
            historyLayer3_2: "æ³›å‹ç¨‹å¼è¨­è¨ˆ (Templates, STL)",
            historyLayer2_1: "C with Classes",
            historyLayer2_2: "ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ (OOP)",
            historyLayer1_1: "C",
            historyLayer1_2: "ç¨‹åºåŒ–ç¨‹å¼è¨­è¨ˆ",
            modernTitle: "ç¾ä»£C++çš„å¾©èˆˆï¼šä¸€æŠŠé›™é¢åˆƒ",
            modernDesc: "è‡ªC++11ä»¥ä¾†ï¼Œèªè¨€ç¶“æ­·äº†ä¸€å ´æ·±åˆ»çš„è®Šé©ã€‚ç¾ä»£ç‰¹æ€§è§£æ±ºäº†è¨±å¤šç¶“å…¸ç—›é»ï¼Œè®“ç¨‹å¼è¨­è¨ˆæ›´å®‰å…¨ã€ç°¡æ½”ã€‚ç„¶è€Œï¼Œé€™ä¹Ÿç‚ºæœ¬å·²é¾å¤§çš„èªè¨€å¢æ·»äº†æ–°çš„ã€æ›´æŠ½è±¡çš„å­¸ç¿’å…§å®¹ï¼Œé€ æˆäº†ã€Œç¶“å…¸C++ã€èˆ‡ã€Œç¾ä»£C++ã€çš„å·¨å¤§åˆ†è£‚ã€‚",
            modernCompareTitle: "é¦´æœçŒ›ç¸ï¼šæ–°èˆŠæ…£ç”¨æ³•å°æ¯”",
            modernCompareMem: "è¨˜æ†¶é«”ç®¡ç†",
            modernCompareLoop: "å®¹å™¨éæ­·",
            modernCompareType: "å‹åˆ¥æ¨å°",
            modernComplexityTitle: "æ–°çš„è¤‡é›œæ€§å‰æ²¿",
            modernComplexityDesc: "æ¯ä¸€å€‹å¼·å¤§çš„æ–°ç‰¹æ€§ï¼Œéƒ½å¢æ·»äº†æ–°çš„å­¸ç¿’å…§å®¹ã€‚å­¸ç¿’çš„ç¸½è² æ“”å¯¦éš›ä¸Šå¢åŠ äº†ï¼Œå› ç‚ºå­¸ç¿’è€…ä¸åƒ…è¦æŒæ¡ç¾ä»£æ–¹æ³•ï¼Œé‚„å¿…é ˆèƒ½çœ‹æ‡‚ç„¡è™•ä¸åœ¨çš„ç¶“å…¸ç¨‹å¼ç¢¼ã€‚",
            conclusionTitle: "ç²¾é€šä¹‹è·¯ï¼šæˆ°ç•¥æ€§å­¸ç¿’å»ºè­°",
            conclusionDesc: "ç²¾é€šC++ï¼Œèˆ‡å…¶èªªæ˜¯è¨˜æ†¶èªæ³•ï¼Œä¸å¦‚èªªæ˜¯å»ºç«‹ä¸€å€‹é—œæ–¼è¨ˆç®—æ©Ÿå¯¦éš›é‹ä½œæ–¹å¼çš„æ·±åˆ»å¿ƒæ™ºæ¨¡å‹ã€‚é€™éœ€è¦ç†è§£è³‡æºæ‰€æœ‰æ¬Šã€ç‰©ä»¶ç”Ÿå‘½é€±æœŸå’Œæ•ˆèƒ½å½±éŸ¿ã€‚ä»¥ä¸‹æ˜¯çµ¦æœ‰å¿—è€…çš„å»ºè­°ï¼š",
            conclusionPoint1: "<strong class='text-[#F2A71B]'>æ“æŠ±å“²å­¸ï¼š</strong>èªè­˜åˆ°C++æ˜¯ç”¨å®‰å…¨æ›å–æ§åˆ¶çš„æ¬Šè¡¡ï¼Œå­¸ç¿’ç”¨C++çš„æ–¹å¼æ€è€ƒå•é¡Œã€‚",
            conclusionPoint2: "<strong class='text-[#F2A71B]'>å¾ç¾ä»£èµ·æ­¥ï¼š</strong>å°‡C++17/20ä½œç‚ºèµ·é»ï¼Œå„ªå…ˆä½¿ç”¨æ™ºæ…§æŒ‡æ¨™ã€`auto`ç­‰ç¾ä»£ç‰¹æ€§ï¼Œé¿å…éæ—©é™·å…¥åº•å±¤æ³¥æ½­ã€‚",
            conclusionPoint3: "<strong class='text-[#F2A71B]'>ç²¾é€šå·¥å…·ï¼š</strong>æŠ•å…¥æ™‚é–“å­¸ç¿’ç·¨è­¯å™¨ã€é™¤éŒ¯å™¨(GDB)å’Œå»ºç½®ç³»çµ±(CMake)ã€‚å®ƒå€‘æ˜¯ç®¡ç†è¤‡é›œæ€§çš„å¿…è¦å·¥å…·ã€‚",
            conclusionPoint4: "<strong class='text-[#F2A71B]'>åš´è‚…å°å¾…UBï¼š</strong>å°‡æœªå®šç¾©è¡Œç‚ºè¦–ç‚ºçµ•å°ç¦å¿Œï¼Œä¸¦ä½¿ç”¨éœæ…‹åˆ†æå·¥å…·å’Œæ¶ˆæ¯’åŠ‘ä¾†æå‰æ•ç²å®ƒå€‘ã€‚",
            conclusionPoint5: "<strong class='text-[#F2A71B]'>é–±è®€å¥½ç¨‹å¼ç¢¼ï¼š</strong>ç ”è®€ä½¿ç”¨ç¾ä»£C++é¢¨æ ¼ç·¨å¯«çš„é–‹æºå°ˆæ¡ˆï¼Œæ˜¯å°‡ç†è«–è½‰åŒ–ç‚ºå¯¦è¸çš„æœ€ä½³é€”å¾‘ã€‚",
            footerCopyright: "&copy; 2025 C++å­¸ç¿’æŒ‘æˆ°åˆ†æå ±å‘Š",
            footerNotice: "åŸºæ–¼ã€Šå‰–æC++çš„å­¸ç¿’æŒ‘æˆ°ï¼šä¸€ä»½æ·±åº¦åˆ†æå ±å‘Šã€‹ç”¢ç”Ÿã€‚æ‰€æœ‰åœ–è¡¨å‡ä½¿ç”¨Chart.jså’ŒCanvasç¹ªè£½ï¼Œæœªä½¿ç”¨SVGæˆ–Mermaid.jsã€‚",
            // Chart specific translations
            chartMemLeak: "è¨˜æ†¶é«”æ´©æ¼ (å¿˜è¨˜ delete)",
            chartDangling: "æ‡¸ç©ºæŒ‡æ¨™ (ä½¿ç”¨å·²é‡‹æ”¾è¨˜æ†¶é«”)",
            chartMemErrors: "å¸¸è¦‹è¨˜æ†¶é«”éŒ¯èª¤",
            chartUBOutOfBounds: "é™£åˆ—è¶Šç•Œå­˜å–",
            chartUBNULL: "è§£åƒè€ƒç©ºæŒ‡æ¨™",
            chartUBSignedOverflow: "æœ‰ç¬¦è™Ÿæ•´æ•¸æº¢ä½",
            chartUBDangling: "ä½¿ç”¨æ‡¸ç©ºæŒ‡æ¨™",
            chartUBDanger: "å±éšªç¨‹åº¦ (ä¸»è§€è©•ä¼°)",
            chartParadigmProcedural: "ç¨‹åºåŒ–",
            chartParadigmOOP: "ç‰©ä»¶å°å‘ (OOP)",
            chartParadigmGP: "æ³›å‹ (GP)",
            chartParadigmFP: "å‡½å¼åŒ– (FP)",
            chartParadigmLowLevel: "åº•å±¤æ§åˆ¶",
            chartParadigmJava: "Java (å°æ¯”)",
            chartModernMove: "ç§»å‹•èªæ„ & å³å€¼åƒè€ƒ",
            chartModernForward: "å®Œç¾è½‰ç™¼",
            chartModernConcepts: "Concepts",
            chartModernCoroutines: "å”ç¨‹ (Coroutines)",
            chartModernAbstract: "æ¦‚å¿µæŠ½è±¡å±¤ç´š",
            chartModernSolve: "è§£æ±ºèˆŠå•é¡Œçš„èƒ½åŠ›"
        },
        en: {
            mainTitle: "Dissecting the Challenge of Learning C++",
            mainSubtitle: "Why is this powerful language so daunting?",
            philosophyTitle: "The Root of All Complexity: Zero-Cost Abstractions",
            philosophyDesc: "Almost all of C++'s learning difficulties stem from its uncompromising core design philosophy. This principle gives developers ultimate performance control, at the cost of removing the safety nets common in higher-level languages. This isn't a flaw, but a feature that places immense responsibility on the developer.",
            philosophyBox1: "You don't pay for<br>what you don't use.",
            philosophyBox2: "What you do use,<br>you couldn't hand code any better.",
            philosophyBox3: "Conclusion:<br>The Programmer is Responsible for Everything",
            memoryTitle: "The First Cliff: Manual Memory Management",
            memoryBurdenTitle: "The Programmer's Heavy Burden",
            memoryBurdenDesc: "The direct consequence of the 'zero-cost abstraction' principle is manual memory management. Unlike Java or Python, C++ developers must manually allocate (`new`) and deallocate (`delete`) memory. Mismanagement leads to two types of fatal errors, requiring developers to build a rigorous mental model of 'object ownership'.",
            pointersTitle: "Pointers: The Double-Edged Sword of Direct Memory Access",
            pointersDesc: "Pointers are the tool C++ uses to implement manual management, storing a variable's memory address. Mastering them requires understanding the difference between Stack and Heap, pass-by-value vs. pass-by-address, and complex pointer syntax. Wrong choices often aren't caught at compile-time but surface cryptically at runtime.",
            stackTitle: "Stack",
            stackProp1: "Automatic",
            stackProp2: "Fixed Lifetime",
            stackProp3: "Fast",
            heapTitle: "Heap",
            heapProp1: "Manual",
            heapProp2: "Flexible Lifetime",
            heapProp3: "Slower",
            ubTitle: "The Unforgiving Contract: Understanding and Avoiding Undefined Behavior (UB)",
            ubDesc: "Undefined Behavior (UB) is the most dangerous concept in C++. It refers to operations for which the C++ standard imposes no requirements. The compiler can do anythingâ€”crash, produce wrong results, or seem to work fine. UB exists to grant the compiler extreme optimization latitude, assuming the developer never writes such code.",
            ubTriggersTitle: "Common UB Triggers",
            ubTriggersDesc: "UB can be triggered in countless ways, creating a minefield for beginners. Here are some of the most common examples, which usually don't produce compile warnings but can lead to disaster at runtime.",
            ubContractTitle: "The Performance Contract",
            ubContractDesc: "UB can be seen as a contract between the developer and the compiler:",
            ubContractDev: "<strong class='text-[#205A8C]'>Developer Promises:</strong> My code will never contain undefined behavior.",
            ubContractCompiler: "<strong class='text-[#F2A71B]'>Compiler Replies:</strong> I trust you, and will omit checks for these cases to produce highly optimized code.",
            ubContractBreach: "<strong class='text-red-600'>Upon Breach:</strong> The program's validity is void. Anything can happen. ğŸ˜ˆ",
            complexityTitle: "A Labyrinthine Language: Scale and Multi-Paradigm",
            paradigmTitle: "One Language, Four Mindsets",
            paradigmDesc: "C++ is not a pure object-oriented language; it's a hybrid that supports multiple programming paradigms. The real challenge is learning when to use which and how to combine them effectively. For example, the STL is primarily generic programming, a different mindset from traditional OOP.",
            historyTitle: "Historical Sediment",
            historyDesc: "The complexity of C++ is a result of its historical evolution. Over decades, the language has layered new paradigms on top of old ones, rarely removing anything. The learner faces a layered structure and must learn to navigate this 'language archaeological site'.",
            historyLayer4_1: "C++11/14/17/20+",
            historyLayer4_2: "Functional Programming (Lambdas), Modern Features",
            historyLayer3_1: "C++98/03",
            historyLayer3_2: "Generic Programming (Templates, STL)",
            historyLayer2_1: "C with Classes",
            historyLayer2_2: "Object-Oriented Programming (OOP)",
            historyLayer1_1: "C",
            historyLayer1_2: "Procedural Programming",
            modernTitle: "The Renaissance of Modern C++: A Double-Edged Sword",
            modernDesc: "Since C++11, the language has undergone a profound transformation. Modern features have solved many classic pain points, making programming safer and cleaner. However, this has also added new, more abstract concepts to an already massive language, creating a great divide between 'classic' and 'modern' C++.",
            modernCompareTitle: "Taming the Beast: Old vs. New Idioms",
            modernCompareMem: "Memory Management",
            modernCompareLoop: "Container Iteration",
            modernCompareType: "Type Deduction",
            modernComplexityTitle: "The New Frontier of Complexity",
            modernComplexityDesc: "Every powerful new feature adds to the learning load. The total burden has actually increased, as learners must not only master modern methods but also be able to understand the classic code that is everywhere.",
            conclusionTitle: "The Path to Mastery: Strategic Learning Advice",
            conclusionDesc: "Mastering C++ is less about memorizing syntax and more about building a deep mental model of how computers actually work. This requires understanding resource ownership, object lifetimes, and performance implications. Here is our advice for the aspiring:",
            conclusionPoint1: "<strong class='text-[#F2A71B]'>Embrace the Philosophy:</strong> Recognize that C++ is a trade-off of safety for control. Learn to think in C++ terms.",
            conclusionPoint2: "<strong class='text-[#F2A71B]'>Start Modern:</strong> Begin with C++17/20. Prioritize smart pointers, `auto`, and other modern features to avoid getting bogged down in low-level pitfalls too early.",
            conclusionPoint3: "<strong class='text-[#F2A71B]'>Master the Tools:</strong> Invest time in learning your compiler, debugger (GDB), and build system (CMake). They are essential for managing complexity.",
            conclusionPoint4: "<strong class='text-[#F2A71B]'>Take UB Seriously:</strong> Treat Undefined Behavior as an absolute taboo. Use static analysis tools and sanitizers to catch it early.",
            conclusionPoint5: "<strong class='text-[#F2A71B]'>Read Good Code:</strong> Studying open-source projects written in a modern C++ style is the best way to turn theory into practice.",
            footerCopyright: "&copy; 2025 C++ Learning Challenge Analysis",
            footerNotice: "Generated based on 'An In-Depth Analysis of C++ Learning Challenges'. All charts rendered with Chart.js and Canvas. No SVG or Mermaid.js was used.",
            // Chart specific translations
            chartMemLeak: "Memory Leak (Forgot delete)",
            chartDangling: "Dangling Pointer (Use after free)",
            chartMemErrors: "Common Memory Errors",
            chartUBOutOfBounds: "Array out-of-bounds access",
            chartUBNULL: "Dereferencing null pointer",
            chartUBSignedOverflow: "Signed integer overflow",
            chartUBDangling: "Using a dangling pointer",
            chartUBDanger: "Danger Level (Subjective)",
            chartParadigmProcedural: "Procedural",
            chartParadigmOOP: "Object-Oriented (OOP)",
            chartParadigmGP: "Generic (GP)",
            chartParadigmFP: "Functional (FP)",
            chartParadigmLowLevel: "Low-level Control",
            chartParadigmJava: "Java (Comparison)",
            chartModernMove: "Move Semantics & Rvalue Refs",
            chartModernForward: "Perfect Forwarding",
            chartModernConcepts: "Concepts",
            chartModernCoroutines: "Coroutines",
            chartModernAbstract: "Conceptual Abstraction Level",
            chartModernSolve: "Power to Solve Old Problems"
        }
    };

    let currentLang = 'zh';
    const chartInstances = {};

    function updateText(lang) {
        document.documentElement.lang = lang === 'zh' ? 'zh-Hant' : 'en';
        const elements = document.querySelectorAll('[data-lang-key]');
        elements.forEach(el => {
            const key = el.dataset.langKey;
            if (translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });
    }

    function wrapLabel(str, maxWidth) {
        if (str.length <= maxWidth) return str;
        const words = str.split(' ');
        let currentLine = '';
        const lines = [];
        for (const word of words) {
            if ((currentLine + ' ' + word).trim().length > maxWidth && currentLine.length > 0) {
                lines.push(currentLine);
                currentLine = word;
            } else {
                if (currentLine.length > 0) currentLine += ' ';
                currentLine += word;
            }
        }
        lines.push(currentLine);
        return lines;
    }
    
    const FONT_COLOR = '#0B2D48';
    const GRID_COLOR = '#D9D9D9';
    const PRIMARY_COLOR = '#F2A71B';
    const SECONDARY_COLOR = '#3E82C3';
    const TERTIARY_COLOR = '#205A8C';

    const tooltipTitleCallback = (tooltipItems) => {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        return Array.isArray(label) ? label.join(' ') : label;
    };
    
    const SHARED_CHART_OPTIONS = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                labels: {
                    color: FONT_COLOR,
                    font: { size: 14, family: "'Noto Sans TC', sans-serif" }
                }
            },
            tooltip: {
                callbacks: { title: tooltipTitleCallback },
                bodyFont: { family: "'Noto Sans TC', sans-serif" },
                titleFont: { family: "'Noto Sans TC', sans-serif" }
            }
        }
    };

    function createCharts(lang) {
        Object.values(chartInstances).forEach(chart => chart.destroy());

        const t = translations[lang];

        chartInstances.memoryIssues = new Chart(document.getElementById('memoryIssuesChart'), {
            type: 'doughnut',
            data: {
                labels: [t.chartMemLeak, t.chartDangling],
                datasets: [{
                    label: t.chartMemErrors,
                    data: [55, 45],
                    backgroundColor: [PRIMARY_COLOR, SECONDARY_COLOR],
                    borderColor: '#FFFFFF',
                    borderWidth: 2,
                }]
            },
            options: { ...SHARED_CHART_OPTIONS, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { position: 'bottom', ...SHARED_CHART_OPTIONS.plugins.legend } } }
        });

        chartInstances.ubTriggers = new Chart(document.getElementById('ubTriggersChart'), {
            type: 'bar',
            data: {
                labels: [wrapLabel(t.chartUBOutOfBounds, 16), wrapLabel(t.chartUBNULL, 16), wrapLabel(t.chartUBSignedOverflow, 16), wrapLabel(t.chartUBDangling, 16)],
                datasets: [{
                    label: t.chartUBDanger,
                    data: [90, 85, 70, 95],
                    backgroundColor: [PRIMARY_COLOR, SECONDARY_COLOR, TERTIARY_COLOR, '#e53e3e'],
                    borderRadius: 5,
                }]
            },
            options: { ...SHARED_CHART_OPTIONS, indexAxis: 'y', scales: { x: { ticks: { color: FONT_COLOR }, grid: { color: GRID_COLOR } }, y: { ticks: { color: FONT_COLOR, font: { size: 12 } }, grid: { display: false } } }, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { display: false } } }
        });

        chartInstances.paradigm = new Chart(document.getElementById('paradigmChart'), {
            type: 'radar',
            data: {
                labels: [t.chartParadigmProcedural, t.chartParadigmOOP, t.chartParadigmGP, t.chartParadigmFP, t.chartParadigmLowLevel],
                datasets: [{
                    label: 'C++', data: [9, 9, 10, 7, 10], fill: true, backgroundColor: 'rgba(242, 167, 27, 0.2)', borderColor: PRIMARY_COLOR, pointBackgroundColor: PRIMARY_COLOR, pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff', pointHoverBorderColor: PRIMARY_COLOR
                }, {
                    label: t.chartParadigmJava, data: [6, 10, 7, 8, 3], fill: true, backgroundColor: 'rgba(62, 130, 195, 0.2)', borderColor: SECONDARY_COLOR, pointBackgroundColor: SECONDARY_COLOR, pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff', pointHoverBorderColor: SECONDARY_COLOR
                }]
            },
            options: { ...SHARED_CHART_OPTIONS, scales: { r: { angleLines: { color: GRID_COLOR }, grid: { color: GRID_COLOR }, pointLabels: { color: FONT_COLOR, font: { size: 14 } }, ticks: { color: FONT_COLOR, backdropColor: 'rgba(255, 255, 255, 0.75)' } } }, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { position: 'bottom', ...SHARED_CHART_OPTIONS.plugins.legend } } }
        });

        chartInstances.modernCppComplexity = new Chart(document.getElementById('modernCppComplexityChart'), {
            type: 'bar',
            data: {
                labels: [wrapLabel(t.chartModernMove, 16), wrapLabel(t.chartModernForward, 16), wrapLabel(t.chartModernConcepts, 16), wrapLabel(t.chartModernCoroutines, 16)],
                datasets: [{
                    label: t.chartModernAbstract, data: [8, 9, 7, 10], backgroundColor: PRIMARY_COLOR, stack: 'stack0'
                }, {
                    label: t.chartModernSolve, data: [10, 8, 9, 7], backgroundColor: SECONDARY_COLOR, stack: 'stack1'
                }]
            },
            options: { ...SHARED_CHART_OPTIONS, scales: { x: { ticks: { color: FONT_COLOR }, grid: { display: false } }, y: { ticks: { color: FONT_COLOR }, grid: { color: GRID_COLOR }, stacked: false } }, plugins: { ...SHARED_CHART_OPTIONS.plugins, legend: { position: 'bottom', ...SHARED_CHART_OPTIONS.plugins.legend } } }
        });
    }

    function switchLanguage(lang) {
        currentLang = lang;
        updateText(lang);
        createCharts(lang);
        document.getElementById('lang-zh').classList.toggle('active', lang === 'zh');
        document.getElementById('lang-en').classList.toggle('active', lang === 'en');
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('lang-zh').addEventListener('click', () => switchLanguage('zh'));
        document.getElementById('lang-en').addEventListener('click', () => switchLanguage('en'));
        switchLanguage('zh');
    });

</script>
</body>
</html>
