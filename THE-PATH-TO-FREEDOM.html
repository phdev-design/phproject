<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Path to Irish Independence / 愛爾蘭獨立之路</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #F8F9FA;
            color: #1C3144;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flowchart-item {
            border: 2px solid #F37748;
            background-color: #ffffff;
            color: #1C3144;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .flowchart-arrow {
            font-size: 2rem;
            color: #1C3144;
            align-self: center;
        }
        .timeline {
            position: relative;
            padding-left: 2.5rem;
            border-left: 4px solid #F37748;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
        }
        .timeline-dot {
            position: absolute;
            left: -2.5rem;
            top: 0.25rem;
            transform: translateX(-50%);
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 9999px;
            background-color: #00A878;
            border: 4px solid #F8F9FA;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-[#1C3144] text-white text-center py-12 px-4 relative">
        <button id="lang-switcher" class="absolute top-4 right-4 bg-white text-[#1C3144] px-3 py-1.5 rounded-md font-bold text-sm shadow-md hover:bg-gray-200 transition-colors">中 / 英</button>
        <h1 class="text-4xl md:text-6xl font-black tracking-tight" data-lang-key="header_title">THE PATH TO FREEDOM</h1>
        <p class="mt-4 text-lg md:text-xl max-w-3xl mx-auto text-gray-300" data-lang-key="header_subtitle">How centuries of struggle, sacrifice, and political revolution forged an independent Irish nation.</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

            <section class="lg:col-span-2 bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold mb-4 text-center" data-lang-key="section1_title">Seeds of Discontent: A History of Unrest</h2>
                <p class="text-center max-w-4xl mx-auto mb-8 text-gray-600" data-lang-key="section1_p1">The quest for Irish independence was not a single event, but the culmination of centuries of political, economic, and cultural friction. The 1801 Act of Union formally dissolved the Irish Parliament, but the Great Famine of the 1840s became a profound catalyst, creating deep-seated resentment towards British governance.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center">
                    <div class="bg-gray-100 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold text-[#F37748]" data-lang-key="section1_box1_title">1801 Act of Union</h3>
                        <p class="mt-2" data-lang-key="section1_box1_p">Ireland is formally absorbed into the United Kingdom of Great Britain and Ireland, removing its legislative autonomy and centralizing power in London.</p>
                    </div>
                    <div class="bg-gray-100 p-6 rounded-lg">
                        <h3 class="text-6xl font-black text-[#00A878]">-25%</h3>
                        <p class="mt-2 font-bold text-lg" data-lang-key="section1_box2_title">Population Decline during the Great Famine (1845-1852)</p>
                        <p class="text-sm" data-lang-key="section1_box2_p">Over a million people died and another million emigrated, leaving a lasting scar on the national psyche and fueling revolutionary sentiment.</p>
                    </div>
                </div>
            </section>

            <section class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold mb-2" data-lang-key="section2_title">The Rise of Nationalism</h2>
                <p class="text-gray-600 mb-6" data-lang-key="section2_p1">By the late 19th century, two parallel movements emerged. Cultural nationalism, through the Gaelic Revival, sought to restore a distinct Irish identity. Simultaneously, political nationalism split between those seeking limited self-government (Home Rule) and those demanding a full republic, often through force.</p>
                <div class="flex flex-col space-y-4">
                    <h3 class="text-xl font-bold text-center mb-4" data-lang-key="section2_subtitle">Two Paths, One Goal: Irish Sovereignty</h3>
                    <div class="flowchart-item" data-lang-key="flow1_item1">Constitutional Nationalism<br><span class="text-sm font-normal">(e.g., Irish Parliamentary Party)</span></div>
                    <div class="flowchart-arrow mx-auto">↓</div>
                    <div class="flowchart-item" data-lang-key="flow1_item2">Goal: Home Rule<br><span class="text-sm font-normal">(Limited self-government within the British Empire)</span></div>
                    <div class="flowchart-arrow mx-auto">↓</div>
                    <div class="flowchart-item" data-lang-key="flow1_item3">Method: Parliamentary Politics</div>
                </div>
            </section>

            <section class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold mb-2">&nbsp;</h2>
                <p class="text-gray-600 mb-6">&nbsp;</p>
                 <div class="flex flex-col space-y-4">
                    <h3 class="text-xl font-bold text-center mb-4">&nbsp;</h3>
                    <div class="flowchart-item" data-lang-key="flow2_item1">Physical Force Republicanism<br><span class="text-sm font-normal">(e.g., Irish Republican Brotherhood)</span></div>
                    <div class="flowchart-arrow mx-auto">↓</div>
                    <div class="flowchart-item" data-lang-key="flow2_item2">Goal: Independent Republic<br><span class="text-sm font-normal">(Complete separation from Britain)</span></div>
                    <div class="flowchart-arrow mx-auto">↓</div>
                    <div class="flowchart-item" data-lang-key="flow2_item3">Method: Armed Rebellion</div>
                </div>
            </section>

            <section class="lg:col-span-2 bg-white rounded-lg shadow-lg p-6 md:p-8">
                 <h2 class="text-3xl font-bold mb-4 text-center" data-lang-key="section3_title">The Turning Point: 1916 Easter Rising</h2>
                 <p class="text-center max-w-4xl mx-auto mb-8 text-gray-600" data-lang-key="section3_p1">Though a military failure, the 1916 Easter Rising in Dublin was a seismic event. The British execution of 16 rebel leaders transformed them into martyrs and swung public opinion dramatically away from moderate Home Rule and towards the republican cause.</p>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                     <div class="text-center">
                        <div class="text-8xl font-black text-[#F37748]">16</div>
                        <div class="text-2xl font-bold mt-2" data-lang-key="section3_box1_title">Executed Leaders</div>
                        <p class="mt-2 text-gray-600" data-lang-key="section3_box1_p">Their deaths ignited a wave of sympathy and radicalized a generation of Irish nationalists.</p>
                     </div>
                     <div>
                        <h3 class="text-xl font-bold text-center mb-2" data-lang-key="sentiment_chart_title">Shift in Public Support (Post-1916)</h3>
                        <div class="chart-container">
                            <canvas id="sentimentChart"></canvas>
                        </div>
                        <p class="text-center text-sm text-gray-500 mt-2" data-lang-key="sentiment_chart_caption">The executions solidified the idea of an independent republic as the only acceptable outcome for many.</p>
                     </div>
                 </div>
            </section>
            
            <section class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold mb-2" data-lang-key="section4_title">The People's Mandate</h2>
                <p class="text-gray-600 mb-6" data-lang-key="section4_p1">The 1918 General Election served as a de facto referendum on Ireland's future. The republican Sinn Féin party won a landslide victory, refused to take their seats in the British Parliament, and instead established an independent Irish assembly, Dáil Éireann, in Dublin.</p>
                <div class="chart-container">
                    <canvas id="electionChart"></canvas>
                </div>
                 <p class="text-center text-sm text-gray-500 mt-2" data-lang-key="election_chart_caption">This result gave the republican movement a powerful democratic mandate to declare independence.</p>
            </section>

            <section class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold mb-2" data-lang-key="section5_title">War of Independence (1919-1921)</h2>
                <p class="text-gray-600 mb-6" data-lang-key="section5_p1">Following the 1918 election, the Irish Republican Army (IRA) launched a guerrilla war against British forces. The conflict escalated dramatically, characterized by flying columns, ambushes, and brutal reprisals, leading to a stalemate by mid-1921.</p>
                 <div class="chart-container">
                    <canvas id="warChart"></canvas>
                </div>
                <p class="text-center text-sm text-gray-500 mt-2" data-lang-key="war_chart_caption">The escalating violence pushed both sides to the negotiating table.</p>
            </section>
            
            <section class="lg:col-span-2 bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold mb-4 text-center" data-lang-key="section6_title">A Divided Freedom: The Treaty and Its Aftermath</h2>
                <p class="text-center max-w-4xl mx-auto mb-8 text-gray-600" data-lang-key="section6_p1">The Anglo-Irish Treaty of 1921 ended the war but created deep divisions. It established the 26-county Irish Free State as a self-governing dominion but required an oath of allegiance to the British monarch and allowed 6 northern counties to remain in the UK. The Dáil approved the treaty by a razor-thin margin, leading directly to the tragic Irish Civil War (1922-23).</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-xl font-bold text-center mb-2" data-lang-key="treaty_chart_title">Dáil Éireann Treaty Vote (Jan 1922)</h3>
                        <div class="chart-container h-48 md:h-64">
                            <canvas id="treatyVoteChart"></canvas>
                        </div>
                        <p class="text-center text-sm text-gray-500 mt-2" data-lang-key="treaty_chart_caption">The narrow approval split the republican movement and the country.</p>
                    </div>
                    <div class="bg-gray-100 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold text-center text-[#1C3144] mb-4" data-lang-key="timeline_title">The Final Steps to a Republic</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <h4 class="font-bold" data-lang-key="timeline1_title">1922: Irish Free State Established</h4>
                                <p class="text-sm" data-lang-key="timeline1_p">Pro-Treaty forces win the Civil War; the new state is formally constituted.</p>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <h4 class="font-bold" data-lang-key="timeline2_title">1937: New Constitution</h4>
                                <p class="text-sm" data-lang-key="timeline2_p">A new constitution, Bunreacht na hÉireann, is adopted, replacing the Free State and further diminishing British authority.</p>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <h4 class="font-bold" data-lang-key="timeline3_title">1949: Republic of Ireland Declared</h4>
                                <p class="text-sm" data-lang-key="timeline3_p">The Republic of Ireland Act comes into force, severing the final constitutional links with the British monarchy.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="bg-[#1C3144] text-white text-center py-6 mt-8">
        <p data-lang-key="footer_text">&copy; 2025 Infographics Inc. A visual summary of a complex history.</p>
    </footer>

    <script>
        const translations = {
            en: {
                header_title: "THE PATH TO FREEDOM",
                header_subtitle: "How centuries of struggle, sacrifice, and political revolution forged an independent Irish nation.",
                section1_title: "Seeds of Discontent: A History of Unrest",
                section1_p1: "The quest for Irish independence was not a single event, but the culmination of centuries of political, economic, and cultural friction. The 1801 Act of Union formally dissolved the Irish Parliament, but the Great Famine of the 1840s became a profound catalyst, creating deep-seated resentment towards British governance.",
                section1_box1_title: "1801 Act of Union",
                section1_box1_p: "Ireland is formally absorbed into the United Kingdom of Great Britain and Ireland, removing its legislative autonomy and centralizing power in London.",
                section1_box2_title: "Population Decline during the Great Famine (1845-1852)",
                section1_box2_p: "Over a million people died and another million emigrated, leaving a lasting scar on the national psyche and fueling revolutionary sentiment.",
                section2_title: "The Rise of Nationalism",
                section2_p1: "By the late 19th century, two parallel movements emerged. Cultural nationalism, through the Gaelic Revival, sought to restore a distinct Irish identity. Simultaneously, political nationalism split between those seeking limited self-government (Home Rule) and those demanding a full republic, often through force.",
                section2_subtitle: "Two Paths, One Goal: Irish Sovereignty",
                flow1_item1: "Constitutional Nationalism<br><span class='text-sm font-normal'>(e.g., Irish Parliamentary Party)</span>",
                flow1_item2: "Goal: Home Rule<br><span class='text-sm font-normal'>(Limited self-government within the British Empire)</span>",
                flow1_item3: "Method: Parliamentary Politics",
                flow2_item1: "Physical Force Republicanism<br><span class='text-sm font-normal'>(e.g., Irish Republican Brotherhood)</span>",
                flow2_item2: "Goal: Independent Republic<br><span class='text-sm font-normal'>(Complete separation from Britain)</span>",
                flow2_item3: "Method: Armed Rebellion",
                section3_title: "The Turning Point: 1916 Easter Rising",
                section3_p1: "Though a military failure, the 1916 Easter Rising in Dublin was a seismic event. The British execution of 16 rebel leaders transformed them into martyrs and swung public opinion dramatically away from moderate Home Rule and towards the republican cause.",
                section3_box1_title: "Executed Leaders",
                section3_box1_p: "Their deaths ignited a wave of sympathy and radicalized a generation of Irish nationalists.",
                sentiment_chart_title: "Shift in Public Support (Post-1916)",
                sentiment_chart_caption: "The executions solidified the idea of an independent republic as the only acceptable outcome for many.",
                section4_title: "The People's Mandate",
                section4_p1: "The 1918 General Election served as a de facto referendum on Ireland's future. The republican Sinn Féin party won a landslide victory, refused to take their seats in the British Parliament, and instead established an independent Irish assembly, Dáil Éireann, in Dublin.",
                election_chart_caption: "This result gave the republican movement a powerful democratic mandate to declare independence.",
                section5_title: "War of Independence (1919-1921)",
                section5_p1: "Following the 1918 election, the Irish Republican Army (IRA) launched a guerrilla war against British forces. The conflict escalated dramatically, characterized by flying columns, ambushes, and brutal reprisals, leading to a stalemate by mid-1921.",
                war_chart_caption: "The escalating violence pushed both sides to the negotiating table.",
                section6_title: "A Divided Freedom: The Treaty and Its Aftermath",
                section6_p1: "The Anglo-Irish Treaty of 1921 ended the war but created deep divisions. It established the 26-county Irish Free State as a self-governing dominion but required an oath of allegiance to the British monarch and allowed 6 northern counties to remain in the UK. The Dáil approved the treaty by a razor-thin margin, leading directly to the tragic Irish Civil War (1922-23).",
                treaty_chart_title: "Dáil Éireann Treaty Vote (Jan 1922)",
                treaty_chart_caption: "The narrow approval split the republican movement and the country.",
                timeline_title: "The Final Steps to a Republic",
                timeline1_title: "1922: Irish Free State Established",
                timeline1_p: "Pro-Treaty forces win the Civil War; the new state is formally constituted.",
                timeline2_title: "1937: New Constitution",
                timeline2_p: "A new constitution, Bunreacht na hÉireann, is adopted, replacing the Free State and further diminishing British authority.",
                timeline3_title: "1949: Republic of Ireland Declared",
                timeline3_p: "The Republic of Ireland Act comes into force, severing the final constitutional links with the British monarchy.",
                footer_text: "&copy; 2025 Infographics Inc. A visual summary of a complex history.",
                chart_sentiment_dataset: "Public Sentiment",
                chart_sentiment_labels: ['Support for Republic', 'Support for Home Rule'],
                chart_election_dataset: "Seats Won in 1918 Election",
                chart_election_labels: ['Sinn Féin', 'Irish Unionist Alliance', 'Irish Parliamentary Party'],
                chart_war_dataset: "Estimated Conflict Intensity",
                chart_war_labels: ['Jan 1919', 'Dec 1919', 'Dec 1920', 'Jul 1921'],
                chart_treaty_dataset_for: "For Treaty",
                chart_treaty_dataset_against: "Against Treaty",
            },
            zh: {
                header_title: "自由之路",
                header_subtitle: "數個世紀的鬥爭、犧牲和政治革命如何鑄就一個獨立的愛爾蘭民族。",
                section1_title: "不滿的種子：動盪的歷史",
                section1_p1: "愛爾蘭的獨立探索並非單一事件，而是數個世紀以來政治、經濟和文化摩擦的最終結果。1801年的《聯合王國法案》正式解散了愛爾蘭議會，但1840年代的大饑荒成為一個深刻的催化劑，引發了對英國統治的深層怨恨。",
                section1_box1_title: "1801年《聯合王國法案》",
                section1_box1_p: "愛爾蘭被正式併入大不列顛及愛爾蘭聯合王國，其立法自主權被剝奪，權力集中於倫敦。",
                section1_box2_title: "大饑荒期間的人口下降 (1845-1852)",
                section1_box2_p: "超過一百萬人死於饑荒，另有一百萬人被迫移民，這在民族心靈上留下了永久的創傷，並助長了革命情緒。",
                section2_title: "民族主義的崛起",
                section2_p1: "到19世紀末，出現了兩股平行的運動。文化民族主義透過蓋爾文化復興，試圖恢復獨特的愛爾蘭身份。與此同時，政治民族主義分裂為尋求有限自治（地方自治）和要求完全共和（常透過武力）的兩派。",
                section2_subtitle: "兩條道路，一個目標：愛爾蘭主權",
                flow1_item1: "憲政民族主義<br><span class='text-sm font-normal'>(例如：愛爾蘭議會黨)</span>",
                flow1_item2: "目標：地方自治<br><span class='text-sm font-normal'>(在不列顛帝國內實現有限自治)</span>",
                flow1_item3: "方法：議會政治",
                flow2_item1: "武力共和主義<br><span class='text-sm font-normal'>(例如：愛爾蘭共和兄弟會)</span>",
                flow2_item2: "目標：獨立共和國<br><span class='text-sm font-normal'>(完全脫離英國)</span>",
                flow2_item3: "方法：武裝起義",
                section3_title: "轉捩點：1916年復活節起義",
                section3_p1: "儘管在軍事上失敗，1916年在都柏林舉行的復活節起義卻是一次驚天動地的事件。英國處決了16名起義領袖，將他們變成了烈士，並使公眾輿論從溫和的地方自治急劇轉向共和事業。",
                section3_box1_title: "被處決的領袖",
                section3_box1_p: "他們的死引發了廣泛的同情，並使一代愛爾蘭民族主義者變得激進。",
                sentiment_chart_title: "公眾支持度的轉變 (1916年後)",
                sentiment_chart_caption: "處決事件鞏固了獨立共和國是許多人唯一可接受結果的觀念。",
                section4_title: "人民的授權",
                section4_p1: "1918年的大選成為愛爾蘭未來的實質性公投。共和派的新芬黨贏得壓倒性勝利，他們拒絕在英國議會就職，而是在都柏林成立了獨立的愛爾蘭議會（Dáil Éireann）。",
                election_chart_caption: "這次選舉結果賦予了共和運動宣布獨立的強大民主授權。",
                section5_title: "獨立戰爭 (1919-1921)",
                section5_p1: "1918年大選後，愛爾蘭共和軍（IRA）對英國軍隊發動了游擊戰。衝突急劇升級，以飛行縱隊、伏擊和殘酷報復為特徵，到1921年中期陷入僵局。",
                war_chart_caption: "不斷升級的暴力將雙方推向了談判桌。",
                section6_title: "分裂的自由：條約及其後果",
                section6_p1: "1921年的《英愛條約》結束了戰爭，但造成了深刻的分裂。它建立了26個郡的愛爾蘭自由邦作為自治領，但要求對英國君主宣誓效忠，並允許6個北方郡留在英國。愛爾蘭議會以極微弱的優勢批准了條約，直接導致了悲慘的愛爾蘭內戰（1922-23）。",
                treaty_chart_title: "愛爾蘭國會條約投票 (1922年1月)",
                treaty_chart_caption: "微弱的票數差距分裂了共和運動和整個國家。",
                timeline_title: "通往共和國的最後幾步",
                timeline1_title: "1922年：愛爾蘭自由邦成立",
                timeline1_p: "親條約派贏得內戰；新國家正式成立。",
                timeline2_title: "1937年：新憲法",
                timeline2_p: "新憲法《Bunreacht na hÉireann》通過，取代了自由邦，並進一步削弱了英國的權威。",
                timeline3_title: "1949年：愛爾蘭共和國宣告成立",
                timeline3_p: "《愛爾蘭共和國法案》生效，切斷了與英國君主制的最後憲法聯繫。",
                footer_text: "&copy; 2025 Infographics Inc. 一部複雜歷史的視覺化總結。",
                chart_sentiment_dataset: "公眾情緒",
                chart_sentiment_labels: ['支持共和', '支持地方自治'],
                chart_election_dataset: "1918年大選所獲席次",
                chart_election_labels: ['新芬黨', '愛爾蘭統一聯盟', '愛爾蘭議會黨'],
                chart_war_dataset: "預估衝突強度",
                chart_war_labels: ['1919年1月', '1919年12月', '1920年12月', '1921年7月'],
                chart_treaty_dataset_for: "支持條約",
                chart_treaty_dataset_against: "反對條約",
            }
        };

        let currentLanguage = 'en';
        let charts = {};

        function wrapLabel(str, maxWidth) {
            if (typeof str !== 'string' || str.length <= maxWidth) {
                return str;
            }
            if (/[\u4e00-\u9fa5]/.test(str)) { 
                return str;
            }
            const words = str.split(' ');
            let lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + ' ' + words[i]).length > maxWidth) {
                    lines.push(currentLine);
                    currentLine = words[i];
                } else {
                    currentLine += ' ' + words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };

        function switchLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'zh' : 'en';
            
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                if (translations[currentLanguage][key]) {
                    el.innerHTML = translations[currentLanguage][key];
                }
            });
            
            updateChartsLanguage();
        }
        
        function updateChartsLanguage() {
            const langData = translations[currentLanguage];

            charts.sentiment.data.datasets[0].label = langData.chart_sentiment_dataset;
            charts.sentiment.data.labels = langData.chart_sentiment_labels;
            charts.sentiment.update();

            charts.election.data.datasets[0].label = langData.chart_election_dataset;
            charts.election.data.labels = langData.chart_election_labels.map(l => wrapLabel(l, 16));
            charts.election.update();

            charts.war.data.datasets[0].label = langData.chart_war_dataset;
            charts.war.data.labels = langData.chart_war_labels;
            charts.war.update();

            charts.treatyVote.data.datasets[0].label = langData.chart_treaty_dataset_for;
            charts.treatyVote.data.datasets[1].label = langData.chart_treaty_dataset_against;
            charts.treatyVote.update();
        }

        function initializeCharts() {
            const chartPlugins = {
                legend: { labels: { color: '#1C3144', font: { family: "'Inter', 'Noto Sans TC', sans-serif" } } },
                tooltip: { callbacks: { title: tooltipTitleCallback }, titleFont: { family: "'Inter', 'Noto Sans TC', sans-serif" }, bodyFont: { family: "'Inter', 'Noto Sans TC', sans-serif" } }
            };
            
            const chartScales = (isYAxis = true) => ({
                y: { beginAtZero: true, ticks: { color: '#1C3144' }, grid: { color: '#e0e0e0' } },
                x: { ticks: { color: '#1C3144' }, grid: { display: !isYAxis } }
            });

            charts.sentiment = new Chart(document.getElementById('sentimentChart').getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: translations.en.chart_sentiment_labels,
                    datasets: [{
                        label: translations.en.chart_sentiment_dataset,
                        data: [70, 30],
                        backgroundColor: ['#00A878', '#F37748'],
                        borderColor: '#FFFFFF',
                        borderWidth: 4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: chartPlugins }
            });

            charts.election = new Chart(document.getElementById('electionChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: translations.en.chart_election_labels.map(l => wrapLabel(l, 16)),
                    datasets: [{
                        label: translations.en.chart_election_dataset,
                        data: [73, 26, 6],
                        backgroundColor: ['#00A878', '#D8F793', '#F37748'],
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { ...chartPlugins, legend: { display: false } },
                    scales: {
                        y: { ticks: { color: '#1C3144' }, grid: { display: false } },
                        x: { ticks: { color: '#1C3144' }, grid: { color: '#e0e0e0' } }
                    }
                }
            });

            charts.war = new Chart(document.getElementById('warChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: translations.en.chart_war_labels,
                    datasets: [{
                        label: translations.en.chart_war_dataset,
                        data: [10, 25, 80, 100],
                        fill: true,
                        backgroundColor: 'rgba(243, 119, 72, 0.2)',
                        borderColor: '#F37748',
                        tension: 0.3
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: chartPlugins, scales: chartScales() }
            });

            charts.treatyVote = new Chart(document.getElementById('treatyVoteChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: [''],
                    datasets: [
                        { label: translations.en.chart_treaty_dataset_for, data: [64], backgroundColor: '#00A878' },
                        { label: translations.en.chart_treaty_dataset_against, data: [57], backgroundColor: '#F37748' }
                    ]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: chartPlugins,
                    scales: {
                        x: { stacked: true, grid: { color: '#e0e0e0' }, ticks: { color: '#1C3144' } },
                        y: { stacked: true, grid: { display: false }, ticks: { display: false } }
                    }
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            initializeCharts();
            document.getElementById('lang-switcher').addEventListener('click', switchLanguage);
        });
    </script>
</body>
</html>
