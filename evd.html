<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>伊波拉病毒：互動式分析報告</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Clinical Earth -->
    <!-- Application Structure Plan: The application uses a thematic, single-page structure with a sticky top navigation for easy access to different facets of the Ebola virus. This non-linear design is chosen over mirroring the report's linear format to empower users to explore topics based on their interest, such as the virus's biology, its transmission, or historical outbreaks. The flow is designed to guide the user from a high-level overview to more detailed, interactive sections. Key interactions include a species selector to compare different Ebola viruses, an interactive timeline chart of major outbreaks, and toggleable content for comparing Ebola to other diseases. A language switcher has been added for EN/ZH accessibility. This structure enhances usability by breaking down dense information into manageable, engaging modules, facilitating better understanding and retention. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Table 1 (Ebola Species). Goal: Organize/Inform. Viz: Interactive cards updated by buttons. Interaction: User clicks a species button to see its specific data. Justification: More engaging than a static table, allows direct comparison. Library: Vanilla JS + Tailwind.
        - Report Info: Table 2 (Major Outbreaks). Goal: Show Change/Compare. Viz: Bar Chart. Interaction: A dropdown menu highlights a specific outbreak on the chart and displays contextual information. Justification: Visually represents the scale of outbreaks, especially the 2014-2016 pandemic, while the interaction provides deeper context on demand. Library: Chart.js.
        - Report Info: Disease Progression. Goal: Inform. Viz: HTML/CSS horizontal timeline. Interaction: Hover or click to see details for each stage. Justification: Simplifies a complex process into a clear, step-by-step visual flow. Library: Tailwind + Vanilla JS.
        - Report Info: Ebola vs. Marburg/COVID-19. Goal: Compare. Viz: Side-by-side text/icon cards. Interaction: Buttons toggle the comparison view. Justification: Provides a direct, clear comparison of key attributes without overwhelming the user. Library: Vanilla JS + Tailwind.
        - Report Info: Transmission & Prevention. Goal: Organize/Inform. Viz: HTML/CSS diagrams (flowchart, ring vaccination). Justification: These static but clear visuals effectively explain complex concepts like transmission paths and public health strategies. Library: Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Lato', 'Noto Sans TC', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 300px; max-height: 40vh;}
        @media (min-width: 768px) { .chart-container { height: 450px; } }
        .nav-link.active { color: #0d9488; border-bottom-color: #0d9488; }
        .nav-link { transition: all 0.3s ease; border-bottom: 2px solid transparent; }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <header class="bg-stone-100 shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="text-2xl font-bold text-teal-700" data-lang-key="header_title">伊波拉病毒</div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#overview" class="nav-link text-stone-600 hover:text-teal-700" data-lang-key="nav_overview">總覽</a>
                    <a href="#the-virus" class="nav-link text-stone-600 hover:text-teal-700" data-lang-key="nav_virus">病毒檔案</a>
                    <a href="#transmission" class="nav-link text-stone-600 hover:text-teal-700" data-lang-key="nav_transmission">傳播途徑</a>
                    <a href="#outbreaks" class="nav-link text-stone-600 hover:text-teal-700" data-lang-key="nav_outbreaks">疫情歷史</a>
                    <a href="#countermeasures" class="nav-link text-stone-600 hover:text-teal-700" data-lang-key="nav_countermeasures">應對策略</a>
                    <a href="#comparisons" class="nav-link text-stone-600 hover:text-teal-700" data-lang-key="nav_comparisons">比較分析</a>
                </div>
                 <div class="flex items-center">
                    <div class="md:hidden mr-4">
                        <select id="mobile-nav" class="bg-white border border-stone-300 rounded-md p-2 text-stone-700">
                        </select>
                    </div>
                    <button id="lang-switcher" class="bg-teal-500 text-white py-1 px-3 rounded-full text-sm">English</button>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="overview" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-orange-800 mb-4" data-lang-key="overview_title">伊波拉病毒病 (EVD)</h1>
                <p class="max-w-3xl mx-auto text-lg text-stone-600 mb-12" data-lang-key="overview_subtitle">一種由伊波拉病毒引起的嚴重、往往致命的疾病，是人類已知的最猛烈的病原體之一。本互動報告將帶您深入了解其生物學特性、傳播方式、歷史疫情以及全球應對策略。</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <div class="bg-stone-100 p-6 rounded-lg shadow">
                        <div class="text-5xl font-bold text-orange-700 mb-2">~50%</div>
                        <h3 class="text-xl font-semibold text-stone-700" data-lang-key="overview_card1_title">平均致死率</h3>
                        <p class="text-stone-500" data-lang-key="overview_card1_desc">致死率變動極大，從25%到90%不等。</p>
                    </div>
                    <div class="bg-stone-100 p-6 rounded-lg shadow">
                        <div class="text-5xl font-bold text-teal-700 mb-2">6</div>
                        <h3 class="text-xl font-semibold text-stone-700" data-lang-key="overview_card2_title">已知物種</h3>
                        <p class="text-stone-500" data-lang-key="overview_card2_desc">每種病毒的致病力與威脅各不相同。</p>
                    </div>
                    <div class="bg-stone-100 p-6 rounded-lg shadow">
                        <div class="text-5xl font-bold text-orange-700 mb-2">>28,000</div>
                        <h3 class="text-xl font-semibold text-stone-700" data-lang-key="overview_card3_title">西非疫情病例</h3>
                        <p class="text-stone-500" data-lang-key="overview_card3_desc">2014-2016年史上最大疫情的官方病例數。</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="the-virus" class="py-16 md:py-24">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-teal-800 mb-4" data-lang-key="virus_title">病毒檔案</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12" data-lang-key="virus_subtitle">伊波拉並非單一病毒，而是一個病毒家族。不同的物種對人類的威脅程度也不同。點擊下方按鈕，探索各個物種的詳細資訊。</p>
                
                <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                    <button class="species-btn active-btn bg-teal-600 text-white py-2 px-4 rounded-full" data-species="ebov">Zaire</button>
                    <button class="species-btn bg-white text-teal-600 py-2 px-4 rounded-full border border-teal-600" data-species="sudv">Sudan</button>
                    <button class="species-btn bg-white text-teal-600 py-2 px-4 rounded-full border border-teal-600" data-species="restv">Reston</button>
                    <button class="species-btn bg-white text-teal-600 py-2 px-4 rounded-full border border-teal-600" data-species="tafv">Taï Forest</button>
                    <button class="species-btn bg-white text-teal-600 py-2 px-4 rounded-full border border-teal-600" data-species="bdbv">Bundibugyo</button>
                    <button class="species-btn bg-white text-teal-600 py-2 px-4 rounded-full border border-teal-600" data-species="bomv">Bombali</button>
                </div>

                <div id="species-info" class="bg-white p-8 rounded-lg shadow-lg max-w-4xl mx-auto transition-all duration-500">
                </div>

                <h3 class="text-2xl font-bold text-center text-teal-800 mt-16 mb-8" data-lang-key="virus_progression_title">疾病進程</h3>
                 <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-4 text-center">
                    <div class="p-4">
                        <div class="w-16 h-16 mx-auto bg-stone-200 rounded-full flex items-center justify-center mb-2 text-2xl font-bold text-stone-600">1</div>
                        <h4 class="font-bold text-lg" data-lang-key="virus_stage1_title">潛伏期</h4>
                        <p class="text-sm text-stone-500" data-lang-key="virus_stage1_desc">2-21天，無症狀，不具傳染性。</p>
                    </div>
                    <div class="p-4">
                         <div class="w-16 h-16 mx-auto bg-yellow-200 rounded-full flex items-center justify-center mb-2 text-2xl font-bold text-yellow-800">2</div>
                        <h4 class="font-bold text-lg" data-lang-key="virus_stage2_title">初期 (乾性症狀)</h4>
                        <p class="text-sm text-stone-500" data-lang-key="virus_stage2_desc">突發高燒、頭痛、虛弱。開始具傳染性。</p>
                    </div>
                    <div class="p-4">
                         <div class="w-16 h-16 mx-auto bg-orange-200 rounded-full flex items-center justify-center mb-2 text-2xl font-bold text-orange-800">3</div>
                        <h4 class="font-bold text-lg" data-lang-key="virus_stage3_title">進展期 (濕性症狀)</h4>
                        <p class="text-sm text-stone-500" data-lang-key="virus_stage3_desc">嚴重嘔吐、腹瀉，導致大量體液流失。</p>
                    </div>
                    <div class="p-4">
                         <div class="w-16 h-16 mx-auto bg-red-200 rounded-full flex items-center justify-center mb-2 text-2xl font-bold text-red-800">4</div>
                        <h4 class="font-bold text-lg" data-lang-key="virus_stage4_title">危重期</h4>
                        <p class="text-sm text-stone-500" data-lang-key="virus_stage4_desc">出血、休克、多重器官衰竭。傳染性最強。</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="transmission" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-teal-800 mb-4" data-lang-key="transmission_title">傳播途徑</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12" data-lang-key="transmission_subtitle">了解伊波拉病毒如何從自然界進入人類社會，並在人與人之間傳播，是預防疫情的關鍵第一步。病毒並非透過空氣傳播。</p>

                <div class="max-w-5xl mx-auto">
                    <h3 class="text-2xl font-bold text-teal-800 mb-6 text-center" data-lang-key="transmission_path_title">從動物到人，再到人</h3>
                    <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 text-center">
                        <div class="p-6 bg-stone-100 rounded-lg w-full md:w-1/4">
                            <div class="text-4xl mb-2">🦇</div>
                            <h4 class="font-bold" data-lang-key="transmission_path1_title">自然宿主</h4>
                            <p class="text-sm text-stone-600" data-lang-key="transmission_path1_desc">果蝠攜帶病毒，但自身不發病。</p>
                        </div>
                        <div class="text-4xl text-stone-400 font-thin transform rotate-90 md:rotate-0">➔</div>
                        <div class="p-6 bg-stone-100 rounded-lg w-full md:w-1/4">
                            <div class="text-4xl mb-2">🦍</div>
                             <h4 class="font-bold" data-lang-key="transmission_path2_title">人畜共通溢出</h4>
                             <p class="text-sm text-stone-600" data-lang-key="transmission_path2_desc">人類透過接觸受感染的野生動物（如叢林肉）而感染。</p>
                        </div>
                        <div class="text-4xl text-stone-400 font-thin transform rotate-90 md:rotate-0">➔</div>
                        <div class="p-6 bg-stone-100 rounded-lg w-full md:w-1/4">
                            <div class="text-4xl mb-2">🧍‍♂️➡️🧍‍♀️</div>
                            <h4 class="font-bold" data-lang-key="transmission_path3_title">人際傳播</h4>
                            <p class="text-sm text-stone-600" data-lang-key="transmission_path3_desc">直接接觸患者或死者的體液（血液、嘔吐物等）。</p>
                        </div>
                    </div>
                </div>

                <div class="mt-16">
                    <h3 class="text-2xl font-bold text-teal-800 mb-6 text-center" data-lang-key="transmission_risk_title">高風險情境與迷思澄清</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                        <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500">
                             <h4 class="font-bold text-lg text-red-800 mb-2" data-lang-key="transmission_risk_list_title">高風險情境</h4>
                            <ul class="list-disc list-inside text-stone-700 space-y-1" data-lang-key="transmission_risk_list">
                                <li>**醫療環境:** 缺乏足夠防護的醫護人員。</li>
                                <li>**喪葬儀式:** 接觸具高度傳染性的遺體。</li>
                                <li>**康復期:** 病毒可存於精液中，透過性行為傳播。</li>
                            </ul>
                        </div>
                        <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                             <h4 class="font-bold text-lg text-green-800 mb-2" data-lang-key="transmission_myth_list_title">迷思澄清：非傳播途徑</h4>
                             <ul class="list-none text-stone-700 space-y-1" data-lang-key="transmission_myth_list">
                                <li><span class="mr-2">❌</span> **空氣/飛沫：** 伊波拉不是呼吸道病毒。</li>
                                <li><span class="mr-2">❌</span> **水：** 不會透過水傳播。</li>
                                <li><span class="mr-2">❌</span> **蚊蟲：** 蚊蟲叮咬不會傳播伊波拉。</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="outbreaks" class="py-16 md:py-24">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-teal-800 mb-4" data-lang-key="outbreaks_title">疫情歷史</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-8" data-lang-key="outbreaks_subtitle">自1976年首次發現以來，伊波拉已引發數十次疫情。使用下拉選單查看不同疫情的數據，其中2014-2016年的西非疫情規模空前，徹底改變了全球的應對格局。</p>
                <div class="max-w-md mx-auto mb-8">
                    <select id="outbreak-selector" class="w-full p-3 border border-stone-300 rounded-md bg-white">
                    </select>
                </div>
                <div class="chart-container">
                    <canvas id="outbreaksChart"></canvas>
                </div>
                <div id="outbreak-info" class="max-w-3xl mx-auto mt-8 bg-white p-6 rounded-lg shadow-md">
                </div>
            </div>
        </section>

        <section id="countermeasures" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-teal-800 mb-4" data-lang-key="counter_title">應對策略</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12" data-lang-key="counter_subtitle">面對伊波拉的威脅，科學界發展出了診斷、治療和預防的多重工具。然而，這些工具的公平可及性仍然是全球衛生面臨的重大挑戰。</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-stone-50 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4" data-lang-key="counter_card1_title">診斷</h3>
                        <p class="font-semibold">黃金標準：RT-PCR</p>
                        <p class="text-stone-600 mb-4" data-lang-key="counter_card1_p1">透過血液樣本檢測病毒RNA，準確度高但需要實驗室。</p>
                        <p class="font-semibold">迫切需求：快速診斷測試 (RDTs)</p>
                        <p class="text-stone-600" data-lang-key="counter_card1_p2">可在現場快速分流病患，對疫情控制至關重要。</p>
                    </div>
                    <div class="bg-stone-50 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4" data-lang-key="counter_card2_title">治療</h3>
                        <p class="font-semibold">基石：支持性療法</p>
                        <p class="text-stone-600 mb-4" data-lang-key="counter_card2_p1">靜脈輸液補充水分、維持血壓，是提高存活率最關鍵的因素。</p>
                        <p class="font-semibold">抗病毒藥物：單株抗體</p>
                        <p class="text-stone-600" data-lang-key="counter_card2_p2">已核准藥物 Inmazeb 和 Ebanga，但僅針對薩伊病毒株，且因價格高昂和儲備問題，可及性極低。</p>
                    </div>
                    <div class="bg-stone-50 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold text-teal-700 mb-4" data-lang-key="counter_card3_title">預防</h3>
                        <p class="font-semibold">疫苗：Ervebo (rVSV-ZEBOV)</p>
                        <p class="text-stone-600 mb-4" data-lang-key="counter_card3_p1">高效的單劑量疫苗，但僅對薩伊病毒株有效。</p>
                        <p class="font-semibold">策略：環形疫苗接種</p>
                        <p class="text-stone-600" data-lang-key="counter_card3_p2">為確診者的接觸者及接觸者的接觸者接種，建立免疫屏障，有效阻斷傳播鏈。</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="comparisons" class="py-16 md:py-24">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-teal-800 mb-4" data-lang-key="comp_title">比較分析</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12" data-lang-key="comp_subtitle">將伊波拉與其他病毒進行比較，可以更深刻地理解其獨特的威脅模式，以及為何「一體適用」的大流行防備策略是行不通的。</p>
                
                <div class="text-center mb-8">
                    <button id="show-marburg-btn" class="comparison-btn bg-teal-600 text-white py-2 px-4 rounded-md" data-lang-key="comp_btn_marburg">vs. 馬堡病毒</button>
                    <button id="show-covid-btn" class="comparison-btn bg-white text-teal-600 border border-teal-600 py-2 px-4 rounded-md" data-lang-key="comp_btn_covid">vs. COVID-19</button>
                </div>

                <div id="comparison-content" class="max-w-4xl mx-auto">
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-stone-800 text-stone-300 py-8">
        <div class="container mx-auto px-4 text-center">
            <p data-lang-key="footer_p1">本互動報告基於公開的科學文獻與世界衛生組織資料創建。</p>
            <p class="text-sm text-stone-400 mt-2" data-lang-key="footer_p2">抵禦未來大流行的威脅，需要全球持續投資於公平的衛生系統、前瞻性的研究，並解決疾病出現的根本性社會和生態問題。</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            let currentLang = 'zh';

            const langData = {
                header_title: { zh: '伊波拉病毒', en: 'Ebola Virus' },
                nav_overview: { zh: '總覽', en: 'Overview' },
                nav_virus: { zh: '病毒檔案', en: 'The Virus' },
                nav_transmission: { zh: '傳播途徑', en: 'Transmission' },
                nav_outbreaks: { zh: '疫情歷史', en: 'Outbreaks' },
                nav_countermeasures: { zh: '應對策略', en: 'Countermeasures' },
                nav_comparisons: { zh: '比較分析', en: 'Comparisons' },
                overview_title: { zh: '伊波拉病毒病 (EVD)', en: 'Ebola Virus Disease (EVD)' },
                overview_subtitle: { zh: '一種由伊波拉病毒引起的嚴重、往往致命的疾病，是人類已知的最猛烈的病原體之一。本互動報告將帶您深入了解其生物學特性、傳播方式、歷史疫情以及全球應對策略。', en: 'A severe, often fatal illness caused by the Ebola virus, one of the most virulent pathogens known to humankind. This interactive report provides an in-depth look at its biology, transmission, historical outbreaks, and global response strategies.' },
                overview_card1_title: { zh: '平均致死率', en: 'Average Fatality Rate' },
                overview_card1_desc: { zh: '致死率變動極大，從25%到90%不等。', en: 'Case fatality rates have varied from 25% to 90%.' },
                overview_card2_title: { zh: '已知物種', en: 'Known Species' },
                overview_card2_desc: { zh: '每種病毒的致病力與威脅各不相同。', en: 'Each species presents a different level of threat.' },
                overview_card3_title: { zh: '西非疫情病例', en: 'West Africa Outbreak Cases' },
                overview_card3_desc: { zh: '2014-2016年史上最大疫情的官方病例數。', en: 'Official case count from the largest outbreak in history.' },
                virus_title: { zh: '病毒檔案', en: 'The Virus Profile' },
                virus_subtitle: { zh: '伊波拉並非單一病毒，而是一個病毒家族。不同的物種對人類的威脅程度也不同。點擊下方按鈕，探索各個物種的詳細資訊。', en: 'Ebola is not a single virus, but a family. Different species pose varying degrees of threat to humans. Click the buttons below to explore each species.' },
                virus_progression_title: { zh: '疾病進程', en: 'Disease Progression' },
                virus_stage1_title: { zh: '潛伏期', en: 'Incubation' },
                virus_stage1_desc: { zh: '2-21天，無症狀，不具傳染性。', en: '2-21 days, no symptoms, not contagious.' },
                virus_stage2_title: { zh: '初期 (乾性症狀)', en: 'Initial (Dry Symptoms)' },
                virus_stage2_desc: { zh: '突發高燒、頭痛、虛弱。開始具傳染性。', en: 'Sudden fever, headache, weakness. Contagious phase begins.' },
                virus_stage3_title: { zh: '進展期 (濕性症狀)', en: 'Progression (Wet Symptoms)' },
                virus_stage3_desc: { zh: '嚴重嘔吐、腹瀉，導致大量體液流失。', en: 'Severe vomiting, diarrhea, leading to fluid loss.' },
                virus_stage4_title: { zh: '危重期', en: 'Critical Phase' },
                virus_stage4_desc: { zh: '出血、休克、多重器官衰竭。傳染性最強。', en: 'Hemorrhage, shock, organ failure. Most contagious.' },
                transmission_title: { zh: '傳播途徑', en: 'Transmission' },
                transmission_subtitle: { zh: '了解伊波拉病毒如何從自然界進入人類社會，並在人與人之間傳播，是預防疫情的關鍵第一步。病毒並非透過空氣傳播。', en: 'Understanding how Ebola moves from nature to people and between people is the first step to prevention. The virus is not airborne.' },
                transmission_path_title: { zh: '從動物到人，再到人', en: 'From Animal to Human, to Human' },
                transmission_path1_title: { zh: '自然宿主', en: 'Natural Host' },
                transmission_path1_desc: { zh: '果蝠攜帶病毒，但自身不發病。', en: 'Fruit bats carry the virus without getting sick.' },
                transmission_path2_title: { zh: '人畜共通溢出', en: 'Zoonotic Spillover' },
                transmission_path2_desc: { zh: '人類透過接觸受感染的野生動物（如叢林肉）而感染。', en: 'Humans get infected through contact with infected wildlife (e.g., bushmeat).' },
                transmission_path3_title: { zh: '人際傳播', en: 'Human-to-Human' },
                transmission_path3_desc: { zh: '直接接觸患者或死者的體液（血液、嘔吐物等）。', en: 'Direct contact with bodily fluids of the sick or deceased.' },
                transmission_risk_title: { zh: '高風險情境與迷思澄清', en: 'High-Risk Scenarios & Myths' },
                transmission_risk_list_title: { zh: '高風險情境', en: 'High-Risk Scenarios' },
                transmission_risk_list: {
                    zh: `<li>**醫療環境:** 缺乏足夠防護的醫護人員。</li><li>**喪葬儀式:** 接觸具高度傳染性的遺體。</li><li>**康復期:** 病毒可存於精液中，透過性行為傳播。</li>`,
                    en: `<li>**Healthcare Settings:** Workers without adequate protection.</li><li>**Burial Ceremonies:** Contact with highly infectious bodies of the deceased.</li><li>**Convalescence:** Virus can persist in semen and be sexually transmitted.</li>`
                },
                transmission_myth_list_title: { zh: '迷思澄清：非傳播途徑', en: 'Myths: Not Transmission Routes' },
                transmission_myth_list: {
                    zh: `<li><span class="mr-2">❌</span> **空氣/飛沫：** 伊波拉不是呼吸道病毒。</li><li><span class="mr-2">❌</span> **水：** 不會透過水傳播。</li><li><span class="mr-2">❌</span> **蚊蟲：** 蚊蟲叮咬不會傳播伊波拉。</li>`,
                    en: `<li><span class="mr-2">❌</span> **Air/Droplets:** Ebola is not a respiratory virus.</li><li><span class="mr-2">❌</span> **Water:** Is not transmitted through water.</li><li><span class="mr-2">❌</span> **Insects:** Is not transmitted by mosquito bites.</li>`
                },
                outbreaks_title: { zh: '疫情歷史', en: 'Outbreak History' },
                outbreaks_subtitle: { zh: '自1976年首次發現以來，伊波拉已引發數十次疫情。使用下拉選單查看不同疫情的數據，其中2014-2016年的西非疫情規模空前，徹底改變了全球的應對格局。', en: 'Since its discovery in 1976, Ebola has caused dozens of outbreaks. Use the dropdown to explore data from different events. The 2014-2016 West Africa outbreak was unprecedented and reshaped the global response.' },
                outbreak_chart_y_axis: { zh: '人數 (對數座標)', en: 'Number of People (Logarithmic Scale)' },
                outbreak_chart_cases: { zh: '病例數', en: 'Cases' },
                outbreak_chart_deaths: { zh: '死亡數', en: 'Deaths' },
                outbreak_info_cases: { zh: '病例數', en: 'Cases' },
                outbreak_info_deaths: { zh: '死亡數', en: 'Deaths' },
                outbreak_info_cfr: { zh: '致死率', en: 'Fatality Rate' },
                counter_title: { zh: '應對策略', en: 'Countermeasures' },
                counter_subtitle: { zh: '面對伊波拉的威脅，科學界發展出了診斷、治療和預防的多重工具。然而，這些工具的公平可及性仍然是全球衛生面臨的重大挑戰。', en: 'To combat Ebola, science has developed multiple tools for diagnosis, treatment, and prevention. However, equitable access to these tools remains a major global health challenge.' },
                counter_card1_title: { zh: '診斷', en: 'Diagnosis' },
                counter_card1_p1: { zh: '透過血液樣本檢測病毒RNA，準確度高但需要實驗室。', en: 'Detects viral RNA from blood samples. Accurate but requires a lab.' },
                counter_card1_p2: { zh: '可在現場快速分流病患，對疫情控制至關重要。', en: 'Allows for rapid patient triage in the field, crucial for control.' },
                counter_card2_title: { zh: '治療', en: 'Treatment' },
                counter_card2_p1: { zh: '靜脈輸液補充水分、維持血壓，是提高存活率最關鍵的因素。', en: 'IV fluids to rehydrate and maintain blood pressure is the most critical factor for survival.' },
                counter_card2_p2: { zh: '已核准藥物 Inmazeb 和 Ebanga，但僅針對薩伊病毒株，且因價格高昂和儲備問題，可及性極低。', en: 'Approved drugs like Inmazeb and Ebanga exist, but only for the Zaire species and access is extremely limited due to cost and stockpiling.' },
                counter_card3_title: { zh: '預防', en: 'Prevention' },
                counter_card3_p1: { zh: '高效的單劑量疫苗，但僅對薩伊病毒株有效。', en: 'A highly effective single-dose vaccine, but only for the Zaire species.' },
                counter_card3_p2: { zh: '為確診者的接觸者及接觸者的接觸者接種，建立免疫屏障，有效阻斷傳播鏈。', en: 'Vaccinating contacts of cases, and contacts of contacts, to create a buffer of immunity and stop transmission.' },
                comp_title: { zh: '比較分析', en: 'Comparisons' },
                comp_subtitle: { zh: '將伊波拉與其他病毒進行比較，可以更深刻地理解其獨特的威脅模式，以及為何「一體適用」的大流行防備策略是行不通的。', en: 'Comparing Ebola to other viruses provides a deeper understanding of its unique threat profile and why one-size-fits-all pandemic strategies fail.' },
                comp_btn_marburg: { zh: 'vs. 馬堡病毒', en: 'vs. Marburg' },
                comp_btn_covid: { zh: 'vs. COVID-19', en: 'vs. COVID-19' },
                footer_p1: { zh: '本互動報告基於公開的科學文獻與世界衛生組織資料創建。', en: 'This interactive report was created based on public scientific literature and WHO data.' },
                footer_p2: { zh: '抵禦未來大流行的威脅，需要全球持續投資於公平的衛生系統、前瞻性的研究，並解決疾病出現的根本性社會和生態問題。', en: 'Defending against future pandemics requires sustained global investment in equitable health systems, forward-thinking research, and addressing the root social and ecological drivers of disease emergence.' },
            };

            const speciesData = {
                ebov: {
                    name: { zh: '薩伊伊波拉病毒 (Zaire ebolavirus, EBOV)', en: 'Zaire ebolavirus (EBOV)' },
                    details: { zh: '1976年發現於薩伊（現剛果民主共和國）。致死率最高，達40%–90%。是2014–2016年西非大流行的元兇，也是研究最深入、現有疫苗和藥物唯一有效的物種。', en: 'Discovered in 1976 in Zaire (now DRC). The most lethal species with a 40%–90% fatality rate. Responsible for the 2014–2016 West Africa epidemic and the only species targeted by current vaccines and therapeutics.' }
                },
                sudv: {
                    name: { zh: '蘇丹伊波拉病毒 (Sudan ebolavirus, SUDV)', en: 'Sudan ebolavirus (SUDV)' },
                    details: { zh: '1976年發現於蘇丹。致死率約50%。同樣具有高致死性，是第二個被發現的物種，曾引發2022年烏干達疫情。目前尚無已批准的疫苗或藥物。', en: 'Discovered in 1976 in Sudan. Fatality rate around 50%. Also highly lethal, it was the second species discovered and caused the 2022 Uganda outbreak. No approved vaccine or drug is available.' }
                },
                restv: {
                    name: { zh: '雷斯頓伊波拉病毒 (Reston ebolavirus, RESTV)', en: 'Reston ebolavirus (RESTV)' },
                    details: { zh: '1989年發現於美國維吉尼亞州雷斯頓。在從菲律賓進口的猴子身上發現。儘管人類可能被感染，但不會出現症狀，對人類無致病性。', en: 'Discovered in 1989 in Reston, Virginia, in monkeys imported from the Philippines. While humans can be infected, it does not cause illness and is non-pathogenic in humans.' }
                },
                tafv: {
                    name: { zh: '塔伊森林伊波拉病毒 (Taï Forest ebolavirus, TAFV)', en: 'Taï Forest ebolavirus (TAFV)' },
                    details: { zh: '1994年發現於象牙海岸。至今僅有一例非致命的人類感染記錄，感染者是一名接觸了染病黑猩猩屍體的科學家，後康復。', en: 'Discovered in 1994 in Côte d\'Ivoire. Only one human case ever recorded, a scientist who was infected after contact with a sick chimpanzee and later recovered.' }
                },
                bdbv: {
                    name: { zh: '本迪布焦伊波拉病毒 (Bundibugyo ebolavirus, BDBV)', en: 'Bundibugyo ebolavirus (BDBV)' },
                    details: { zh: '2007年發現於烏干達本迪布焦區。致死率約35%。可引發嚴重的伊波拉病毒病，但致死率低於薩伊和蘇丹病毒株。', en: 'Discovered in 2007 in the Bundibugyo district of Uganda. Fatality rate around 35%. Causes severe Ebola Virus Disease, but is less lethal than the Zaire and Sudan species.' }
                },
                bomv: {
                    name: { zh: '邦巴利伊波拉病毒 (Bombali ebolavirus, BOMV)', en: 'Bombali ebolavirus (BOMV)' },
                    details: { zh: '2018年發現於獅子山共和國邦巴利區。在蝙蝠身上發現，其感染人類或致病的能力尚不清楚，有待進一步研究。', en: 'Discovered in 2018 in the Bombali district of Sierra Leone. Found in bats, and its ability to infect or cause disease in humans is currently unknown and under investigation.' }
                }
            };
            
            const outbreaksData = [
                { year: '1976', country: {zh:'薩伊', en:'Zaire'}, species: 'EBOV', cases: 318, deaths: 280, cfr: 88, info: {zh:'首次確認伊波拉病毒，以當地的伊波拉河命名。疫情展現了極高的致死率。', en:'First identification of Ebola virus, named after the local Ebola River. The outbreak demonstrated its extreme lethality.'} },
                { year: '1976', country: {zh:'蘇丹', en:'Sudan'}, species: 'SUDV', cases: 284, deaths: 151, cfr: 53, info: {zh:'幾乎同時爆發的另一起疫情，由不同病毒株引起，揭示了伊波拉的多樣性。', en:'A near-simultaneous outbreak caused by a different virus species, revealing Ebola\'s diversity.'} },
                { year: '1995', country: {zh:'剛果', en:'DRC'}, species: 'EBOV', cases: 315, deaths: 254, cfr: 81, info: {zh:'再次爆發的大規模疫情，鞏固了薩伊病毒株為最高度致命的印象。', en:'Another major outbreak that reinforced the understanding of the Zaire species as highly lethal.'} },
                { year: '2000', country: {zh:'烏干達', en:'Uganda'}, species: 'SUDV', cases: 425, deaths: 224, cfr: 53, info: {zh:'由蘇丹病毒株引起的重大疫情，凸顯了應對不同病毒株的挑戰。', en:'A significant outbreak caused by the Sudan species, highlighting the challenge of responding to different species.'} },
                { year: '2014–2016', country: {zh:'西非', en:'West Africa'}, species: 'EBOV', cases: 28616, deaths: 11310, cfr: 40, info: {zh:'歷史上規模最大的伊波拉疫情，是全球衛生的一次「完美風暴」。由於衛生系統薄弱、社會不信任和國際反應遲緩，疫情迅速失控，並首次蔓延至城市地區，引發全球恐慌。這次危機催生了疫苗和藥物的快速研發。', en: 'The largest Ebola outbreak in history, a "perfect storm" for global health. Weak health systems, community distrust, and a slow international response allowed the virus to spiral out of control, spreading to urban areas for the first time and sparking global fear. The crisis catalyzed rapid vaccine and drug development.'} },
                { year: '2018–2020', country: {zh:'剛果', en:'DRC'}, species: 'EBOV', cases: 3481, deaths: 2299, cfr: 66, info: {zh:'世界第二大規模的伊波拉疫情，發生在衝突地區，應對工作極其複雜。首次大規模使用環形疫苗接種策略。', en:'The world\'s second-largest Ebola outbreak, occurring in a conflict zone, which immensely complicated response efforts. Marked the first large-scale use of the ring vaccination strategy.'} },
                { year: '2022', country: {zh:'烏干達', en:'Uganda'}, species: 'SUDV', cases: 142, deaths: 55, cfr: 39, info: {zh:'由蘇丹病毒株（SUDV）引發，凸顯了針對特定病毒株的防備缺口，因為現有疫苗對SUDV無效，迫使在疫情期間緊急啟動實驗性疫苗試驗。', en:'Caused by the Sudan species (SUDV), this outbreak highlighted a major preparedness gap, as existing vaccines were ineffective against SUDV, forcing the launch of experimental vaccine trials in the midst of the crisis.'} },
            ];
            
            const comparisonData = {
                marburg: {
                    zh: `
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">伊波拉 vs. 馬堡病毒</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">伊波拉病毒</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-teal-600">屬：</span> 正伊波拉病毒屬</li>
                                    <li><span class="font-semibold text-teal-600">物種：</span> 6個已知物種</li>
                                    <li><span class="font-semibold text-teal-600">疫苗：</span> 有 (僅針對薩伊病毒株)</li>
                                    <li><span class="font-semibold text-teal-600">藥物：</span> 有 (僅針對薩伊病毒株)</li>
                                </ul>
                            </div>
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">馬堡病毒</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-orange-600">屬：</span> 馬堡病毒屬</li>
                                    <li><span class="font-semibold text-orange-600">物種：</span> 1個已知物種</li>
                                    <li><span class="font-semibold text-orange-600">疫苗：</span> 尚無已批准疫苗</li>
                                    <li><span class="font-semibold text-orange-600">藥物：</span> 尚無已批准藥物</li>
                                </ul>
                            </div>
                        </div>
                        <p class="mt-6 text-stone-600">兩者同屬絲狀病毒科，臨床症狀相似，致死率都很高。但針對馬堡病毒，我們目前沒有任何已批准的疫苗或特效藥，這是一個巨大的防備差距。</p>
                    `,
                    en: `
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Ebola vs. Marburg</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">Ebola Virus</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-teal-600">Genus:</span> Orthoebolavirus</li>
                                    <li><span class="font-semibold text-teal-600">Species:</span> 6 known</li>
                                    <li><span class="font-semibold text-teal-600">Vaccine:</span> Yes (Zaire species only)</li>
                                    <li><span class="font-semibold text-teal-600">Therapeutic:</span> Yes (Zaire species only)</li>
                                </ul>
                            </div>
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">Marburg Virus</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-orange-600">Genus:</span> Marburgvirus</li>
                                    <li><span class="font-semibold text-orange-600">Species:</span> 1 known</li>
                                    <li><span class="font-semibold text-orange-600">Vaccine:</span> None approved</li>
                                    <li><span class="font-semibold text-orange-600">Therapeutic:</span> None approved</li>
                                </ul>
                            </div>
                        </div>
                        <p class="mt-6 text-stone-600">Both are filoviruses with similar symptoms and high fatality rates. But for Marburg, we have no approved vaccines or treatments, a critical preparedness gap.</p>
                    `
                },
                covid: {
                    zh: `
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">伊波拉 vs. COVID-19</h3>
                        <p class="text-stone-600 mb-6">這兩種病毒代表了根本不同的大流行威脅，需要截然不同的應對策略。</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">伊波拉：「手術刀」式應對</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-teal-600">傳播：</span> 體液接觸，有症狀才傳播</li>
                                    <li><span class="font-semibold text-teal-600">致死率：</span> 極高</li>
                                    <li><span class="font-semibold text-teal-600">策略：</span> 接觸者追蹤、隔離、環形疫苗接種</li>
                                </ul>
                            </div>
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">COVID-19：「大錘」式應對</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-orange-600">傳播：</span> 呼吸道飛沫，無症狀也可傳播</li>
                                    <li><span class="font-semibold text-orange-600">致死率：</span> 較低</li>
                                    <li><span class="font-semibold text-orange-600">策略：</span> 大規模疫苗接種、戴口罩、社交距離</li>
                                </ul>
                            </div>
                        </div>
                    `,
                    en: `
                        <h3 class="text-2xl font-bold text-teal-700 mb-4">Ebola vs. COVID-19</h3>
                        <p class="text-stone-600 mb-6">These two viruses represent fundamentally different pandemic threats requiring vastly different response strategies.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">Ebola: A "Scalpel" Response</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-teal-600">Transmission:</span> Bodily fluids, only when symptomatic</li>
                                    <li><span class="font-semibold text-teal-600">Fatality:</span> Extremely High</li>
                                    <li><span class="font-semibold text-teal-600">Strategy:</span> Contact tracing, isolation, ring vaccination</li>
                                </ul>
                            </div>
                            <div class="bg-white p-4 rounded-lg border">
                                <h4 class="font-bold text-lg mb-2">COVID-19: A "Sledgehammer" Response</h4>
                                <ul class="space-y-2">
                                    <li><span class="font-semibold text-orange-600">Transmission:</span> Respiratory, including asymptomatic spread</li>
                                    <li><span class="font-semibold text-orange-600">Fatality:</span> Much Lower</li>
                                    <li><span class="font-semibold text-orange-600">Strategy:</span> Mass vaccination, masking, social distancing</li>
                                </ul>
                            </div>
                        </div>
                    `
                }
            };

            const langSwitcher = document.getElementById('lang-switcher');
            const speciesInfoEl = document.getElementById('species-info');
            const speciesBtns = document.querySelectorAll('.species-btn');
            const outbreakSelector = document.getElementById('outbreak-selector');
            const outbreakInfoEl = document.getElementById('outbreak-info');
            const ctx = document.getElementById('outbreaksChart').getContext('2d');
            let outbreaksChart;
            const comparisonContentEl = document.getElementById('comparison-content');
            const showMarburgBtn = document.getElementById('show-marburg-btn');
            const showCovidBtn = document.getElementById('show-covid-btn');
            const mobileNav = document.getElementById('mobile-nav');
            
            function updateLanguage(lang) {
                document.documentElement.lang = lang === 'zh' ? 'zh-Hant' : 'en';
                langSwitcher.textContent = lang === 'zh' ? 'English' : '中文';
                
                document.querySelectorAll('[data-lang-key]').forEach(el => {
                    const key = el.dataset.langKey;
                    if (langData[key]) {
                        if (el.tagName === 'UL') {
                             el.innerHTML = langData[key][lang];
                        } else {
                            el.textContent = langData[key][lang];
                        }
                    }
                });

                updateSpeciesInfo(document.querySelector('.species-btn.active-btn').dataset.species);
                const selectedOutbreakIndex = parseInt(outbreakSelector.value);
                updateOutbreakSelector();
                outbreakSelector.value = selectedOutbreakIndex;
                updateOutbreakInfo(selectedOutbreakIndex);
                createChart(selectedOutbreakIndex);
                updateComparison(document.querySelector('.comparison-btn.bg-teal-600') === showMarburgBtn ? 'marburg' : 'covid');
                updateMobileNav();
            }

            function updateSpeciesInfo(speciesKey) {
                const data = speciesData[speciesKey];
                speciesInfoEl.innerHTML = `
                    <h4 class="text-xl font-bold text-teal-700 mb-2">${data.name[currentLang]}</h4>
                    <p class="text-stone-600">${data.details[currentLang]}</p>
                `;
            }

            speciesBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    speciesBtns.forEach(b => b.classList.remove('active-btn', 'bg-teal-600', 'text-white'));
                    speciesBtns.forEach(b => b.classList.add('bg-white', 'text-teal-600'));
                    btn.classList.add('active-btn', 'bg-teal-600', 'text-white');
                    btn.classList.remove('bg-white', 'text-teal-600');
                    updateSpeciesInfo(btn.dataset.species);
                });
            });

            function updateOutbreakInfo(index) {
                const outbreak = outbreaksData[index];
                 outbreakInfoEl.innerHTML = `
                    <h4 class="text-xl font-bold text-teal-700">${outbreak.year} - ${outbreak.country[currentLang]} (${outbreak.species})</h4>
                    <p class="text-stone-600 mt-2">${outbreak.info[currentLang]}</p>
                    <div class="flex justify-around mt-4 text-center">
                        <div>
                            <p class="text-2xl font-bold text-orange-700">${outbreak.cases.toLocaleString()}</p>
                            <p class="text-sm text-stone-500">${langData.outbreak_info_cases[currentLang]}</p>
                        </div>
                        <div>
                            <p class="text-2xl font-bold text-red-700">${outbreak.deaths.toLocaleString()}</p>
                            <p class="text-sm text-stone-500">${langData.outbreak_info_deaths[currentLang]}</p>
                        </div>
                        <div>
                            <p class="text-2xl font-bold text-red-800">${outbreak.cfr}%</p>
                            <p class="text-sm text-stone-500">${langData.outbreak_info_cfr[currentLang]}</p>
                        </div>
                    </div>
                `;
            }
            
            function createChart(highlightIndex = -1) {
                if (outbreaksChart) {
                    outbreaksChart.destroy();
                }

                const backgroundColors = outbreaksData.map((d, i) => i === highlightIndex ? 'rgba(234, 88, 12, 0.8)' : 'rgba(13, 148, 136, 0.5)');
                const borderColors = outbreaksData.map((d, i) => i === highlightIndex ? 'rgba(234, 88, 12, 1)' : 'rgba(13, 148, 136, 1)');

                outbreaksChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: outbreaksData.map(d => `${d.year} ${d.country[currentLang]}`),
                        datasets: [
                            {
                                label: langData.outbreak_chart_cases[currentLang],
                                data: outbreaksData.map(d => d.cases),
                                backgroundColor: backgroundColors,
                                borderColor: borderColors,
                                borderWidth: 2,
                                yAxisID: 'y',
                            },
                             {
                                label: langData.outbreak_chart_deaths[currentLang],
                                data: outbreaksData.map(d => d.deaths),
                                backgroundColor: 'rgba(220, 38, 38, 0.5)',
                                borderColor: 'rgba(220, 38, 38, 1)',
                                borderWidth: 1,
                                yAxisID: 'y',
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                type: 'logarithmic',
                                title: { display: true, text: langData.outbreak_chart_y_axis[currentLang] }
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) { label += ': '; }
                                        if (context.parsed.y !== null) { label += context.parsed.y.toLocaleString(); }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function updateOutbreakSelector() {
                 outbreakSelector.innerHTML = '';
                 outbreaksData.forEach((outbreak, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${outbreak.year} - ${outbreak.country[currentLang]} (${outbreak.species})`;
                    outbreakSelector.appendChild(option);
                });
            }

            outbreakSelector.addEventListener('change', (e) => {
                const selectedIndex = parseInt(e.target.value);
                updateOutbreakInfo(selectedIndex);
                createChart(selectedIndex);
            });
            
            function updateComparison(type) {
                comparisonContentEl.innerHTML = comparisonData[type][currentLang];
                if (type === 'marburg') {
                    showMarburgBtn.classList.add('bg-teal-600', 'text-white');
                    showMarburgBtn.classList.remove('bg-white', 'text-teal-600', 'border');
                    showCovidBtn.classList.add('bg-white', 'text-teal-600', 'border');
                    showCovidBtn.classList.remove('bg-teal-600', 'text-white');
                } else {
                    showCovidBtn.classList.add('bg-teal-600', 'text-white');
                    showCovidBtn.classList.remove('bg-white', 'text-teal-600', 'border');
                    showMarburgBtn.classList.add('bg-white', 'text-teal-600', 'border');
                    showMarburgBtn.classList.remove('bg-teal-600', 'text-white');
                }
            }
            
            showMarburgBtn.addEventListener('click', () => updateComparison('marburg'));
            showCovidBtn.addEventListener('click', () => updateComparison('covid'));
            
            langSwitcher.addEventListener('click', () => {
                currentLang = currentLang === 'zh' ? 'en' : 'zh';
                updateLanguage(currentLang);
            });
            
            function updateMobileNav() {
                mobileNav.innerHTML = '';
                const navKeys = ['nav_overview', 'nav_virus', 'nav_transmission', 'nav_outbreaks', 'nav_countermeasures', 'nav_comparisons'];
                const hrefs = ['#overview', '#the-virus', '#transmission', '#outbreaks', '#countermeasures', '#comparisons'];
                navKeys.forEach((key, index) => {
                    const option = document.createElement('option');
                    option.value = hrefs[index];
                    option.textContent = langData[key][currentLang];
                    mobileNav.appendChild(option);
                });
            }

            mobileNav.addEventListener('change', () => {
                const targetId = mobileNav.value;
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 80) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

            // Initial Page Load
            const westAfricaIndex = outbreaksData.findIndex(d => d.year === '2014–2016');
            updateOutbreakSelector();
            outbreakSelector.value = westAfricaIndex;
            updateLanguage(currentLang); 
        });
    </script>
</body>
</html>
