<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Evolution of the Double-Decker Bus / é›™å±¤å·´å£«çš„æ¼”è®Š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .brand-text-dark { color: #001219; }
        .brand-text-primary { color: #005f73; }
        .brand-text-secondary { color: #0a9396; }
        .brand-bg-light { background-color: #e9d8a6; }
        .brand-bg-accent { background-color: #94d2bd; }
        .brand-bg-primary { background-color: #005f73; }
        .brand-bg-secondary { background-color: #0a9396; }
        .stat-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #005f73;
        }
        .stat-card p {
            font-size: 3rem;
            font-weight: 700;
            line-height: 1.1;
            color: #001219;
        }
        .flow-line {
            border-left: 2px dashed #0a9396;
            margin-left: 1.25rem;
            padding-left: 1.5rem;
            padding-bottom: 1rem;
        }
        .lang-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.3s, color 0.3s;
        }
        .lang-btn.active {
            background-color: #005f73;
            color: white;
        }
        .lang-btn.inactive {
            background-color: #e0e0e0;
            color: #333;
        }
    </style>
</head>
<body class="brand-text-dark">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12 relative">
            <div class="absolute top-0 right-0 flex space-x-2">
                <button id="btn-en" class="lang-btn active">EN</button>
                <button id="btn-zh" class="lang-btn inactive">ä¸­æ–‡</button>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold brand-text-primary mb-2" data-lang="title">The Double-Decker</h1>
            <p class="text-xl md:text-2xl brand-text-secondary" data-lang="subtitle">A 200-Year Journey Through Urban Transport</p>
            <p class="max-w-3xl mx-auto mt-4 text-base md:text-lg" data-lang="intro_p">From horse-drawn carriages on the streets of 19th-century London to the zero-emission flagships of today, the double-decker bus is a symbol of urban innovation. This infographic visualizes its remarkable evolution, reflecting two centuries of technological leaps and societal change.</p>
        </header>

        <main class="space-y-16">

            <section id="era-1" class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold brand-text-primary mb-4" data-lang="era1_title">1. The Dawn of Mass Transit (1828-1914)</h2>
                <p class="mb-8 max-w-4xl" data-lang="era1_p">The concept of public transport began with horse-drawn omnibuses. While pioneering, early large-capacity vehicles struggled with the realities of urban streets, leading to the development of the first, rudimentary double-deck designs born from necessity during London's 1851 Great Exhibition.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="stat-card text-center">
                        <h3 data-lang="era1_stat_title">First London Omnibus</h3>
                        <p>1829</p>
                        <span class="text-lg" data-lang="era1_stat_desc">George Shillibeer launches his revolutionary service, marking the start of a new era in city travel.</span>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-center mb-2 brand-text-secondary" data-lang="era1_chart_title">Evolution of Capacity</h3>
                        <div class="chart-container h-64 md:h-80">
                            <canvas id="capacityChart1"></canvas>
                        </div>
                        <p class="text-center mt-2 text-sm" data-lang="era1_chart_desc">The early LGOC B-Type offered a significant 55% increase in passenger capacity over Shillibeer's original 22-seat omnibus.</p>
                    </div>
                </div>
            </section>
            
            <section id="era-2" class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold brand-text-primary mb-4" data-lang="era2_title">2. The Mechanical Revolution (1910-1960)</h2>
                <p class="mb-8 max-w-4xl" data-lang="era2_p">The shift from horse to engine was solidified by the LGOC B-Type, the world's first reliable mass-produced bus. Post-war, the industry was dominated by robust front-engined models from AEC and Leyland, which became the standardized workhorses of Britain's cities.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1 stat-card text-center p-6 rounded-lg brand-bg-light">
                        <h3 data-lang="era2_stat_title">B-Type Production</h3>
                        <p>2,500+</p>
                        <span class="text-lg" data-lang="era2_stat_desc">By 1913, the LGOC B-Type's mass production had cemented the dominance of the motorbus.</span>
                    </div>
                    <div class="lg:col-span-2">
                        <h3 class="text-xl font-semibold text-center mb-2 brand-text-secondary" data-lang="era2_chart_title">Golden Age Titans: AEC vs. Leyland</h3>
                         <div class="chart-container h-80">
                            <canvas id="goldenAgeChart"></canvas>
                        </div>
                        <p class="text-center mt-2 text-sm" data-lang="era2_chart_desc">The AEC Regent III (RT) and Leyland Titan (PD2) were engineering rivals, both featuring powerful diesel engines around 9.7L and seating for 56 passengers, defining an era of reliability.</p>
                    </div>
                </div>
            </section>

            <section id="era-3" class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold brand-text-primary mb-4" data-lang="era3_title">3. The Icon: AEC Routemaster (1954-2005)</h2>
                <p class="mb-8 max-w-4xl" data-lang="era3_p">A masterpiece of bespoke engineering, the Routemaster was designed specifically for London. Using aircraft-inspired aluminum construction, it was lighter, more efficient, and offered more seats than its predecessors. Its open rear platform became a globally recognized symbol of London.</p>
                 <div class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                    <div class="md:col-span-3">
                        <h3 class="text-xl font-semibold mb-2 brand-text-secondary" data-lang="era3_feature1_title">Lightweight Design, Higher Capacity</h3>
                        <p class="text-2xl mb-4" data-lang="era3_feature1_desc">The Routemaster's innovative integral aluminum body made it <strong>0.75 tonnes lighter</strong> than the RT-Type, despite carrying more passengers.</p>
                        <div class="flex items-center space-x-4">
                            <div class="text-center p-4 rounded-lg bg-gray-100 flex-1">
                                <div class="text-4xl font-bold">56 ğŸ§</div>
                                <div class="text-sm font-semibold">AEC Regent III RT</div>
                            </div>
                            <div class="text-5xl font-bold brand-text-primary">&gt;</div>
                             <div class="text-center p-4 rounded-lg brand-bg-accent flex-1">
                                <div class="text-4xl font-bold">64 ğŸ§</div>
                                <div class="text-sm font-semibold">AEC Routemaster</div>
                            </div>
                        </div>
                    </div>
                    <div class="md:col-span-2">
                         <h3 class="text-xl font-semibold mb-2 brand-text-secondary" data-lang="era3_feature2_title">Integral vs. Body-on-Frame</h3>
                         <div class="space-y-4">
                            <div class="p-4 rounded-lg border-2 border-dashed border-gray-400">
                                <h4 class="font-bold" data-lang="era3_feature2_trad_title">Traditional (RT-Type)</h4>
                                <p class="text-sm" data-lang="era3_feature2_trad_desc">A heavy steel chassis supports a separate body. Simple but weighty.</p>
                            </div>
                            <div class="p-4 rounded-lg border-2 border-solid brand-border-primary brand-bg-light">
                                <h4 class="font-bold" data-lang="era3_feature2_int_title">Integral (Routemaster)</h4>
                                <p class="text-sm" data-lang="era3_feature2_int_desc">The body, subframes, and mechanicals are one integrated, load-bearing structure. Strong and lightweight.</p>
                            </div>
                         </div>
                    </div>
                </div>
            </section>
            
            <section id="era-4" class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold brand-text-primary mb-4" data-lang="era4_title">4. Paradigm Shift: Global & Rear-Engined (1960s-Present)</h2>
                <p class="mb-8 max-w-4xl" data-lang="era4_p">The move to rear-engined buses like the Leyland Atlantean was driven by economics, enabling one-person operation. This design became the global standard, with manufacturers adapting a core platform for diverse international markets like Hong Kong and Singapore, featuring high capacity, air conditioning, and unique door layouts.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 brand-text-secondary" data-lang="era4_feature1_title">The Economic Driver: Staffing Models</h3>
                        <div class="flow-line relative">
                           <div class="mb-4">
                               <h4 class="font-bold text-lg" data-lang="era4_feature1_front_title">Front-Engine Layout</h4>
                               <p data-lang="era4_feature1_front_desc">Driver focuses solely on driving. A separate conductor manages fares and passengers via the rear platform. <strong>(2 Crew)</strong></p>
                           </div>
                           <div class="absolute left-[-10px] top-1/2 -translate-y-1/2 bg-white px-2 text-2xl font-bold brand-text-secondary">â†“</div>
                           <div>
                               <h4 class="font-bold text-lg" data-lang="era4_feature1_rear_title">Rear-Engine Layout</h4>
                               <p data-lang="era4_feature1_rear_desc">Engine relocation allows for a front entrance beside the driver, who now handles both driving and fare collection. <strong>(1 Crew)</strong></p>
                           </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-center mb-2 brand-text-secondary" data-lang="era4_chart_title">Global Adaptation: Passenger Capacity</h3>
                        <div class="chart-container h-80">
                            <canvas id="globalCapacityChart"></canvas>
                        </div>
                        <p class="text-center mt-2 text-sm" data-lang="era4_chart_desc">Modern buses are customized for local needs. Hong Kong prioritizes maximum capacity for dense routes, far exceeding a standard London bus.</p>
                    </div>
                </div>
            </section>
            
            <section id="era-5" class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <h2 class="text-3xl font-bold brand-text-primary mb-4" data-lang="era5_title">5. The Zero-Emission Future</h2>
                <p class="mb-8 max-w-4xl" data-lang="era5_p">Today, the industry is at another turning point, moving towards a zero-emission future. The choice between Battery Electric (BEV) and Hydrogen Fuel Cell (FCEV) technology represents a fundamental strategic decision, balancing range, refueling time, and infrastructure investment.</p>
                <div class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                    <div class="md:col-span-3">
                        <h3 class="text-xl font-semibold text-center mb-2 brand-text-secondary" data-lang="era5_chart_title">BEV vs. FCEV Technology Comparison</h3>
                         <div class="chart-container h-96">
                            <canvas id="futureTechChart"></canvas>
                        </div>
                    </div>
                     <div class="md:col-span-2 space-y-4">
                        <div class="p-4 rounded-lg brand-bg-light">
                            <h4 class="font-bold brand-text-primary" data-lang="era5_feature1_title">âš¡ Battery Electric (BEV)</h4>
                            <p class="text-sm" data-lang="era5_feature1_desc">High energy efficiency but limited by range and long charging times (2.5+ hours). Requires major electrical grid upgrades at depots.</p>
                        </div>
                         <div class="p-4 rounded-lg brand-bg-accent">
                            <h4 class="font-bold brand-text-primary" data-lang="era5_feature2_title">ğŸ’§ Hydrogen Fuel Cell (FCEV)</h4>
                            <p class="text-sm" data-lang="era5_feature2_desc">Offers long range and rapid refueling (~8 minutes), similar to diesel. Relies on a developing and currently expensive green hydrogen supply chain.</p>
                        </div>
                    </div>
                </div>
                 <p class="text-center mt-8 text-lg" data-lang="conclusion">The double-decker continues to adapt, proving its timeless appeal as an efficient, high-capacity solution for the world's most congested cities, now leading the charge towards a sustainable future.</p>
            </section>

        </main>
    </div>

    <script>
        const langData = {
            en: {
                title: "The Double-Decker",
                subtitle: "A 200-Year Journey Through Urban Transport",
                intro_p: "From horse-drawn carriages on the streets of 19th-century London to the zero-emission flagships of today, the double-decker bus is a symbol of urban innovation. This infographic visualizes its remarkable evolution, reflecting two centuries of technological leaps and societal change.",
                era1_title: "1. The Dawn of Mass Transit (1828-1914)",
                era1_p: "The concept of public transport began with horse-drawn omnibuses. While pioneering, early large-capacity vehicles struggled with the realities of urban streets, leading to the development of the first, rudimentary double-deck designs born from necessity during London's 1851 Great Exhibition.",
                era1_stat_title: "First London Omnibus",
                era1_stat_desc: "George Shillibeer launches his revolutionary service, marking the start of a new era in city travel.",
                era1_chart_title: "Evolution of Capacity",
                era1_chart_desc: "The early LGOC B-Type offered a significant 55% increase in passenger capacity over Shillibeer's original 22-seat omnibus.",
                era2_title: "2. The Mechanical Revolution (1910-1960)",
                era2_p: "The shift from horse to engine was solidified by the LGOC B-Type, the world's first reliable mass-produced bus. Post-war, the industry was dominated by robust front-engined models from AEC and Leyland, which became the standardized workhorses of Britain's cities.",
                era2_stat_title: "B-Type Production",
                era2_stat_desc: "By 1913, the LGOC B-Type's mass production had cemented the dominance of the motorbus.",
                era2_chart_title: "Golden Age Titans: AEC vs. Leyland",
                era2_chart_desc: "The AEC Regent III (RT) and Leyland Titan (PD2) were engineering rivals, both featuring powerful diesel engines around 9.7L and seating for 56 passengers, defining an era of reliability.",
                era3_title: "3. The Icon: AEC Routemaster (1954-2005)",
                era3_p: "A masterpiece of bespoke engineering, the Routemaster was designed specifically for London. Using aircraft-inspired aluminum construction, it was lighter, more efficient, and offered more seats than its predecessors. Its open rear platform became a globally recognized symbol of London.",
                era3_feature1_title: "Lightweight Design, Higher Capacity",
                era3_feature1_desc: "The Routemaster's innovative integral aluminum body made it <strong>0.75 tonnes lighter</strong> than the RT-Type, despite carrying more passengers.",
                era3_feature2_title: "Integral vs. Body-on-Frame",
                era3_feature2_trad_title: "Traditional (RT-Type)",
                era3_feature2_trad_desc: "A heavy steel chassis supports a separate body. Simple but weighty.",
                era3_feature2_int_title: "Integral (Routemaster)",
                era3_feature2_int_desc: "The body, subframes, and mechanicals are one integrated, load-bearing structure. Strong and lightweight.",
                era4_title: "4. Paradigm Shift: Global & Rear-Engined (1960s-Present)",
                era4_p: "The move to rear-engined buses like the Leyland Atlantean was driven by economics, enabling one-person operation. This design became the global standard, with manufacturers adapting a core platform for diverse international markets like Hong Kong and Singapore, featuring high capacity, air conditioning, and unique door layouts.",
                era4_feature1_title: "The Economic Driver: Staffing Models",
                era4_feature1_front_title: "Front-Engine Layout",
                era4_feature1_front_desc: "Driver focuses solely on driving. A separate conductor manages fares and passengers via the rear platform. <strong>(2 Crew)</strong>",
                era4_feature1_rear_title: "Rear-Engine Layout",
                era4_feature1_rear_desc: "Engine relocation allows for a front entrance beside the driver, who now handles both driving and fare collection. <strong>(1 Crew)</strong>",
                era4_chart_title: "Global Adaptation: Passenger Capacity",
                era4_chart_desc: "Modern buses are customized for local needs. Hong Kong prioritizes maximum capacity for dense routes, far exceeding a standard London bus.",
                era5_title: "5. The Zero-Emission Future",
                era5_p: "Today, the industry is at another turning point, moving towards a zero-emission future. The choice between Battery Electric (BEV) and Hydrogen Fuel Cell (FCEV) technology represents a fundamental strategic decision, balancing range, refueling time, and infrastructure investment.",
                era5_chart_title: "BEV vs. FCEV Technology Comparison",
                era5_feature1_title: "âš¡ Battery Electric (BEV)",
                era5_feature1_desc: "High energy efficiency but limited by range and long charging times (2.5+ hours). Requires major electrical grid upgrades at depots.",
                era5_feature2_title: "ğŸ’§ Hydrogen Fuel Cell (FCEV)",
                era5_feature2_desc: "Offers long range and rapid refueling (~8 minutes), similar to diesel. Relies on a developing and currently expensive green hydrogen supply chain.",
                conclusion: "The double-decker continues to adapt, proving its timeless appeal as an efficient, high-capacity solution for the world's most congested cities, now leading the charge towards a sustainable future."
            },
            zh: {
                title: "é›™å±¤å·´å£«",
                subtitle: "ä¸€éƒ¨æ©«è·¨å…©ä¸–ç´€çš„åŸå¸‚é‹è¼¸æ¼”é€²å²",
                intro_p: "å¾åä¹ä¸–ç´€å€«æ•¦è¡—é ­ç”±é¦¬åŒ¹ç‰½å¼•çš„æ–°å¥‡äº‹ç‰©ï¼Œåˆ°ä»Šæ—¥ç©¿æ¢­æ–¼å…¨çƒå„å¤§éƒ½æœƒçš„å°–ç«¯é›¶æ’æ”¾æ——è‰¦ï¼Œé›™å±¤å·´å£«æ˜¯åŸå¸‚å‰µæ–°çš„è±¡å¾µã€‚é€™ä»½è³‡è¨Šåœ–è¡¨å°‡å…¶å“è¶Šçš„æ¼”é€²æ­·ç¨‹è¦–è¦ºåŒ–ï¼Œåæ˜ äº†å…©å€‹ä¸–ç´€çš„æŠ€è¡“é£›èºèˆ‡ç¤¾æœƒè®Šé·ã€‚",
                era1_title: "1. é«˜è¼‰å®¢é‡é‹è¼¸çš„é»æ˜ (1828-1914)",
                era1_p: "å…¬å…±äº¤é€šçš„æ¦‚å¿µå§‹æ–¼é¦¬æ‹‰å…¬å…±é¦¬è»Šã€‚é›–ç„¶å…·æœ‰é–‹å‰µæ€§ï¼Œä½†æ—©æœŸçš„â€‹â€‹å¤§å®¹é‡è»Šè¼›é›£ä»¥æ‡‰å°åŸå¸‚è¡—é“çš„ç¾å¯¦ï¼Œé€™ä¿ƒä½¿äº†åœ¨1851å¹´å€«æ•¦è¬åœ‹åšè¦½æœƒæœŸé–“å› æ‡‰éœ€æ±‚è€Œç”Ÿçš„ç¬¬ä¸€æ‰¹åŸå§‹é›™å±¤è¨­è¨ˆçš„ç™¼å±•ã€‚",
                era1_stat_title: "é¦–è¼›å€«æ•¦å…¬å…±é¦¬è»Š",
                era1_stat_desc: "George Shillibeer æ¨å‡ºäº†ä»–é©å‘½æ€§çš„æœå‹™ï¼Œæ¨™èªŒè‘—åŸå¸‚äº¤é€šæ–°ç´€å…ƒçš„é–‹å§‹ã€‚",
                era1_chart_title: "è¼‰å®¢é‡çš„æ¼”è®Š",
                era1_chart_desc: "æ—©æœŸçš„ LGOC B-Type å·´å£«æ¯” Shillibeer æœ€åˆçš„22åº§å…¬å…±é¦¬è»Šçš„è¼‰å®¢é‡å¢åŠ äº†55%ã€‚",
                era2_title: "2. æ©Ÿæ¢°é©å‘½ (1910-1960)",
                era2_p: "å¾é¦¬åŒ¹åˆ°å¼•æ“çš„è½‰è®Šç”± LGOC B-Type é€™æ¬¾ä¸–ç•Œä¸Šç¬¬ä¸€æ¬¾å¯é çš„é‡ç”¢å·´å£«æ‰€éå›ºã€‚æˆ°å¾Œï¼Œæ¥­ç•Œç”± AEC å’Œ Leyland çš„å …å›ºå‰ç½®å¼•æ“å‹è™Ÿä¸»å°ï¼Œæˆç‚ºè‹±åœ‹åŸå¸‚çš„æ¨™æº–åŒ–ä¸»åŠ›ã€‚",
                era2_stat_title: "B-Type ç”Ÿç”¢é‡",
                era2_stat_desc: "åˆ°1913å¹´ï¼ŒLGOC B-Type çš„å¤§è¦æ¨¡ç”Ÿç”¢éå›ºäº†æ©Ÿå‹•å·´å£«çš„ä¸»å°åœ°ä½ã€‚",
                era2_chart_title: "é»ƒé‡‘æ™‚ä»£çš„å·¨é ­ï¼šAEC vs. Leyland",
                era2_chart_desc: "AEC Regent III (RT) å’Œ Leyland Titan (PD2) æ˜¯å·¥ç¨‹ä¸Šçš„ç«¶çˆ­å°æ‰‹ï¼Œå…©è€…éƒ½é…å‚™äº†ç´„9.7å‡çš„å¼·å¤§æŸ´æ²¹å¼•æ“å’Œ56å€‹åº§ä½ï¼Œå®šç¾©äº†ä¸€å€‹å¯é çš„æ™‚ä»£ã€‚",
                era3_title: "3. æ™‚ä»£æ¨™èªŒï¼šAEC Routemaster (1954-2005)",
                era3_p: "Routemaster æ˜¯å°ˆç‚ºå€«æ•¦è¨­è¨ˆçš„å®¢è£½åŒ–å·¥ç¨‹å‚‘ä½œã€‚å®ƒæ¡ç”¨å—é£›æ©Ÿå•Ÿç™¼çš„é‹è£½çµæ§‹ï¼Œæ¯”å…¶å‰è¼©æ›´è¼•ã€æ›´é«˜æ•ˆï¼Œä¸¦æä¾›æ›´å¤šåº§ä½ã€‚å…¶é–‹æ”¾å¼å¾Œå¹³å°æˆç‚ºå…¨çƒå…¬èªçš„å€«æ•¦è±¡å¾µã€‚",
                era3_feature1_title: "è¼•é‡åŒ–è¨­è¨ˆï¼Œæ›´é«˜è¼‰å®¢é‡",
                era3_feature1_desc: "Routemaster å‰µæ–°çš„æ•´åˆå¼é‹è£½è»Šèº«ä½¿å…¶æ¯” RT-Type è¼•äº†<strong>0.75å™¸</strong>ï¼Œå„˜ç®¡è¼‰å®¢æ›´å¤šã€‚",
                era3_feature2_title: "æ•´åˆå¼ vs. åˆ†é›¢å¼è»Šèº«",
                era3_feature2_trad_title: "å‚³çµ±å¼ (RT-Type)",
                era3_feature2_trad_desc: "æ²‰é‡çš„é‹¼è£½åº•ç›¤æ”¯æ’è‘—ä¸€å€‹ç¨ç«‹çš„è»Šèº«ã€‚çµæ§‹ç°¡å–®ä½†ç¬¨é‡ã€‚",
                era3_feature2_int_title: "æ•´åˆå¼ (Routemaster)",
                era3_feature2_int_desc: "è»Šèº«ã€å‰¯è»Šæ¶å’Œæ©Ÿæ¢°éƒ¨ä»¶æ§‹æˆä¸€å€‹æ•´åˆçš„æ‰¿è¼‰çµæ§‹ã€‚å …å›ºä¸”è¼•å·§ã€‚",
                era4_title: "4. å…¸ç¯„è½‰ç§»ï¼šå…¨çƒåŒ–èˆ‡å¾Œç½®å¼•æ“ (1960å¹´ä»£è‡³ä»Š)",
                era4_p: "è½‰å‘åƒ Leyland Atlantean é€™æ¨£çš„å¾Œç½®å¼•æ“å·´å£«æ˜¯ç”±ç¶“æ¿Ÿå› ç´ é©…å‹•çš„ï¼Œå¯¦ç¾äº†ã€Œä¸€äººæ“ä½œã€ã€‚é€™ç¨®è¨­è¨ˆæˆç‚ºå…¨çƒæ¨™æº–ï¼Œè£½é€ å•†ç‚ºé¦™æ¸¯å’Œæ–°åŠ å¡ç­‰ä¸åŒçš„åœ‹éš›å¸‚å ´èª¿æ•´æ ¸å¿ƒå¹³å°ï¼Œé…å‚™é«˜å®¹é‡ã€ç©ºèª¿å’Œç¨ç‰¹çš„è»Šé–€ä½ˆå±€ã€‚",
                era4_feature1_title: "ç¶“æ¿Ÿé©…å‹•åŠ›ï¼šäººæ‰‹é…ç½®æ¨¡å¼",
                era4_feature1_front_title: "å‰ç½®å¼•æ“ä½ˆå±€",
                era4_feature1_front_desc: "å¸æ©Ÿå°ˆæ³¨æ–¼é§•é§›ã€‚ä¸€åç¨ç«‹çš„å”®ç¥¨å“¡é€šéå¾Œå¹³å°ç®¡ç†ç¥¨å‹™å’Œä¹˜å®¢ã€‚<strong>ï¼ˆ2åå·¥ä½œäººå“¡ï¼‰</strong>",
                era4_feature1_rear_title: "å¾Œç½®å¼•æ“ä½ˆå±€",
                era4_feature1_rear_desc: "å¼•æ“çš„é‡æ–°ä½ˆç½®ä½¿å¾—å…¥å£å¯ä»¥è¨­åœ¨å¸æ©Ÿæ—é‚Šï¼Œå¸æ©Ÿç¾åœ¨å¯ä»¥åŒæ™‚è™•ç†é§•é§›å’Œå”®ç¥¨ã€‚<strong>ï¼ˆ1åå·¥ä½œäººå“¡ï¼‰</strong>",
                era4_chart_title: "å…¨çƒé©æ‡‰æ€§ï¼šè¼‰å®¢é‡",
                era4_chart_desc: "ç¾ä»£å·´å£«æ ¹æ“šç•¶åœ°éœ€æ±‚é€²è¡Œå®¢è£½åŒ–ã€‚é¦™æ¸¯å„ªå…ˆè€ƒæ…®å¯†é›†è·¯ç·šçš„æœ€å¤§è¼‰å®¢é‡ï¼Œé é è¶…éæ¨™æº–çš„å€«æ•¦å·´å£«ã€‚",
                era5_title: "5. é›¶æ’æ”¾çš„æœªä¾†",
                era5_p: "ä»Šå¤©ï¼Œè©²è¡Œæ¥­æ­£è™•æ–¼å¦ä¸€å€‹è½‰æŠ˜é»ï¼Œé‚å‘é›¶æ’æ”¾çš„æœªä¾†ã€‚åœ¨ç´”é›»å‹•ï¼ˆBEVï¼‰å’Œæ°«ç‡ƒæ–™é›»æ± ï¼ˆFCEVï¼‰æŠ€è¡“ä¹‹é–“çš„é¸æ“‡ï¼Œä»£è¡¨äº†ä¸€é …æ ¹æœ¬æ€§çš„æˆ°ç•¥æ±ºç­–ï¼Œéœ€è¦åœ¨çºŒèˆªé‡Œç¨‹ã€åŠ æ³¨æ™‚é–“å’ŒåŸºç¤è¨­æ–½æŠ•è³‡ä¹‹é–“å–å¾—å¹³è¡¡ã€‚",
                era5_chart_title: "ç´”é›»å‹• vs. æ°«ç‡ƒæ–™é›»æ± æŠ€è¡“æ¯”è¼ƒ",
                era5_feature1_title: "âš¡ ç´”é›»æ± é›»å‹• (BEV)",
                era5_feature1_desc: "èƒ½æºæ•ˆç‡é«˜ï¼Œä½†å—çºŒèˆªé‡Œç¨‹å’Œé•·å……é›»æ™‚é–“ï¼ˆ2.5å°æ™‚ä»¥ä¸Šï¼‰çš„é™åˆ¶ã€‚éœ€è¦åœ¨è»Šå» é€²è¡Œé‡å¤§çš„é›»ç¶²å‡ç´šã€‚",
                era5_feature2_title: "ğŸ’§ æ°«ç‡ƒæ–™é›»æ±  (FCEV)",
                era5_feature2_desc: "æä¾›é•·çºŒèˆªé‡Œç¨‹å’Œå¿«é€ŸåŠ æ³¨ï¼ˆç´„8åˆ†é˜ï¼‰ï¼Œèˆ‡æŸ´æ²¹è»Šç›¸ä¼¼ã€‚ä¾è³´æ–¼ä¸€å€‹ç™¼å±•ä¸­ä¸”ç›®å‰æ˜‚è²´çš„ç¶ è‰²æ°«èƒ½ä¾›æ‡‰éˆã€‚",
                conclusion: "é›™å±¤å·´å£«ä¸æ–·é©æ‡‰ï¼Œè­‰æ˜å…¶ä½œç‚ºä¸–ç•Œä¸Šæœ€æ“æ“ åŸå¸‚çš„é«˜æ•ˆã€é«˜å®¹é‡è§£æ±ºæ–¹æ¡ˆçš„æ°¸æ†é­…åŠ›ï¼Œç¾åœ¨æ­£å¼•é ˜è‘—é‚å‘å¯æŒçºŒæœªä¾†çš„æ½®æµã€‚"
            }
        };

        const chartData = {
            capacityChart1: {
                en: { labels: ['Shillibeer Omnibus (1829)', 'LGOC B-Type (1910)'], datasetLabel: 'Max Passengers' },
                zh: { labels: ['Shillibeer å…¬å…±é¦¬è»Š (1829)', 'LGOC B-Type (1910)'], datasetLabel: 'æœ€é«˜è¼‰å®¢é‡' }
            },
            goldenAgeChart: {
                en: { labels: ['AEC Regent III RT', 'Leyland Titan PD2'], dataset1Label: 'Engine Displacement (Litres)', dataset2Label: 'Seating Capacity', y1Title: 'Engine (L)', y2Title: 'Seats' },
                zh: { labels: ['AEC Regent III RT', 'Leyland Titan PD2'], dataset1Label: 'å¼•æ“æ’æ°£é‡ (å…¬å‡)', dataset2Label: 'åº§ä½æ•¸', y1Title: 'å¼•æ“ (å…¬å‡)', y2Title: 'åº§ä½' }
            },
            globalCapacityChart: {
                en: { labels: ['London (Enviro400EV)', 'Singapore (Enviro500)', 'Hong Kong (Enviro500)'], datasetLabel: 'Total Passenger Capacity' },
                zh: { labels: ['å€«æ•¦ (Enviro400EV)', 'æ–°åŠ å¡ (Enviro500)', 'é¦™æ¸¯ (Enviro500)'], datasetLabel: 'ç¸½è¼‰å®¢é‡' }
            },
            futureTechChart: {
                en: { labels: ['Range (km)', 'Energy Capacity', 'Refuel/Charge Time (mins)', 'Power (kW)'], dataset1Label: 'Wrightbus Electroliner (BEV)', dataset2Label: 'ADL Enviro400EV (BEV)', dataset3Label: 'Wrightbus Hydroliner (FCEV)' },
                zh: { labels: ['çºŒèˆªé‡Œç¨‹ (km)', 'èƒ½æºå®¹é‡', 'åŠ æ³¨/å……é›»æ™‚é–“ (åˆ†é˜)', 'åŠŸç‡ (kW)'], dataset1Label: 'Wrightbus Electroliner (ç´”é›»å‹•)', dataset2Label: 'ADL Enviro400EV (ç´”é›»å‹•)', dataset3Label: 'Wrightbus Hydroliner (æ°«èƒ½)' }
            }
        };

        let currentLang = 'en';
        let charts = {};

        const brandColors = {
            primary: '#005f73',
            secondary: '#0a9396',
            accent: '#94d2bd',
            light: '#e9d8a6',
            dark: '#001219',
        };

        const chartDefaultOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: brandColors.dark,
                        font: { family: "'Inter', 'Noto Sans TC', sans-serif" }
                    }
                },
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                              return label.join(' ');
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                y: {
                    grid: { color: '#e0e0e0' },
                    ticks: { 
                        color: brandColors.dark,
                        font: { family: "'Inter', 'Noto Sans TC', sans-serif" }
                    }
                },
                x: {
                    grid: { display: false },
                    ticks: { 
                        color: brandColors.dark,
                        font: { family: "'Inter', 'Noto Sans TC', sans-serif" }
                    }
                }
            }
        };

        function wrapLabel(str, max) {
            if (str.length <= max) return str;
            let parts = str.split(' ');
            let lines = [];
            let currentLine = '';
            for (let part of parts) {
                if (currentLine.length + part.length + 1 <= max) {
                    currentLine += (currentLine ? ' ' : '') + part;
                } else {
                    lines.push(currentLine);
                    currentLine = part;
                }
            }
            if (currentLine) lines.push(currentLine);
            return lines;
        }

        function setLanguage(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.getAttribute('data-lang');
                if (langData[lang][key]) {
                    el.innerHTML = langData[lang][key];
                }
            });

            document.getElementById('btn-en').classList.toggle('active', lang === 'en');
            document.getElementById('btn-en').classList.toggle('inactive', lang !== 'en');
            document.getElementById('btn-zh').classList.toggle('active', lang === 'zh');
            document.getElementById('btn-zh').classList.toggle('inactive', lang !== 'zh');

            // Update charts
            const capacityData = chartData.capacityChart1[lang];
            charts.capacityChart1.data.labels = capacityData.labels;
            charts.capacityChart1.data.datasets[0].label = capacityData.datasetLabel;
            charts.capacityChart1.update();

            const goldenAgeData = chartData.goldenAgeChart[lang];
            charts.goldenAgeChart.data.labels = goldenAgeData.labels.map(l => wrapLabel(l, 16));
            charts.goldenAgeChart.data.datasets[0].label = goldenAgeData.dataset1Label;
            charts.goldenAgeChart.data.datasets[1].label = goldenAgeData.dataset2Label;
            charts.goldenAgeChart.options.scales.y.title.text = goldenAgeData.y1Title;
            charts.goldenAgeChart.options.scales.y1.title.text = goldenAgeData.y2Title;
            charts.goldenAgeChart.update();

            const globalCapacityData = chartData.globalCapacityChart[lang];
            charts.globalCapacityChart.data.labels = globalCapacityData.labels.map(l => wrapLabel(l, 16));
            charts.globalCapacityChart.data.datasets[0].label = globalCapacityData.datasetLabel;
            charts.globalCapacityChart.update();

            const futureTechData = chartData.futureTechChart[lang];
            charts.futureTechChart.data.labels = futureTechData.labels;
            charts.futureTechChart.data.datasets[0].label = futureTechData.dataset1Label;
            charts.futureTechChart.data.datasets[1].label = futureTechData.dataset2Label;
            charts.futureTechChart.data.datasets[2].label = futureTechData.dataset3Label;
            charts.futureTechChart.update();
        }

        function init() {
            charts.capacityChart1 = new Chart(document.getElementById('capacityChart1'), {
                type: 'bar',
                data: {
                    labels: chartData.capacityChart1.en.labels,
                    datasets: [{
                        label: chartData.capacityChart1.en.datasetLabel,
                        data: [22, 34],
                        backgroundColor: [brandColors.accent, brandColors.primary],
                    }]
                },
                options: chartDefaultOptions
            });

            charts.goldenAgeChart = new Chart(document.getElementById('goldenAgeChart'), {
                type: 'bar',
                data: {
                    labels: chartData.goldenAgeChart.en.labels.map(l => wrapLabel(l, 16)),
                    datasets: [
                        { label: chartData.goldenAgeChart.en.dataset1Label, data: [9.6, 9.8], backgroundColor: brandColors.primary, yAxisID: 'y' },
                        { label: chartData.goldenAgeChart.en.dataset2Label, data: [56, 56], backgroundColor: brandColors.secondary, yAxisID: 'y1' }
                    ]
                },
                options: {
                    ...chartDefaultOptions,
                    scales: {
                        y: { type: 'linear', display: true, position: 'left', title: { display: true, text: chartData.goldenAgeChart.en.y1Title } },
                        y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: chartData.goldenAgeChart.en.y2Title }, grid: { drawOnChartArea: false } },
                        x: { ...chartDefaultOptions.scales.x }
                    }
                }
            });

            charts.globalCapacityChart = new Chart(document.getElementById('globalCapacityChart'), {
                type: 'bar',
                data: {
                    labels: chartData.globalCapacityChart.en.labels.map(l => wrapLabel(l, 16)),
                    datasets: [{
                        label: chartData.globalCapacityChart.en.datasetLabel,
                        data: [87, 132, 142],
                        backgroundColor: [brandColors.accent, brandColors.secondary, brandColors.primary],
                    }]
                },
                options: { ...chartDefaultOptions, plugins: { ...chartDefaultOptions.plugins, legend: { display: false } } }
            });

            charts.futureTechChart = new Chart(document.getElementById('futureTechChart'), {
                type: 'radar',
                data: {
                    labels: chartData.futureTechChart.en.labels,
                    datasets: [
                        { label: chartData.futureTechChart.en.dataset1Label, data: [320, 454, 150, 410], borderColor: brandColors.primary, backgroundColor: 'rgba(0, 95, 115, 0.2)' },
                        { label: chartData.futureTechChart.en.dataset2Label, data: [620, 472, 240, 410], borderColor: brandColors.secondary, backgroundColor: 'rgba(10, 147, 150, 0.2)' },
                        { label: chartData.futureTechChart.en.dataset3Label, data: [470, 27, 8, 410], borderColor: brandColors.accent, backgroundColor: 'rgba(148, 210, 189, 0.2)' },
                    ]
                },
                options: {
                     ...chartDefaultOptions,
                     scales: {
                        r: {
                            angleLines: { color: '#ccc' },
                            grid: { color: '#ddd' },
                            pointLabels: { font: { size: 12, family: "'Inter', 'Noto Sans TC', sans-serif" }, color: brandColors.dark },
                            ticks: { backdropColor: 'white', color: brandColors.dark }
                        }
                    }
                }
            });

            document.getElementById('btn-en').addEventListener('click', () => setLanguage('en'));
            document.getElementById('btn-zh').addEventListener('click', () => setLanguage('zh'));

            setLanguage('en');
        }

        window.onload = init;
    </script>
</body>
</html>
