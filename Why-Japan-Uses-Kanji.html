<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç§„É≥„Éï„Ç©„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØÔºöÊó•Êú¨„ÅØ„Å™„ÅúÊº¢Â≠ó„Çí‰Ωø„ÅÑÁ∂ö„Åë„Çã„ÅÆ„Åã</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Sans+TC:wght@400;700&family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans', 'Noto Sans JP', 'Noto Sans TC', sans-serif;
            background-color: #F8F9FA;
            color: #212121;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .material-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease-in-out;
        }
        .material-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        .section-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: #004AAD;
            border-bottom: 3px solid #0079FF;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .icon-unicode {
            font-size: 3rem;
            line-height: 1;
            color: #0079FF;
        }
        .lang-btn {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 700;
            transition: background-color 0.3s, color 0.3s;
            border: 2px solid transparent;
        }
        .lang-btn.active {
            background-color: #004AAD;
            color: white;
            border-color: #004AAD;
        }
        .lang-btn:not(.active) {
            background-color: white;
            color: #004AAD;
            border-color: #004AAD;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 md:p-8 max-w-7xl">

        <header class="text-center py-12 relative">
            <div id="lang-switcher" class="absolute top-4 right-4 flex space-x-2">
                <button class="lang-btn" data-lang="ja">Êó•Êú¨Ë™û</button>
                <button class="lang-btn" data-lang="zh">‰∏≠Êñá</button>
                <button class="lang-btn" data-lang="en">English</button>
            </div>
            <h1 data-lang-key="headerTitle" class="text-4xl md:text-6xl font-bold text-[#004AAD] mb-4"></h1>
            <p data-lang-key="headerSubtitle" class="text-lg md:text-xl text-gray-700 max-w-3xl mx-auto"></p>
        </header>

        <main class="space-y-16">
            <section id="history" class="material-card p-6 md:p-8">
                <h2 data-lang-key="section1Title" class="section-title"></h2>
                <p data-lang-key="section1P" class="mb-8 text-gray-600"></p>
                <div class="relative w-full">
                    <div class="border-l-4 border-[#52A7FF] ml-4 md:ml-0 md:border-l-0 md:border-t-4 md:w-full absolute md:top-1/2 h-full md:h-0"></div>
                    <div class="flex flex-col md:flex-row justify-between relative text-sm md:text-base">
                        <div class="flex items-start md:flex-col md:items-center w-full md:w-1/4 mb-8 md:mb-0">
                            <div class="bg-[#004AAD] w-8 h-8 rounded-full border-4 border-white flex-shrink-0 -ml-6 md:ml-0 md:-mt-4 z-10"></div>
                            <div class="ml-4 md:ml-0 md:mt-4 text-center">
                                <h3 data-lang-key="timeline1H" class="font-bold text-lg text-[#004AAD]"></h3>
                                <p data-lang-key="timeline1P"></p>
                            </div>
                        </div>
                        <div class="flex items-start md:flex-col md:items-center w-full md:w-1/4 mb-8 md:mb-0">
                            <div class="bg-[#0079FF] w-8 h-8 rounded-full border-4 border-white flex-shrink-0 -ml-6 md:ml-0 md:-mt-4 z-10"></div>
                            <div class="ml-4 md:ml-0 md:mt-4 text-center">
                                <h3 data-lang-key="timeline2H" class="font-bold text-lg text-[#0079FF]"></h3>
                                <p data-lang-key="timeline2P"></p>
                            </div>
                        </div>
                        <div class="flex items-start md:flex-col md:items-center w-full md:w-1/4 mb-8 md:mb-0">
                            <div class="bg-[#52A7FF] w-8 h-8 rounded-full border-4 border-white flex-shrink-0 -ml-6 md:ml-0 md:-mt-4 z-10"></div>
                            <div class="ml-4 md:ml-0 md:mt-4 text-center">
                                <h3 data-lang-key="timeline3H" class="font-bold text-lg text-[#52A7FF]"></h3>
                                <p data-lang-key="timeline3P"></p>
                            </div>
                        </div>
                        <div class="flex items-start md:flex-col md:items-center w-full md:w-1/4">
                            <div class="bg-[#C8E2FF] w-8 h-8 rounded-full border-4 border-white flex-shrink-0 -ml-6 md:ml-0 md:-mt-4 z-10"></div>
                            <div class="ml-4 md:ml-0 md:mt-4 text-center">
                                <h3 data-lang-key="timeline4H" class="font-bold text-lg text-[#C8E2FF]"></h3>
                                <p data-lang-key="timeline4P"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="functionality">
                <h2 data-lang-key="section2Title" class="section-title text-center"></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="material-card p-6 md:p-8">
                        <h3 data-lang-key="func1H" class="text-xl font-bold mb-4 text-[#004AAD]"></h3>
                        <p data-lang-key="func1P" class="mb-4 text-gray-600"></p>
                        <div class="chart-container">
                            <canvas id="readingSpeedChart"></canvas>
                        </div>
                    </div>
                    <div class="material-card p-6 md:p-8">
                        <h3 data-lang-key="func2H" class="text-xl font-bold mb-4 text-[#004AAD]"></h3>
                        <p data-lang-key="func2P" class="mb-4 text-gray-600"></p>
                        <div class="bg-[#C8E2FF] rounded-lg p-6 text-center h-full flex flex-col justify-center">
                            <p class="text-2xl font-bold text-[#004AAD] mb-2">„Åç„Åó„ÇÉ„ÅÆ„Åç„Åó„ÇÉ„Åå„Åç„Åó„ÇÉ„Åß„Åç„Åó„ÇÉ„Åô„ÄÇ</p>
                            <p class="text-gray-600 mb-4">(kisha no kisha ga kisha de kisha su)</p>
                            <p class="text-2xl font-bold text-[#004AAD]">Ë≤¥Á§æ„ÅÆË®òËÄÖ„ÅåÊ±ΩËªä„ÅßÂ∏∞Á§æ„Åô„ÄÇ</p>
                            <p data-lang-key="func2Example" class="text-sm text-gray-500 mt-2"></p>
                        </div>
                    </div>
                    <div class="material-card p-6 md:p-8">
                        <h3 data-lang-key="func3H" class="text-xl font-bold mb-4 text-[#004AAD]"></h3>
                        <p data-lang-key="func3P" class="mb-4 text-gray-600"></p>
                        <div class="chart-container">
                            <canvas id="wordCreationChart"></canvas>
                        </div>
                    </div>
                     <div class="material-card p-6 md:p-8">
                        <h3 data-lang-key="func4H" class="text-xl font-bold mb-4 text-[#004AAD]"></h3>
                        <p data-lang-key="func4P" class="mb-4 text-gray-600"></p>
                        <div class="flex justify-around items-center h-full text-center">
                            <div>
                                <p class="icon-unicode">‚òÄÔ∏è</p>
                                <p class="text-2xl font-bold mt-2">Êöë„ÅÑ</p>
                                <p class="text-gray-600">(atsui)</p>
                                <p data-lang-key="func4Ex1" class="text-sm"></p>
                            </div>
                            <div>
                                <p class="icon-unicode">üî•</p>
                                <p class="text-2xl font-bold mt-2">ÁÜ±„ÅÑ</p>
                                <p class="text-gray-600">(atsui)</p>
                                <p data-lang-key="func4Ex2" class="text-sm"></p>
                            </div>
                            <div>
                                <p class="icon-unicode">üìö</p>
                                <p class="text-2xl font-bold mt-2">Âéö„ÅÑ</p>
                                <p class="text-gray-600">(atsui)</p>
                                <p data-lang-key="func4Ex3" class="text-sm"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="debate" class="material-card p-6 md:p-8">
                <h2 data-lang-key="section3Title" class="section-title"></h2>
                <p data-lang-key="section3P" class="mb-8 text-gray-600"></p>
                <div class="chart-container h-[400px]">
                    <canvas id="kanjiPolicyChart"></canvas>
                </div>
                 <p data-lang-key="section3Note" class="text-center text-gray-600 mt-4"></p>
            </section>

            <section id="comparison" class="material-card p-6 md:p-8 overflow-x-auto">
                <h2 data-lang-key="section4Title" class="section-title"></h2>
                <p data-lang-key="section4P" class="mb-8 text-gray-600"></p>
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-[#004AAD] text-white">
                            <th data-lang-key="tableH1" class="p-3 font-bold"></th>
                            <th data-lang-key="tableH2" class="p-3 font-bold"></th>
                            <th data-lang-key="tableH3" class="p-3 font-bold"></th>
                            <th data-lang-key="tableH4" class="p-3 font-bold"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-gray-200">
                            <td data-lang-key="tableR1C1" class="p-3 font-bold"></td>
                            <td data-lang-key="tableR1C2" class="p-3"></td>
                            <td data-lang-key="tableR1C3" class="p-3"></td>
                            <td data-lang-key="tableR1C4" class="p-3"></td>
                        </tr>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <td data-lang-key="tableR2C1" class="p-3 font-bold"></td>
                            <td data-lang-key="tableR2C2" class="p-3"></td>
                            <td data-lang-key="tableR2C3" class="p-3"></td>
                            <td data-lang-key="tableR2C4" class="p-3"></td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td data-lang-key="tableR3C1" class="p-3 font-bold"></td>
                            <td data-lang-key="tableR3C2" class="p-3"></td>
                            <td data-lang-key="tableR3C3" class="p-3"></td>
                            <td data-lang-key="tableR3C4" class="p-3"></td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td data-lang-key="tableR4C1" class="p-3 font-bold"></td>
                            <td data-lang-key="tableR4C2" class="p-3"></td>
                            <td data-lang-key="tableR4C3" class="p-3"></td>
                            <td data-lang-key="tableR4C4" class="p-3"></td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>

        <footer class="text-center mt-16 py-8 border-t border-gray-300">
            <p data-lang-key="footer" class="text-gray-600"></p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const translations = {
                headerTitle: {
                    ja: 'Êó•Êú¨„ÅØ„Å™„ÅúÊº¢Â≠ó„Çí‰Ωø„ÅÑÁ∂ö„Åë„Çã„ÅÆ„ÅãÔºü',
                    zh: 'Êó•Êú¨ÁÇ∫‰Ωï‰ΩøÁî®Êº¢Â≠óÔºü',
                    en: 'Why Does Japan Continue to Use Kanji?'
                },
                headerSubtitle: {
                    ja: '„Éá„Ç∏„Çø„É´ÊôÇ‰ª£„Å´„Åä„Åë„ÇãË§áÈõë„Å™ÊñáÂ≠ó‰ΩìÁ≥ª„ÅÆÂ≠òÁ∂ö„ÄÇ„Åù„Çå„ÅØÊ≠¥Âè≤ÁöÑÈÅ∫Áî£„Åß„ÅÇ„Çã„Å†„Åë„Åß„Å™„Åè„ÄÅË®ÄË™ûÁöÑ„ÉªÊ©üËÉΩÁöÑ„Å™ÂøÖÁÑ∂ÊÄß„Å´Âü∫„Å•„ÅÑ„ÅüÂêàÁêÜÁöÑ„Å™ÈÅ∏Êäû„Åß„Åô„ÄÇ',
                    zh: 'Âú®Êï∏‰ΩçÊôÇ‰ª£Ôºå‰∏ÄÂÄãË§áÈõúÊõ∏ÂØ´Á≥ªÁµ±ÁöÑÂ≠òÁ∫å„ÄÇÈÄô‰∏çÂÉÖÊòØÊ≠∑Âè≤ÈÅ∫Áî¢ÔºåÊõ¥ÊòØÂü∫ÊñºË™ûË®ÄÂäüËÉΩËàáÊñáÂåñÈúÄÊ±ÇÁöÑÁêÜÊÄßÈÅ∏Êìá„ÄÇ',
                    en: 'The survival of a complex writing system in the digital age. This is not just a historical legacy, but a rational choice based on linguistic and functional necessity.'
                },
                section1Title: {
                    ja: 'Á¨¨‰∏ÄÁ´†ÔºöÊñáÂ≠ó„ÅÆÂ§úÊòé„Åë„Å®ËûçÂêà„ÅÆÈÅì',
                    zh: 'Á¨¨‰∏ÄÁ´†ÔºöÊñáÂ≠óÁöÑÈªéÊòéËàáËûçÂêà‰πãÈÅì',
                    en: 'Chapter 1: The Dawn of Writing & Path of Fusion'
                },
                section1P: {
                    ja: 'Êó•Êú¨„ÅÆÊñáÂ≠ó„ÅÆÊ≠¥Âè≤„ÅØ„ÄÅÊº¢Â≠ó„ÅÆÂ∞éÂÖ•„Åã„ÇâÂßã„Åæ„Çä„Åæ„Åó„Åü„ÄÇ„Åù„Çå„ÅØÂçò„Å™„ÇãÊñáÂ≠ó„ÅÆÂÄüÁî®„Åß„ÅØ„Å™„Åè„ÄÅË®ÄË™û„Å®ÊñáÂåñ„ÇíÊ†πÊú¨„Åã„ÇâÂ§â„Åà„Åü„ÄÅ1600Âπ¥‰ª•‰∏ä„Å´„Çè„Åü„ÇãÂâµÈÄ†ÁöÑ„Å™ÈÅ©Âøú„ÅÆÁâ©Ë™û„Åß„Åô„ÄÇ',
                    zh: 'Êó•Êú¨ÁöÑÊñáÂ≠óÂè≤ÂßãÊñºÊº¢Â≠óÁöÑÂºïÈÄ≤„ÄÇÈÄô‰∏çÂÉÖÂÉÖÊòØÂñÆÁ¥îÁöÑÊñáÂ≠óÂÄüÁî®ÔºåËÄåÊòØ‰∏ÄÂÄãÈï∑ÈÅî1600Â§öÂπ¥ÔºåÂæûÊ†πÊú¨‰∏äÊîπËÆä‰∫ÜË™ûË®ÄÂíåÊñáÂåñÁöÑÂâµÈÄ†ÊÄßÈÅ©ÊáâÁöÑÊïÖ‰∫ã„ÄÇ',
                    en: 'The history of writing in Japan began with the introduction of Kanji. This was not a mere borrowing of characters, but a 1600-year story of creative adaptation that fundamentally changed the language and culture.'
                },
                timeline1H: { ja: '4-5‰∏ñÁ¥Ä', zh: '4-5‰∏ñÁ¥Ä', en: '4th-5th Cent.' },
                timeline1P: {
                    ja: 'Êº¢Â≠ó„ÅÆÊú¨Ê†ºÁöÑ‰ºùÊù•„ÄÇÊúùÈÆÆÂçäÂ≥∂ÁµåÁî±„Åß„ÄÅ‰ªèÊïô„ÉªÂÑíÊïôÊÄùÊÉ≥„Å®ÂÖ±„Å´„Ç®„É™„Éº„ÉàÂ±§„Å∏„ÄÇ',
                    zh: 'Êº¢Â≠óÊ≠£ÂºèÂÇ≥ÂÖ•„ÄÇÁ∂ìÁî±ÊúùÈÆÆÂçäÂ≥∂ÔºåËàá‰ΩõÊïô„ÄÅÂÑíÊïôÊÄùÊÉ≥‰∏ÄÂêåÂÇ≥ÂÖ•Á≤æËã±ÈöéÂ±§„ÄÇ',
                    en: 'Full-scale introduction of Kanji. Arrived via the Korean peninsula with Buddhism and Confucianism for the elite.'
                },
                timeline2H: { ja: '8‰∏ñÁ¥Ä', zh: '8‰∏ñÁ¥Ä', en: '8th Century' },
                timeline2P: {
                    ja: '‰∏áËëâ‰ªÆÂêç„ÅÆÊàêÁ´ã„ÄÇÊº¢Â≠ó„ÅÆÈü≥„ÇíÂÄü„Çä„Å¶Êó•Êú¨Ë™û„ÇíË°®Ë®ò„ÄÇ„Äé‰∏áËëâÈõÜ„Äè„ÅåÁ∑®Á∫Ç„Åï„Çå„Çã„ÄÇ',
                    zh: 'Ëê¨ËëâÂÅáÂêçÊàêÁ´ã„ÄÇÂÄüÁî®Êº¢Â≠óÁöÑËÆÄÈü≥‰æÜË°®Ë®òÊó•Ë™û„ÄÇ„ÄäËê¨ËëâÈõÜ„ÄãÁ∑®Á∫ÇÂÆåÊàê„ÄÇ',
                    en: 'Man\'y≈çgana is established, using Kanji for their phonetic value to write Japanese, as seen in the "Man\'y≈çsh≈´" anthology.'
                },
                timeline3H: { ja: '9-10‰∏ñÁ¥Ä', zh: '9-10‰∏ñÁ¥Ä', en: '9th-10th Cent.' },
                timeline3P: {
                    ja: '‰ªÆÂêç„ÅÆË™ïÁîü„ÄÇ‰∏áËëâ‰ªÆÂêç„ÅÆËçâÊõ∏‰Ωì„Åã„ÇâÂπ≥‰ªÆÂêç„Åå„ÄÅÊ•∑Êõ∏„ÅÆÈÉ®È¶ñ„Åã„ÇâÁâá‰ªÆÂêç„ÅåÁîü„Åæ„Çå„Çã„ÄÇ',
                    zh: 'ÂÅáÂêçË™ïÁîü„ÄÇÂæûËê¨ËëâÂÅáÂêçÁöÑËçâÊõ∏È´îË™ïÁîü‰∫ÜÂπ≥ÂÅáÂêçÔºåÂæûÊ•∑Êõ∏ÁöÑÈÉ®È¶ñË™ïÁîü‰∫ÜÁâáÂÅáÂêç„ÄÇ',
                    en: 'The birth of Kana. Hiragana evolved from cursive Man\'y≈çgana, and Katakana from components of regular script Kanji.'
                },
                timeline4H: { ja: 'ÁèæÂú®', zh: 'ÁèæÂú®', en: 'Present Day' },
                timeline4P: {
                    ja: 'Êº¢Â≠ó‰ªÆÂêç‰∫§„Åò„ÇäÊñá„ÄÇÊº¢Â≠ó„ÅßÂÆüË≥™ÁöÑÊÑèÂë≥„Çí„ÄÅ‰ªÆÂêç„ÅßÊñáÊ≥ïÁöÑÊ©üËÉΩ„ÇíË°®„Åô„ÄÅ‰∏ñÁïå„Åß„ÇÇÈ°û„ÇíË¶ã„Å™„ÅÑÊõ∏Ë®ò‰ΩìÁ≥ª„ÄÇ',
                    zh: 'Êº¢Â≠óÂÅáÂêçÊ∑∑ÂêàÊñá„ÄÇÊº¢Â≠óË°®ÈÅîÂØ¶Ë≥™ÊÑèÁæ©ÔºåÂÅáÂêçËôïÁêÜË™ûÊ≥ïÂäüËÉΩÔºåÊòØ‰∏ñÁïåÁΩïË¶ãÁöÑÊõ∏ÂØ´Á≥ªÁµ±„ÄÇ',
                    en: 'Kanji-Kana mixed script. A unique system where Kanji convey core meaning and Kana handle grammatical functions.'
                },
                section2Title: {
                    ja: 'Á¨¨‰∫åÁ´†ÔºöÁèæ‰ª£Êó•Êú¨Ë™û„Å´„Åä„Åë„ÇãÊº¢Â≠ó„ÅÆÊ©üËÉΩÊÄß',
                    zh: 'Á¨¨‰∫åÁ´†ÔºöÊº¢Â≠óÂú®Áèæ‰ª£Êó•Ë™û‰∏≠ÁöÑÂäüËÉΩÊÄß',
                    en: 'Chapter 2: The Functionality of Kanji in Modern Japanese'
                },
                func1H: {
                    ja: '1. ÂúßÂÄíÁöÑ„Å™ÊÉÖÂ†±‰ºùÈÅîÂäπÁéá',
                    zh: '1. ÂçìË∂äÁöÑË≥áË®äÂÇ≥ÈÅîÊïàÁéá',
                    en: '1. Superior Information Efficiency'
                },
                func1P: {
                    ja: 'Êº¢Â≠ó„Å®‰ªÆÂêç„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Åì„Å®„Åß„ÄÅÂçòË™û„ÅÆÂå∫Âàá„Çä„ÅåË¶ñË¶öÁöÑ„Å´ÊòéÁ¢∫„Å´„Å™„Çä„ÄÅÁ¥îÁ≤ã„Å™Ë°®Èü≥ÊñáÂ≠ó„ÅÆ„Åø„ÅÆÊñá„Çà„Çä„ÇÇÈÄü„Åè„ÄÅÊ≠£Á¢∫„Å´ÂÜÖÂÆπ„ÇíÊääÊè°„Åß„Åç„Åæ„Åô„ÄÇ',
                    zh: 'Êº¢Â≠óËàáÂÅáÂêçÁöÑÁµÑÂêà‰ΩøÂñÆË©ûÂàÜÁïåÂú®Ë¶ñË¶∫‰∏äÊõ¥Ê∏ÖÊô∞ÔºåÊØîÁ¥îË°®Èü≥ÊñáÂ≠óÁöÑÂè•Â≠êÊõ¥ËÉΩÂø´ÈÄü„ÄÅÊ∫ñÁ¢∫Âú∞ÁêÜËß£ÂÖßÂÆπ„ÄÇ',
                    en: 'The mix of Kanji and Kana visually clarifies word boundaries, allowing for faster and more accurate comprehension than purely phonetic scripts.'
                },
                func2H: {
                    ja: '2. ÂêåÈü≥Áï∞Áæ©Ë™û„ÅÆÂÆåÂÖ®„Å™Ëß£Ê±∫',
                    zh: '2. ÂÆåÁæéËß£Ê±∫ÂêåÈü≥Áï∞Áæ©Ë©û',
                    en: '2. The Ultimate Solution for Homophones'
                },
                func2P: {
                    ja: 'Êó•Êú¨Ë™û„Å´„ÅØÂêåÈü≥Áï∞Áæ©Ë™û„ÅåÈùûÂ∏∏„Å´Â§ö„ÅÑ„Åß„Åô„ÄÇÊº¢Â≠ó„ÅØ„ÄÅ„Åì„Çå„Çâ„ÇíÊõ∏Èù¢‰∏ä„ÅßÊòéÁ¢∫„Å´Âå∫Âà•„Åô„Çã„Åü„ÇÅ„ÅÆ‰∏çÂèØÊ¨†„Å™„ÉÑ„Éº„É´„Åß„Åô„ÄÇ',
                    zh: 'Êó•Ë™û‰∏≠Â≠òÂú®Â§ßÈáèÂêåÈü≥Áï∞Áæ©Ë©û„ÄÇÊº¢Â≠óÊòØÂú®Êõ∏Èù¢‰∏äÊòéÁ¢∫ÂçÄÂàÜÂÆÉÂÄëÁöÑÂøÖË¶ÅÂ∑•ÂÖ∑„ÄÇ',
                    en: 'Japanese has a vast number of homophones. Kanji are an indispensable tool for distinguishing them in writing.'
                },
                func2Example: {
                    ja: '(Ë≤¥Á§æ: your company, Ë®òËÄÖ: reporter, Ê±ΩËªä: train, Â∏∞Á§æ: return to office)',
                    zh: '(Ë≤¥Á§æ: Ë≤¥ÂÖ¨Âè∏, Ë®òËÄÖ: Ë®òËÄÖ, Ê±ΩËªä: ÁÅ´Ëªä, Â∏∞Á§æ: ËøîÂõûÂÖ¨Âè∏)',
                    en: '(Ë≤¥Á§æ: your company, Ë®òËÄÖ: reporter, Ê±ΩËªä: train, Â∏∞Á§æ: return to office)'
                },
                func3H: {
                    ja: '3. ÁÑ°Èôê„ÅÆÈÄ†Ë™ûËÉΩÂäõ',
                    zh: '3. ÁÑ°ÈôêÁöÑÈÄ†Ë©ûËÉΩÂäõ',
                    en: '3. Infinite Word-Creation Power'
                },
                func3P: {
                    ja: 'Êó¢Â≠ò„ÅÆÊº¢Â≠ó„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Åì„Å®„Åß„ÄÅÊñ∞„Åó„ÅÑÊ¶ÇÂøµ„ÇíË´ñÁêÜÁöÑ„Åã„Å§Áõ¥ÊÑüÁöÑ„Å´Ë°®Áèæ„Åô„ÇãË®ÄËëâ„ÇíÂâµÈÄ†„Åß„Åç„Åæ„Åô„ÄÇ„Åì„Çå„ÅØËøë‰ª£Âåñ„ÅÆÂéüÂãïÂäõ„Å®„Å™„Çä„Åæ„Åó„Åü„ÄÇ',
                    zh: 'ÈÄöÈÅéÁµÑÂêàÁèæÊúâÊº¢Â≠óÔºåÂèØ‰ª•ÂâµÈÄ†Âá∫ÈÇèËºØÊ∏ÖÊô∞„ÄÅÁõ¥ËßÄË°®ÈÅîÊñ∞Ê¶ÇÂøµÁöÑË©ûÂΩô„ÄÇÈÄôÊàêÁÇ∫‰∫ÜËøë‰ª£ÂåñÁöÑÈ©ÖÂãïÂäõ„ÄÇ',
                    en: 'By combining existing Kanji, new words for new concepts can be created logically and intuitively. This was a driving force of modernization.'
                },
                func4H: {
                    ja: '4. ÁπäÁ¥∞„Å™ÊÑèÂë≥„ÅÆË°®Áèæ',
                    zh: '4. Á¥∞ËÜ©ÁöÑË™ûÁæ©Ë°®ÈÅî',
                    en: '4. Nuanced Semantic Expression'
                },
                func4P: {
                    ja: 'Âêå„ÅòË™≠„ÅøÊñπ„Åß„ÇÇ„ÄÅÁï∞„Å™„ÇãÊº¢Â≠ó„Çí‰Ωø„ÅÜ„Åì„Å®„ÅßÂæÆÂ¶ô„Å™„Éã„É•„Ç¢„É≥„Çπ„ÅÆÈÅï„ÅÑ„ÇíÊ≠£Á¢∫„Å´‰ºù„ÅàÂàÜ„Åë„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ',
                    zh: 'Âç≥‰ΩøËÆÄÈü≥Áõ∏ÂêåÔºå‰ΩøÁî®‰∏çÂêåÁöÑÊº¢Â≠ó‰πüËÉΩÊ∫ñÁ¢∫ÂÇ≥ÈÅîÁ¥∞ÂæÆÁöÑË™ûÁæ©Â∑ÆÁï∞„ÄÇ',
                    en: 'Even with the same pronunciation, different Kanji can be used to convey subtle differences in meaning accurately.'
                },
                func4Ex1: { ja: 'Ê∞óÂÄô„ÅÆÊöë„Åï', zh: 'Ê∞£ÂÄôÁöÑÁÇéÁÜ±', en: 'Hot (weather)' },
                func4Ex2: { ja: 'Áâ©‰Ωì„ÅÆÁÜ±„Åï', zh: 'Áâ©È´îÁöÑÁáôÁÜ±', en: 'Hot (object)' },
                func4Ex3: { ja: 'Áâ©‰Ωì„ÅÆÂéö„Åø', zh: 'Áâ©È´îÁöÑÂéöÂ∫¶', en: 'Thick (object)' },
                section3Title: {
                    ja: 'Á¨¨‰∏âÁ´†ÔºöÂ≠òÂªÉË´ñ‰∫â„Åã„Çâ„ÄåÂà∂Èôê„Äç„Å∏',
                    zh: 'Á¨¨‰∏âÁ´†ÔºöÂæûÂ≠òÂª¢‰πãÁà≠Âà∞„ÄåÈôêÂà∂„Äç',
                    en: 'Chapter 3: From Debate to "Limitation"'
                },
                section3P: {
                    ja: 'ÊòéÊ≤ªÁ∂≠Êñ∞Âæå„ÄÅ„ÄåÊº¢Â≠ó„ÅØÂ≠¶Áøí„ÅåÂõ∞Èõ£„ÅßËøë‰ª£Âåñ„ÅÆÂ¶®„Åí„Äç„Å®„Åô„ÇãÊº¢Â≠óÂªÉÊ≠¢Ë´ñ„ÅåÂè∞È†≠„Åó„Åæ„Åó„Åü„ÄÇ„Åó„Åã„Åó„ÄÅ„Åù„ÅÆÂÆüÁî®ÊÄß„Å®ÊñáÂåñÁöÑÈáçË¶ÅÊÄß„Åã„ÇâÂÆåÂÖ®„Å™ÂªÉÊ≠¢„Å´„ÅØËá≥„Çâ„Åö„ÄÅ„ÄåÂà∂Èôê„Å®Ê®ôÊ∫ñÂåñ„Äç„Å®„ÅÑ„ÅÜÁèæÂÆüÁöÑ„Å™Â¶•ÂçîÁ≠ñ„ÅåÂèñ„Çâ„Çå„Åæ„Åó„Åü„ÄÇ„Åù„ÅÆÁµêÊûú„ÅåÂ∏∏Áî®Êº¢Â≠ó„ÅÆÂà∂ÂÆö„Åß„Åô„ÄÇ',
                    zh: 'ÊòéÊ≤ªÁ∂≠Êñ∞ÂæåÔºåË™çÁÇ∫„ÄåÊº¢Â≠óÂ≠∏ÁøíÂõ∞Èõ£ÔºåÈòªÁ§ôËøë‰ª£Âåñ„ÄçÁöÑÂª¢Ê≠¢Ë´ñÊä¨È†≠„ÄÇ‰ΩÜÂõ†ÂÖ∂ÂØ¶Áî®ÊÄßËàáÊñáÂåñÈáçË¶ÅÊÄßÔºåÊúÄÁµÇÊú™ËÉΩÂÆåÂÖ®Âª¢Èô§ÔºåËÄåÊòØÊé°Âèñ‰∫Ü„ÄåÈôêÂà∂ËàáÊ®ôÊ∫ñÂåñ„ÄçÁöÑÂãôÂØ¶Â¶•ÂçîÔºåÂÖ∂ÁµêÊûú‰æøÊòØÂ∏∏Áî®Êº¢Â≠óÁöÑÂà∂ÂÆö„ÄÇ',
                    en: 'After the Meiji Restoration, arguments to abolish Kanji arose, claiming it hindered modernization. However, due to its practicality and cultural importance, a compromise of "limitation and standardization" was reached, resulting in the J≈çy≈ç Kanji list.'
                },
                section3Note: {
                    ja: 'Â∏∏Áî®Êº¢Â≠ó„ÅÆÊï∞„ÅØ„ÄÅÁ§æ‰ºö„ÅÆÂ§âÂåñ„Å´Âøú„Åò„Å¶Ë¶ãÁõ¥„Åï„Çå„ÄÅ2010Âπ¥„Å´„ÅØ2,136Â≠ó„Å´Â¢óÂä†„Åó„Åæ„Åó„Åü„ÄÇ',
                    zh: 'Â∏∏Áî®Êº¢Â≠óÁöÑÊï∏ÈáèÈö®Á§æÊúÉËÆäÈÅ∑ËÄåË™øÊï¥ÔºåÊñº2010Âπ¥Â¢ûÂä†Ëá≥2,136Â≠ó„ÄÇ',
                    en: 'The number of J≈çy≈ç Kanji is revised according to societal changes, increasing to 2,136 characters in 2010.'
                },
                section4Title: {
                    ja: 'Á¨¨ÂõõÁ´†ÔºöÊù±„Ç¢„Ç∏„Ç¢„ÅÆÂàÜÂ≤êË∑Ø',
                    zh: 'Á¨¨ÂõõÁ´†ÔºöÊù±‰∫ûÁöÑÂ≤îË∑Ø',
                    en: 'Chapter 4: The East Asian Divergence'
                },
                section4P: {
                    ja: 'Âêå„Åò„ÅèÊº¢Â≠óÊñáÂåñÂúè„Å´„ÅÇ„Å£„ÅüÈüìÂõΩ„Å®„Éô„Éà„Éä„É†„ÅØ„ÄÅËøë‰ª£Âåñ„ÅÆÈÅéÁ®ã„ÅßÊº¢Â≠ó„ÇíÂªÉÊ≠¢„Åô„ÇãÈÅì„ÇíÈÅ∏„Å≥„Åæ„Åó„Åü„ÄÇÊó•Êú¨„ÅÆÁã¨Ëá™ÊÄß„ÅØ„ÄÅË®ÄË™û„ÅÆËûçÂêàÊ∑±Â∫¶„Å®„ÄÅÊ§çÊ∞ëÂú∞Âåñ„ÇíÂÖç„Çå„Åü„Åì„Å®„ÅßËá™ÂõΩ„ÅÆË®ÄË™ûÊîøÁ≠ñ„Çí‰∏ª‰ΩìÁöÑ„Å´Ê±∫ÂÆö„Åß„Åç„ÅüÊ≠¥Âè≤ÁöÑËÉåÊôØ„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    zh: 'ÂêåÂ±¨Êº¢Â≠óÊñáÂåñÂúàÁöÑÈüìÂúãËàáË∂äÂçóÔºåÂú®Ëøë‰ª£ÂåñÈÅéÁ®ã‰∏≠ÈÅ∏Êìá‰∫ÜÂª¢Èô§Êº¢Â≠ó„ÄÇÊó•Êú¨ÁöÑÁç®ÁâπÊÄßÂú®ÊñºÂÖ∂Ë™ûË®ÄËûçÂêàÁöÑÊ∑±Â∫¶Ôºå‰ª•ÂèäÂÖçÊñºË¢´ÊÆñÊ∞ëÔºåÂæûËÄåËÉΩËá™‰∏ªÊ±∫ÂÆöË™ûË®ÄÊîøÁ≠ñÁöÑÊ≠∑Âè≤ËÉåÊôØ„ÄÇ',
                    en: 'Korea and Vietnam, also part of the Sinosphere, chose to abolish Chinese characters during modernization. Japan\'s unique path stems from its deep linguistic fusion and a history free from colonization, allowing autonomous language policy.'
                },
                tableH1: { ja: 'ÊØîËºÉÈ†ÖÁõÆ', zh: 'ÊØîËºÉÈ†ÖÁõÆ', en: 'Comparison' },
                tableH2: { ja: 'Êó•Êú¨', zh: 'Êó•Êú¨', en: 'Japan' },
                tableH3: { ja: 'ÈüìÂõΩ', zh: 'ÈüìÂúã', en: 'Korea' },
                tableH4: { ja: '„Éô„Éà„Éä„É†', zh: 'Ë∂äÂçó', en: 'Vietnam' },
                tableR1C1: { ja: '‰∏ªË¶Å„Å™Êú¨ÂúüÊñáÂ≠ó', zh: '‰∏ªË¶ÅÊú¨ÂúüÊñáÂ≠ó', en: 'Primary Native Script' },
                tableR1C2: { ja: '‰ªÆÂêç (Êº¢Â≠ó„ÅÆÁ∞°Áï•Âåñ)', zh: 'ÂÅáÂêç (Êº¢Â≠óÁöÑÁ∞°Âåñ)', en: 'Kana (simplified Kanji)' },
                tableR1C3: { ja: '„Éè„É≥„Ç∞„É´ (Áã¨Ëá™Áô∫Êòé„ÅÆË°®Èü≥ÊñáÂ≠ó)', zh: 'Ë´∫Êñá (Áç®Ëá™ÁôºÊòéÁöÑË°®Èü≥ÊñáÂ≠ó)', en: 'Hangul (unique phonetic invention)' },
                tableR1C4: { ja: '„ÇØ„Ç™„ÉÉ„ÇØ„Éª„Ç∞„Éº („É©„ÉÜ„É≥ÊñáÂ≠ó„Éô„Éº„Çπ)', zh: 'ÂúãË™ûÂ≠ó (Âü∫ÊñºÊãâ‰∏ÅÂ≠óÊØç)', en: 'Qu·ªëc Ng·ªØ (Latin-based)' },
                tableR2C1: { ja: 'Êº¢Â≠ó„Å®„ÅÆËûçÂêà', zh: 'ËàáÊº¢Â≠óÁöÑËûçÂêà', en: 'Integration with Kanji' },
                tableR2C2: { ja: 'ÈùûÂ∏∏„Å´Ê∑±„ÅÑ (Èü≥Ë™≠„Åø„ÉªË®ìË™≠„Åø)', zh: 'ÈùûÂ∏∏Ê∑± (Èü≥ËÆÄ„ÄÅË®ìËÆÄ)', en: 'Very Deep (On\'yomi & Kun\'yomi)' },
                tableR2C3: { ja: '‰∏≠Á®ãÂ∫¶ (Êº¢Ë™û„ÅÆÂÄüÁî®„Åå‰∏ª)', zh: '‰∏≠Á≠â (‰∏ªË¶ÅÂÄüÁî®Êº¢Ë™ûË©û)', en: 'Moderate (mainly loanwords)' },
                tableR2C4: { ja: '‰∏≠Á®ãÂ∫¶ (Êº¢Ë∂äË™û„ÅÆÂÄüÁî®„Åå‰∏ª)', zh: '‰∏≠Á≠â (‰∏ªË¶ÅÂÄüÁî®Êº¢Ë∂äË©û)', en: 'Moderate (mainly loanwords)' },
                tableR3C1: { ja: 'ÊñáÂ≠óÊîπÈù©„ÅÆÂéüÂãïÂäõ', zh: 'ÊñáÂ≠óÊîπÈù©ÁöÑÈ©ÖÂãïÂäõ', en: 'Driver of Reform' },
                tableR3C2: { ja: 'ÂÜÖÈÉ®„ÅÆËøë‰ª£ÂåñË´ñ‰∫â„Å®Â¶•Âçî', zh: 'ÂÖßÈÉ®Ëøë‰ª£ÂåñË´ñÁà≠ËàáÂ¶•Âçî', en: 'Internal debate & compromise' },
                tableR3C3: { ja: 'Ê∞ëÊóè‰∏ªÁæ©„Å®ËÑ±Ê§çÊ∞ëÂú∞Âåñ', zh: 'Ê∞ëÊóè‰∏ªÁæ©ËàáÂéªÊÆñÊ∞ëÂåñ', en: 'Nationalism & decolonization' },
                tableR3C4: { ja: '„Éï„É©„É≥„ÇπÊ§çÊ∞ëÂú∞ÊîøÁ≠ñ„Å®Áã¨Á´ãÂæå„ÅÆÂäπÁéáÂåñ', zh: 'Ê≥ïÂúãÊÆñÊ∞ëÊîøÁ≠ñËàáÁç®Á´ãÂæåÁöÑÊïàÁéáÈúÄÊ±Ç', en: 'French colonialism & post-independence efficiency' },
                tableR4C1: { ja: 'ÁèæÂú®„ÅÆÊº¢Â≠ó„ÅÆÂú∞‰Ωç', zh: 'Áèæ‰ªäÊº¢Â≠óÂú∞‰Ωç', en: 'Current Status of Kanji' },
                tableR4C2: { ja: '‰∏çÂèØÊ¨†„Å™ÊßãÊàêË¶ÅÁ¥†', zh: '‰∏çÂèØÊàñÁº∫ÁöÑÁµÑÊàêÈÉ®ÂàÜ', en: 'Indispensable component' },
                tableR4C3: { ja: '„Åª„ÅºÂªÉÊ≠¢ (ÈôêÂÆöÁöÑ‰ΩøÁî®)', zh: 'Âü∫Êú¨Âª¢Èô§ (ÊúâÈôê‰ΩøÁî®)', en: 'Mostly abolished (limited use)' },
                tableR4C4: { ja: 'ÂÆåÂÖ®ÂªÉÊ≠¢', zh: 'ÂÆåÂÖ®Âª¢Èô§', en: 'Completely abolished' },
                footer: {
                    ja: 'ÁµêË´ñ„Å®„Åó„Å¶„ÄÅÊó•Êú¨„ÅÆÊº¢Â≠ó‰ΩøÁî®„ÅØÊ≠¥Âè≤ÁöÑÊÖ£ÊÄß„Åß„ÅØ„Å™„Åè„ÄÅË®ÄË™û„ÅÆÊ©üËÉΩÊÄß„Å®ÊñáÂåñ„ÅÆÈÄ£Á∂öÊÄß„Çí‰øù„Å§„Åü„ÇÅ„ÅÆ„ÄÅ„ÉÄ„Ç§„Éä„Éü„ÉÉ„ÇØ„ÅßÂêàÁêÜÁöÑ„Å™ÈÅ∏Êäû„Åß„ÅÇ„ÇäÁ∂ö„Åë„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                    zh: 'Á∏Ω‰πãÔºåÊó•Êú¨‰ΩøÁî®Êº¢Â≠ó‰∏¶ÈùûÊ≠∑Âè≤ÊÖ£ÊÄßÔºåËÄåÊòØÁÇ∫‰∫Ü‰øùÊåÅË™ûË®ÄÂäüËÉΩÊÄßËàáÊñáÂåñÈÄ£Á∫åÊÄßÔºåËá≥‰ªä‰ªçÊòØ‰∏ÄÈ†ÖÂãïÊÖã‰∏îÁêÜÊÄßÁöÑÈÅ∏Êìá„ÄÇ',
                    en: 'In conclusion, Japan\'s use of Kanji is not historical inertia, but a dynamic and rational choice to maintain linguistic functionality and cultural continuity.'
                }
            };
            
            const chartData = {
                readingSpeed: {
                    ja: { labels: ['Êº¢Â≠ó‰ªÆÂêç‰∫§„Åò„ÇäÊñá', '‰ªÆÂêç„ÅÆ„Åø„ÅÆÊñá'], title: 'Áõ∏ÂØæÁöÑ„Å™Ë™≠Ëß£ÈÄüÂ∫¶ (%)' },
                    zh: { labels: ['Êº¢Â≠óÂÅáÂêçÊ∑∑ÂêàÊñá', 'Á¥îÂÅáÂêçÊñá'], title: 'Áõ∏Â∞çÈñ±ËÆÄÈÄüÂ∫¶ (%)' },
                    en: { labels: ['Kanji-Kana Mix', 'Kana Only'], title: 'Relative Reading Speed (%)' }
                },
                wordCreation: {
                    ja: { label: '„ÄåÈõª„Äç„Åã„ÇâÊ¥æÁîü„Åó„ÅüÂíåË£ΩÊº¢Ë™û', data: [{ x: 3, y: 5, r: 35, label: 'ÈõªË©±'}, { x: 6, y: 7, r: 30, label: 'ÈõªÊ∞ó'}, { x: 8, y: 3, r: 25, label: 'ÈõªËªä'}, { x: 4.5, y: 2, r: 20, label: 'ÈõªÂ≠ê'}, { x: 1, y: 8, r: 18, label: 'ÈõªÊ±†'}], center: { x: 5, y: 5, r: 40, label: 'Èõª'} },
                    zh: { label: 'Áî±„ÄåÈõª„ÄçË°çÁîüÁöÑÂíåË£ΩÊº¢Ë™û', data: [{ x: 3, y: 5, r: 35, label: 'ÈõªË©±'}, { x: 6, y: 7, r: 30, label: 'ÈõªÊ∞£'}, { x: 8, y: 3, r: 25, label: 'ÈõªËªä'}, { x: 4.5, y: 2, r: 20, label: 'ÈõªÂ≠ê'}, { x: 1, y: 8, r: 18, label: 'ÈõªÊ±†'}], center: { x: 5, y: 5, r: 40, label: 'Èõª'} },
                    en: { label: 'Japanese words from "Èõª" (Electricity)', data: [{ x: 3, y: 5, r: 35, label: 'Telephone'}, { x: 6, y: 7, r: 30, label: 'Electricity'}, { x: 8, y: 3, r: 25, label: 'Train'}, { x: 4.5, y: 2, r: 20, label: 'Electron'}, { x: 1, y: 8, r: 18, label: 'Battery'}], center: { x: 5, y: 5, r: 40, label: 'Èõª'} }
                },
                kanjiPolicy: {
                    ja: { labels: ['1946Âπ¥\nÂΩìÁî®Êº¢Â≠ó', '1981Âπ¥\nÂ∏∏Áî®Êº¢Â≠ó', '2010Âπ¥\nÊîπÂÆöÂ∏∏Áî®Êº¢Â≠ó'], title: 'Êº¢Â≠ó„ÅÆÊï∞' },
                    zh: { labels: ['1946Âπ¥\nÁï∂Áî®Êº¢Â≠ó', '1981Âπ¥\nÂ∏∏Áî®Êº¢Â≠ó', '2010Âπ¥\n‰øÆË®ÇÂ∏∏Áî®Êº¢Â≠ó'], title: 'Êº¢Â≠óÊï∏Èáè' },
                    en: { labels: ['1946\nT≈çy≈ç Kanji', '1981\nJ≈çy≈ç Kanji', '2010\nRevised J≈çy≈ç Kanji'], title: 'Number of Kanji' }
                }
            };

            let charts = {};

            function changeLanguage(lang) {
                document.documentElement.lang = lang;
                document.querySelectorAll('[data-lang-key]').forEach(el => {
                    const key = el.getAttribute('data-lang-key');
                    if (translations[key] && translations[key][lang]) {
                        el.innerHTML = translations[key][lang];
                    }
                });

                document.querySelectorAll('#lang-switcher .lang-btn').forEach(btn => {
                    if (btn.getAttribute('data-lang') === lang) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                updateCharts(lang);
            }
            
            function updateCharts(lang) {
                const speedData = chartData.readingSpeed[lang];
                charts.readingSpeed.data.labels = speedData.labels;
                charts.readingSpeed.options.scales.x.title.text = speedData.title;
                charts.readingSpeed.update();

                const creationData = chartData.wordCreation[lang];
                charts.wordCreation.data.datasets[0].label = creationData.label;
                charts.wordCreation.data.datasets[0].data = creationData.data;
                charts.wordCreation.data.datasets[1].data = [creationData.center];
                charts.wordCreation.update();

                const policyData = chartData.kanjiPolicy[lang];
                charts.kanjiPolicy.data.labels = policyData.labels;
                charts.kanjiPolicy.options.scales.y.title.text = policyData.title;
                charts.kanjiPolicy.update();
            }

            function initializeCharts() {
                const brilliantBlues = {
                    dark: '#004AAD', main: '#0079FF', light: '#52A7FF', lighter: '#C8E2FF', text: '#212121'
                };
                const tooltipTitleCallback = (tooltipItems) => {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    return Array.isArray(label) ? label.join(' ') : label;
                };
                const sharedChartOptions = {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)', titleFont: { size: 16, weight: 'bold' },
                            bodyFont: { size: 14 }, padding: 12, callbacks: { title: tooltipTitleCallback }
                        }
                    },
                    scales: {
                        x: { ticks: { color: brilliantBlues.text, font: { size: 12 } }, grid: { display: false } },
                        y: { ticks: { color: brilliantBlues.text, font: { size: 12 } }, grid: { color: '#E0E0E0' } }
                    }
                };

                charts.readingSpeed = new Chart(document.getElementById('readingSpeedChart'), {
                    type: 'bar',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'Reading Speed Comparison', data: [100, 65],
                            backgroundColor: [brilliantBlues.main, brilliantBlues.lighter],
                            borderColor: [brilliantBlues.dark, brilliantBlues.light],
                            borderWidth: 2, borderRadius: 5
                        }]
                    },
                    options: { ...sharedChartOptions, indexAxis: 'y',
                        scales: {
                            x: { ...sharedChartOptions.scales.x, title: { display: true, text: '', color: brilliantBlues.text } },
                            y: { ...sharedChartOptions.scales.y, grid: { display: false } }
                        }
                    }
                });

                charts.wordCreation = new Chart(document.getElementById('wordCreationChart'), {
                    type: 'bubble',
                    data: {
                        datasets: [
                            { label: '', data: [], backgroundColor: 'rgba(0, 121, 255, 0.6)', borderColor: brilliantBlues.dark },
                            { label: 'Center Concept', data: [], backgroundColor: 'rgba(0, 74, 173, 0.8)', borderColor: '#000' }
                        ]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: { callbacks: { label: (context) => context.raw.label || '' } }
                        },
                        scales: { x: { display: false }, y: { display: false } }
                    }
                });

                charts.kanjiPolicy = new Chart(document.getElementById('kanjiPolicyChart'), {
                    type: 'bar',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'Number of official Kanji', data: [1850, 1945, 2136],
                            backgroundColor: [brilliantBlues.light, brilliantBlues.main, brilliantBlues.dark],
                            borderWidth: 1, borderRadius: 4
                        }]
                    },
                    options: { ...sharedChartOptions,
                        scales: {
                            x: { ...sharedChartOptions.scales.x,
                                ticks: { ...sharedChartOptions.scales.x.ticks,
                                    callback: function(value, index, values) {
                                        const label = this.getLabelForValue(value);
                                        return label.split('\n');
                                    }
                                }
                            },
                            y: { ...sharedChartOptions.scales.y, title: { display: true, text: '', color: brilliantBlues.text } }
                        }
                    }
                });
            }

            initializeCharts();

            document.getElementById('lang-switcher').addEventListener('click', (e) => {
                if (e.target.matches('.lang-btn')) {
                    const lang = e.target.getAttribute('data-lang');
                    changeLanguage(lang);
                }
            });

            changeLanguage('ja');
        });
    </script>
</body>
</html>
