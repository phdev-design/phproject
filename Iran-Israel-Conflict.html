<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾é™°å½±åˆ°æ˜ç«ï¼šä¼Šæœ—-ä»¥è‰²åˆ—è¡çªäº’å‹•è§£æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Geopolitical Calm -->
    <!-- Application Structure Plan: The application is designed as a top-down narrative journey, starting with a broad overview and a central interactive timeline. The user can either follow the chronological flow via the timeline or jump to thematic deep-dive sections below (Core Drivers, Arenas of Conflict, Global Impact). This hybrid chronological-thematic structure allows for both linear storytelling and non-linear exploration. The key interaction is the timeline, which dynamically updates a content panel, making the cause-and-effect relationships clearer than a static report. This was chosen to transform the dense report into an engaging learning tool, helping users grasp the "what" and "why" of the conflict intuitively. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Historical Evolution -> Goal: Show Change -> Viz: Interactive vertical timeline -> Interaction: Click on eras to filter content -> Justification: Breaks down 70+ years of history into digestible phases, making it the app's central navigation. -> Library/Method: HTML/CSS/JS.
        - Report Info: Defense Spending -> Goal: Compare -> Viz: Bar Chart -> Interaction: Hover tooltips for exact figures -> Justification: Provides a stark, easily understood quantitative comparison of national priorities. -> Library/Method: Chart.js.
        - Report Info: Iran's Nuclear Program -> Goal: Show Change over time -> Viz: Stacked bar chart for uranium stockpile/enrichment levels -> Interaction: Buttons to switch between "Pre-JCPOA", "Post-JCPOA", "Current" states -> Justification: Visually demonstrates the direct impact of international policy on Iran's nuclear progress. -> Library/Method: Chart.js.
        - Report Info: Axis of Resistance -> Goal: Organize/Show Relationships -> Viz: Diagram of interconnected nodes -> Interaction: Hover over nodes to highlight connections and show info tooltips -> Justification: Simplifies the complex proxy network into a clear visual map. -> Library/Method: HTML/Tailwind/JS.
        - Report Info: International Stances -> Goal: Compare/Organize -> Viz: Tabbed content area -> Interaction: Click tabs to switch views -> Justification: Neatly organizes comparative analysis of different state actors without clutter. -> Library/Method: HTML/Tailwind/JS.
    -->
    <style>
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 350px; max-height: 50vh; }
        .nav-link { transition: color 0.3s, border-color 0.3s; }
        .nav-link:hover, .nav-link.active { color: #f59e0b; border-color: #f59e0b; }
        .timeline-item.active .timeline-dot { background-color: #f59e0b; transform: scale(1.5); }
        .timeline-item.active .timeline-content h3 { color: #f59e0b; }
        .tab-button.active { background-color: #1e3a8a; color: white; }
        .tab-button { transition: background-color 0.3s, color 0.3s; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl md:text-2xl font-bold text-blue-900" data-key="headerTitle">ä¼Šæœ—-ä»¥è‰²åˆ—è¡çªè§£æ</h1>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#timeline" class="nav-link border-b-2 border-transparent pb-1" data-key="navTimeline">æ¼”è®Šæ™‚é–“è»¸</a>
                    <a href="#drivers" class="nav-link border-b-2 border-transparent pb-1" data-key="navDrivers">æ ¸å¿ƒé©…å‹•å› ç´ </a>
                    <a href="#arenas" class="nav-link border-b-2 border-transparent pb-1" data-key="navArenas">è¡çªçš„ç«¶æŠ€å ´</a>
                    <a href="#impact" class="nav-link border-b-2 border-transparent pb-1" data-key="navImpact">å…¨çƒå½±éŸ¿</a>
                    <button id="lang-switcher" data-key="langButton" class="ml-4 px-3 py-1 text-sm border-2 border-blue-800 text-blue-800 rounded-full hover:bg-blue-800 hover:text-white transition-colors">English</button>
                </div>
                <button id="mobile-menu-button" class="md:hidden text-stone-600 focus:outline-none">
                    <span class="text-2xl">â˜°</span>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-4 pt-2 pb-4 space-y-2">
            <a href="#timeline" class="block nav-link text-center py-2" data-key="navTimelineMobile">æ¼”è®Šæ™‚é–“è»¸</a>
            <a href="#drivers" class="block nav-link text-center py-2" data-key="navDriversMobile">æ ¸å¿ƒé©…å‹•å› ç´ </a>
            <a href="#arenas" class="block nav-link text-center py-2" data-key="navArenasMobile">è¡çªçš„ç«¶æŠ€å ´</a>
            <a href="#impact" class="block nav-link text-center py-2" data-key="navImpactMobile">å…¨çƒå½±éŸ¿</a>
            <button id="lang-switcher-mobile" data-key="langButtonMobile" class="w-full mt-2 px-3 py-2 text-sm border-2 border-blue-800 text-blue-800 rounded-full hover:bg-blue-800 hover:text-white transition-colors">English</button>
        </div>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <section class="text-center mb-16">
            <h2 class="text-3xl md:text-5xl font-bold text-blue-950 mb-4" data-key="mainTitle">å¾é™°å½±åˆ°æ˜ç«</h2>
            <p class="max-w-3xl mx-auto text-stone-600 text-lg" data-key="mainSubtitle">ä¸€ä»½äº’å‹•æŒ‡å—ï¼Œæ·±å…¥å‰–æä¼Šæœ—èˆ‡ä»¥è‰²åˆ—å¦‚ä½•å¾æ˜”æ—¥çš„ç§˜å¯†ç›Ÿå‹ï¼Œæ¼”è®Šç‚ºç€•è‡¨å…¨é¢æˆ°çˆ­é‚Šç·£çš„å…¬é–‹æ•µäººã€‚æœ¬æ‡‰ç”¨ç¨‹å¼å°‡å¸¶æ‚¨æ¢ç´¢é€™å ´è¡çªçš„é—œéµè½‰æŠ˜é»ã€æ·±å±¤å‹•æ©Ÿèˆ‡å…¨çƒæ¼£æ¼ªã€‚</p>
        </section>

        <section id="timeline" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-blue-950" data-key="timelineTitle">è¡çªæ¼”è®Šæ™‚é–“è»¸</h2>
                <p class="text-stone-600 mt-2" data-key="timelineSubtitle">é»æ“Šä¸‹æ–¹ä¸åŒæ™‚æœŸï¼Œæ¢ç´¢å…©åœ‹é—œä¿‚çš„åŠ‡çƒˆè½‰è®Šã€‚</p>
            </div>
            <div class="flex flex-col md:flex-row gap-8">
                <div id="timeline-nav" class="md:w-1/3">
                    <!-- Timeline items will be injected by JS -->
                </div>
                <div id="timeline-display" class="md:w-2/3 bg-white p-6 rounded-lg shadow-lg fade-in">
                    <!-- Timeline content will be displayed here by JS -->
                </div>
            </div>
        </section>
        
        <section id="drivers" class="mb-20 py-12 bg-white rounded-lg shadow-lg scroll-mt-20">
            <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold text-blue-950" data-key="driversTitle">æ ¸å¿ƒé©…å‹•å› ç´ ï¼šä»–å€‘ç‚ºä½•è€Œæˆ°ï¼Ÿ</h2>
                <p class="text-stone-600 mt-2 max-w-2xl mx-auto" data-key="driversSubtitle">é€™å ´è¡çªä¸åƒ…æ˜¯é ˜åœŸçˆ­è­°ï¼Œè€Œæ˜¯ç”±æ„è­˜å½¢æ…‹ã€åœ‹å®‰ç„¦æ…®å’Œæ ¸æ­¦ç«¶è³½ä¸‰è€…äº¤ç¹”è€Œæˆçš„è¤‡é›œè³½å±€ã€‚</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8 px-6">
                <div class="text-center p-6 bg-stone-50 rounded-lg">
                    <div class="text-4xl mb-4">ğŸ“œ</div>
                    <h3 class="text-xl font-bold text-teal-800 mb-2" data-key="driver1Title">é©å‘½æ„è­˜å½¢æ…‹</h3>
                    <p class="text-stone-600" data-key="driver1Desc">1979å¹´ä¼Šæ–¯è˜­é©å‘½å¾Œï¼Œä¼Šæœ—å°‡ä»¥è‰²åˆ—å®šç¾©ç‚ºã€Œå°æ’’æ—¦ã€ï¼Œæ˜¯è¥¿æ–¹å¸åœ‹ä¸»ç¾©å®‰æ’åœ¨ç©†æ–¯æ—ä¸–ç•Œçš„ã€ŒéŒ«å®‰ä¸»ç¾©å¯¦é«”ã€ã€‚åä»¥è‰²åˆ—æˆç‚ºæ–°æ”¿æ¬Šåˆæ³•æ€§çš„åŸºçŸ³èˆ‡å‡èšåœ‹å…§æ”¯æŒçš„å·¥å…·ã€‚</p>
                </div>
                <div class="text-center p-6 bg-stone-50 rounded-lg">
                    <div class="text-4xl mb-4">ğŸ›¡ï¸</div>
                    <h3 class="text-xl font-bold text-sky-800 mb-2" data-key="driver2Title">åœ‹å®¶å®‰å…¨ç„¦æ…®</h3>
                    <p class="text-stone-600" data-key="driver2Desc">é›™æ–¹éƒ½é™·å…¥äº†ã€Œå®‰å…¨å›°å¢ƒã€ã€‚ä»¥è‰²åˆ—è¦–ä¼Šæœ—çš„ä»£ç†äººç¶²çµ¡å’Œæ ¸è¨ˆç•«ç‚ºç”Ÿå­˜å¨è„…ï¼›ä¼Šæœ—å‰‡èªç‚ºå…¶æ ¸èƒ½åŠ›èˆ‡å€åŸŸå½±éŸ¿åŠ›æ˜¯æŠµç¦¦ä»¥è‰²åˆ—å’Œç¾åœ‹ä¾µç•¥çš„å¿…è¦ä¿éšœã€‚</p>
                </div>
                <div class="text-center p-6 bg-stone-50 rounded-lg">
                    <div class="text-4xl mb-4">âš›ï¸</div>
                    <h3 class="text-xl font-bold text-amber-700 mb-2" data-key="driver3Title">æ ¸æ­¦ç«¶è³½</h3>
                    <p class="text-stone-600" data-key="driver3Desc">å°ä»¥è‰²åˆ—è€Œè¨€ï¼Œä¸€å€‹æ“æœ‰æ ¸æ­¦çš„ä¼Šæœ—æ˜¯ä¸å¯é€¾è¶Šçš„ç´…ç·šã€‚é€™å¼•ç™¼äº†æ•¸åå¹´çš„ç§˜å¯†ç ´å£ã€æš—æ®ºå’Œç¶²è·¯æ”»æ“Šï¼Œä¹Ÿæœ€çµ‚æˆç‚º2025å¹´ç›´æ¥è¡çªçš„å°ç«ç·šã€‚</p>
                </div>
            </div>
            <div class="mt-12">
                 <h3 class="text-2xl font-bold text-center text-blue-950 mb-4" data-key="nuclearChartTitle">ä¼Šæœ—æ ¸è¨ˆç•«çš„é€²ç¨‹</h3>
                 <div class="chart-container">
                    <canvas id="nuclearChart"></canvas>
                 </div>
                 <p class="text-center text-sm text-stone-500 mt-2 px-4" data-key="nuclearChartCaption">æ­¤åœ–è¡¨ç‚ºç¤ºæ„åœ–ï¼Œå±•ç¤ºäº†ã€Šä¼Šæœ—æ ¸å”è­°ã€‹(JCPOA)å°å…¶æ¿ƒç¸®éˆ¾æ´»å‹•çš„å½±éŸ¿ã€‚</p>
            </div>
        </section>

        <section id="arenas" class="mb-20 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-blue-950" data-key="arenasTitle">è¡çªçš„ç«¶æŠ€å ´</h2>
                <p class="text-stone-600 mt-2" data-key="arenasSubtitle">å¾ä»£ç†äººæˆ°çˆ­åˆ°ç¶²è·¯æ”»æ“Šï¼Œé€™æ˜¯ä¸€å ´åœ¨å¤šå€‹ç¶­åº¦åŒæ™‚é€²è¡Œçš„æˆ°çˆ­ã€‚</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-3 text-teal-800" data-key="arena1Title">ä»£ç†äººæˆ°çˆ­:ã€ŒæŠµæŠ—è»¸å¿ƒã€</h3>
                    <p class="text-stone-600 mb-4" data-key="arena1Desc">ä¼Šæœ—ä¸ç›´æ¥å‡ºå…µï¼Œè€Œæ˜¯é€éè³‡åŠ©å’Œæ­¦è£å…¶ä»£ç†äººç¶²çµ¡ï¼Œåœ¨ä»¥è‰²åˆ—é‚Šå¢ƒè£½é€ æŒçºŒå¨è„…ã€‚é€™æ˜¯ä¸€ç¨®ä½æˆæœ¬ã€é«˜æ§“æ¡¿çš„éå°ç¨±æˆ°ç•¥ã€‚</p>
                    <ul class="space-y-2 text-stone-700" data-key="arena1List">
                        <li><span class="font-bold">ğŸ‡±ğŸ‡§ çœŸä¸»é»¨ (Hezbollah):</span> ä¼Šæœ—æœ€æˆåŠŸçš„ä»£ç†äººï¼Œåœ¨é»å·´å«©å—éƒ¨å½¢æˆå¼·å¤§æ­¦åŠ›ã€‚</li>
                        <li><span class="font-bold">ğŸ‡µğŸ‡¸ å“ˆé¦¬æ–¯ & ä¼Šæ–¯è˜­è–æˆ°çµ„ç¹”:</span> åœ¨åŠ è–©é–‹é—¢ç¬¬äºŒæˆ°ç·šï¼Œå°‡å·´å‹’æ–¯å¦å•é¡Œæ­¦å™¨åŒ–ã€‚</li>
                        <li><span class="font-bold">ğŸ‡¸ğŸ‡¾ æ•˜åˆ©äº:</span> ä½œç‚ºé€£æ¥ä¼Šæœ—èˆ‡çœŸä¸»é»¨çš„é—œéµé™¸åœ°æ©‹æ¨‘å’Œæ­¦å™¨è½‰é‹ç«™ã€‚</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-3 text-sky-800" data-key="arena2Title">å½±å­æˆ°çˆ­: ç§˜å¯†è¡Œå‹•</h3>
                    <p class="text-stone-600 mb-4" data-key="arena2Desc">åœ¨å…¬é–‹è¡çªä¹‹å¤–ï¼Œä»¥è‰²åˆ—é•·æœŸé€éç§˜å¯†è¡Œå‹•ä¾†å‰Šå¼±ä¼Šæœ—ã€‚é€™æ˜¯ä¸€å ´ç™¼ç”Ÿåœ¨æš—è™•çš„é¬¥çˆ­ï¼Œç›®æ¨™æ˜¯å»¶ç·©ä¼Šæœ—çš„æ ¸è¨ˆç•«å’Œè»äº‹ç™¼å±•ã€‚</p>
                     <ul class="space-y-2 text-stone-700" data-key="arena2List">
                        <li><span class="font-bold">ğŸ¯ å®šé»æ¸…é™¤:</span> å¤šåä¼Šæœ—é«˜ç´šæ ¸ç§‘å­¸å®¶åœ¨å¢ƒå…§è¢«æš—æ®ºã€‚</li>
                        <li><span class="font-bold">ğŸ’¥ è¨­æ–½ç ´å£:</span> é‡å°æ ¸è¨­æ–½èˆ‡è»äº‹åŸºåœ°çš„ç¥ç§˜çˆ†ç‚¸é »ç¹ç™¼ç”Ÿã€‚</li>
                        <li><span class="font-bold">ğŸ§  å¿ƒç†æˆ°:</span> æ—¨åœ¨ä¼Šæœ—å…§éƒ¨è£½é€ ååŸ·ã€ä¸ä¿¡ä»»æ„Ÿèˆ‡ä¸å®‰å…¨æ„Ÿã€‚</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg md:col-span-2 lg:col-span-1">
                    <h3 class="font-bold text-xl mb-3 text-amber-700" data-key="arena3Title">ç¶²è·¯æˆ°:ã€Œéœ‡ç¶²ã€ç—…æ¯’</h3>
                    <p class="text-stone-600" data-key="arena3Desc">2010å¹´ï¼Œè¢«èªç‚ºç”±ç¾åœ‹å’Œä»¥è‰²åˆ—é–‹ç™¼çš„ã€Œéœ‡ç¶²ã€(Stuxnet) è •èŸ²ï¼Œæ˜¯ä¸–ç•Œé¦–å€‹é€ æˆå¤§è¦æ¨¡ç‰©ç†ç ´å£çš„æ•¸ä½æ­¦å™¨ã€‚å®ƒæˆåŠŸæ„ŸæŸ“ä¸¦æ‘§æ¯€äº†ä¼Šæœ—ç´å¦èŒ²æ ¸è¨­æ–½ä¸­ç´„1000å°é›¢å¿ƒæ©Ÿï¼Œæ¥µå¤§å»¶ç·©äº†å…¶æ ¸è¨ˆç•«ï¼Œä¸¦é–‹å•Ÿäº†åœ‹å®¶ç´šç¶²è·¯æˆ°çš„æ–°æ™‚ä»£ã€‚</p>
                </div>
            </div>
        </section>

        <section id="impact" class="py-12 bg-white rounded-lg shadow-lg scroll-mt-20">
             <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold text-blue-950" data-key="impactTitle">å…¨çƒå½±éŸ¿èˆ‡å„æ–¹ç«‹å ´</h2>
                <p class="text-stone-600 mt-2" data-key="impactSubtitle">é€™å ´å€åŸŸè¡çªçš„æ¼£æ¼ªæ•ˆæ‡‰ï¼Œè§¸åŠäº†å…¨çƒç¶“æ¿Ÿã€å¤§åœ‹åšå¼ˆèˆ‡äººé“å±æ©Ÿã€‚</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 px-6">
                <div>
                    <h3 class="text-2xl font-bold text-blue-950 mb-4" data-key="impactEconTitle">ç¶“æ¿Ÿè¡æ“Š</h3>
                    <p class="text-stone-600 mb-6" data-key="impactEconDesc">è¡çªå°å…¨çƒç¶“æ¿Ÿæ§‹æˆé‡å¤§å¨è„…ï¼Œå°¤å…¶é«”ç¾åœ¨èƒ½æºå¸‚å ´ã€‚å°è·å§†èŒ²æµ·å³½ï¼ˆå…¨çƒ1/5çŸ³æ²¹é‹è¼¸è¦é“ï¼‰çš„ä»»ä½•å¹²æ“¾éƒ½å¯èƒ½å¼•ç™¼æ²¹åƒ¹é£†å‡ï¼ŒåŠ åŠ‡å…¨çƒé€šè†¨ã€‚</p>
                    <div class="chart-container h-64 sm:h-72">
                        <canvas id="spendingChart"></canvas>
                    </div>
                    <p class="text-center text-sm text-stone-500 mt-2" data-key="spendingChartCaption">2024å¹´åœ‹é˜²é–‹æ”¯é¡¯è‘—å¢åŠ ï¼Œæ“ å£“äº†å…©åœ‹çš„æ°‘ç”Ÿé ç®—ã€‚</p>
                </div>
                <div>
                    <h3 class="text-2xl font-bold text-blue-950 mb-4" data-key="impactIntlTitle">åœ‹éš›åæ‡‰</h3>
                    <div class="flex border-b border-stone-200 mb-4">
                        <button class="tab-button flex-1 py-2 px-4 text-stone-600 active" data-tab="usa" data-key="tabUSA">ğŸ‡ºğŸ‡¸ ç¾åœ‹</button>
                        <button class="tab-button flex-1 py-2 px-4 text-stone-600" data-tab="russia" data-key="tabRussia">ğŸ‡·ï¿½ ä¿„ç¾…æ–¯</button>
                        <button class="tab-button flex-1 py-2 px-4 text-stone-600" data-tab="arab" data-key="tabArab">ğŸ‡¸ğŸ‡¦ é˜¿æ‹‰ä¼¯åœ‹å®¶</button>
                    </div>
                    <div id="tab-content" class="fade-in">
                        <!-- Tab content injected by JS -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-blue-950 text-white mt-16">
        <div class="container mx-auto px-8 py-6 text-center">
            <p data-key="footerCredit">æœ¬äº’å‹•æ‡‰ç”¨ç¨‹å¼å…§å®¹æ ¹æ“šã€Œå¾é‚Šç·£åˆ°æ‡¸å´–ï¼šä¼Šæœ—-ä»¥è‰²åˆ—è¡çªçš„è©³ç›¡åˆ†æå ±å‘Šã€è£½ä½œã€‚</p>
            <p class="text-sm text-blue-200 mt-2" data-key="footerDisclaimer">æ—¨åœ¨æä¾›ä¸€å€‹æ•™è‚²æ€§å’Œè³‡è¨Šæ€§çš„è¦–è§’ï¼Œä»¥ç†è§£è¤‡é›œçš„åœ°ç·£æ”¿æ²»å‹•æ…‹ã€‚</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- DATA & TRANSLATIONS ---
            let currentLang = 'zh';
            let nuclearChartInstance;
            let spendingChartInstance;

            const translations = {
                zh: {
                    pageTitle: 'å¾é™°å½±åˆ°æ˜ç«ï¼šä¼Šæœ—-ä»¥è‰²åˆ—è¡çªäº’å‹•è§£æ',
                    headerTitle: 'ä¼Šæœ—-ä»¥è‰²åˆ—è¡çªè§£æ',
                    navTimeline: 'æ¼”è®Šæ™‚é–“è»¸', navDrivers: 'æ ¸å¿ƒé©…å‹•å› ç´ ', navArenas: 'è¡çªçš„ç«¶æŠ€å ´', navImpact: 'å…¨çƒå½±éŸ¿',
                    mainTitle: 'å¾é™°å½±åˆ°æ˜ç«',
                    mainSubtitle: 'ä¸€ä»½äº’å‹•æŒ‡å—ï¼Œæ·±å…¥å‰–æä¼Šæœ—èˆ‡ä»¥è‰²åˆ—å¦‚ä½•å¾æ˜”æ—¥çš„ç§˜å¯†ç›Ÿå‹ï¼Œæ¼”è®Šç‚ºç€•è‡¨å…¨é¢æˆ°çˆ­é‚Šç·£çš„å…¬é–‹æ•µäººã€‚æœ¬æ‡‰ç”¨ç¨‹å¼å°‡å¸¶æ‚¨æ¢ç´¢é€™å ´è¡çªçš„é—œéµè½‰æŠ˜é»ã€æ·±å±¤å‹•æ©Ÿèˆ‡å…¨çƒæ¼£æ¼ªã€‚',
                    timelineTitle: 'è¡çªæ¼”è®Šæ™‚é–“è»¸',
                    timelineSubtitle: 'é»æ“Šä¸‹æ–¹ä¸åŒæ™‚æœŸï¼Œæ¢ç´¢å…©åœ‹é—œä¿‚çš„åŠ‡çƒˆè½‰è®Šã€‚',
                    driversTitle: 'æ ¸å¿ƒé©…å‹•å› ç´ ï¼šä»–å€‘ç‚ºä½•è€Œæˆ°ï¼Ÿ',
                    driversSubtitle: 'é€™å ´è¡çªä¸åƒ…æ˜¯é ˜åœŸçˆ­è­°ï¼Œè€Œæ˜¯ç”±æ„è­˜å½¢æ…‹ã€åœ‹å®‰ç„¦æ…®å’Œæ ¸æ­¦ç«¶è³½ä¸‰è€…äº¤ç¹”è€Œæˆçš„è¤‡é›œè³½å±€ã€‚',
                    driver1Title: 'é©å‘½æ„è­˜å½¢æ…‹',
                    driver1Desc: '1979å¹´ä¼Šæ–¯è˜­é©å‘½å¾Œï¼Œä¼Šæœ—å°‡ä»¥è‰²åˆ—å®šç¾©ç‚ºã€Œå°æ’’æ—¦ã€ï¼Œæ˜¯è¥¿æ–¹å¸åœ‹ä¸»ç¾©å®‰æ’åœ¨ç©†æ–¯æ—ä¸–ç•Œçš„ã€ŒéŒ«å®‰ä¸»ç¾©å¯¦é«”ã€ã€‚åä»¥è‰²åˆ—æˆç‚ºæ–°æ”¿æ¬Šåˆæ³•æ€§çš„åŸºçŸ³èˆ‡å‡èšåœ‹å…§æ”¯æŒçš„å·¥å…·ã€‚',
                    driver2Title: 'åœ‹å®¶å®‰å…¨ç„¦æ…®',
                    driver2Desc: 'é›™æ–¹éƒ½é™·å…¥äº†ã€Œå®‰å…¨å›°å¢ƒã€ã€‚ä»¥è‰²åˆ—è¦–ä¼Šæœ—çš„ä»£ç†äººç¶²çµ¡å’Œæ ¸è¨ˆç•«ç‚ºç”Ÿå­˜å¨è„…ï¼›ä¼Šæœ—å‰‡èªç‚ºå…¶æ ¸èƒ½åŠ›èˆ‡å€åŸŸå½±éŸ¿åŠ›æ˜¯æŠµç¦¦ä»¥è‰²åˆ—å’Œç¾åœ‹ä¾µç•¥çš„å¿…è¦ä¿éšœã€‚',
                    driver3Title: 'æ ¸æ­¦ç«¶è³½',
                    driver3Desc: 'å°ä»¥è‰²åˆ—è€Œè¨€ï¼Œä¸€å€‹æ“æœ‰æ ¸æ­¦çš„ä¼Šæœ—æ˜¯ä¸å¯é€¾è¶Šçš„ç´…ç·šã€‚é€™å¼•ç™¼äº†æ•¸åå¹´çš„ç§˜å¯†ç ´å£ã€æš—æ®ºå’Œç¶²è·¯æ”»æ“Šï¼Œä¹Ÿæœ€çµ‚æˆç‚º2025å¹´ç›´æ¥è¡çªçš„å°ç«ç·šã€‚',
                    nuclearChartTitle: 'ä¼Šæœ—æ ¸è¨ˆç•«çš„é€²ç¨‹',
                    nuclearChartCaption: 'æ­¤åœ–è¡¨ç‚ºç¤ºæ„åœ–ï¼Œå±•ç¤ºäº†ã€Šä¼Šæœ—æ ¸å”è­°ã€‹(JCPOA)å°å…¶æ¿ƒç¸®éˆ¾æ´»å‹•çš„å½±éŸ¿ã€‚',
                    nuclearChartYAxis: 'æ¿ƒç¸®éˆ¾åº«å­˜é‡ (kg)',
                    nuclearChartLEU: 'ä½æ¿ƒç¸®éˆ¾åº«å­˜ (ç¤ºæ„)',
                    nuclearChartHEU: 'é«˜æ¿ƒç¸®éˆ¾ (60%) åº«å­˜ (ç¤ºæ„)',
                    nuclearChartLabels: ['2014 (å”è­°å‰)', '2017 (å”è­°ä¸­)', '2022 (ç¾é€€å‡ºå¾Œ)'],
                    arenasTitle: 'è¡çªçš„ç«¶æŠ€å ´',
                    arenasSubtitle: 'å¾ä»£ç†äººæˆ°çˆ­åˆ°ç¶²è·¯æ”»æ“Šï¼Œé€™æ˜¯ä¸€å ´åœ¨å¤šå€‹ç¶­åº¦åŒæ™‚é€²è¡Œçš„æˆ°çˆ­ã€‚',
                    arena1Title: 'ä»£ç†äººæˆ°çˆ­:ã€ŒæŠµæŠ—è»¸å¿ƒã€',
                    arena1Desc: 'ä¼Šæœ—ä¸ç›´æ¥å‡ºå…µï¼Œè€Œæ˜¯é€éè³‡åŠ©å’Œæ­¦è£å…¶ä»£ç†äººç¶²çµ¡ï¼Œåœ¨ä»¥è‰²åˆ—é‚Šå¢ƒè£½é€ æŒçºŒå¨è„…ã€‚é€™æ˜¯ä¸€ç¨®ä½æˆæœ¬ã€é«˜æ§“æ¡¿çš„éå°ç¨±æˆ°ç•¥ã€‚',
                    arena1List: `<li><span class="font-bold">ğŸ‡±ğŸ‡§ çœŸä¸»é»¨ (Hezbollah):</span> ä¼Šæœ—æœ€æˆåŠŸçš„ä»£ç†äººï¼Œåœ¨é»å·´å«©å—éƒ¨å½¢æˆå¼·å¤§æ­¦åŠ›ã€‚</li>
                                 <li><span class="font-bold">ğŸ‡µğŸ‡¸ å“ˆé¦¬æ–¯ & ä¼Šæ–¯è˜­è–æˆ°çµ„ç¹”:</span> åœ¨åŠ è–©é–‹é—¢ç¬¬äºŒæˆ°ç·šï¼Œå°‡å·´å‹’æ–¯å¦å•é¡Œæ­¦å™¨åŒ–ã€‚</li>
                                 <li><span class="font-bold">ğŸ‡¸ğŸ‡¾ æ•˜åˆ©äº:</span> ä½œç‚ºé€£æ¥ä¼Šæœ—èˆ‡çœŸä¸»é»¨çš„é—œéµé™¸åœ°æ©‹æ¨‘å’Œæ­¦å™¨è½‰é‹ç«™ã€‚</li>`,
                    arena2Title: 'å½±å­æˆ°çˆ­: ç§˜å¯†è¡Œå‹•',
                    arena2Desc: 'åœ¨å…¬é–‹è¡çªä¹‹å¤–ï¼Œä»¥è‰²åˆ—é•·æœŸé€éç§˜å¯†è¡Œå‹•ä¾†å‰Šå¼±ä¼Šæœ—ã€‚é€™æ˜¯ä¸€å ´ç™¼ç”Ÿåœ¨æš—è™•çš„é¬¥çˆ­ï¼Œç›®æ¨™æ˜¯å»¶ç·©ä¼Šæœ—çš„æ ¸è¨ˆç•«å’Œè»äº‹ç™¼å±•ã€‚',
                    arena2List: `<li><span class="font-bold">ğŸ¯ å®šé»æ¸…é™¤:</span> å¤šåä¼Šæœ—é«˜ç´šæ ¸ç§‘å­¸å®¶åœ¨å¢ƒå…§è¢«æš—æ®ºã€‚</li>
                                 <li><span class="font-bold">ğŸ’¥ è¨­æ–½ç ´å£:</span> é‡å°æ ¸è¨­æ–½èˆ‡è»äº‹åŸºåœ°çš„ç¥ç§˜çˆ†ç‚¸é »ç¹ç™¼ç”Ÿã€‚</li>
                                 <li><span class="font-bold">ğŸ§  å¿ƒç†æˆ°:</span> æ—¨åœ¨ä¼Šæœ—å…§éƒ¨è£½é€ ååŸ·ã€ä¸ä¿¡ä»»æ„Ÿèˆ‡ä¸å®‰å…¨æ„Ÿã€‚</li>`,
                    arena3Title: 'ç¶²è·¯æˆ°:ã€Œéœ‡ç¶²ã€ç—…æ¯’',
                    arena3Desc: '2010å¹´ï¼Œè¢«èªç‚ºç”±ç¾åœ‹å’Œä»¥è‰²åˆ—é–‹ç™¼çš„ã€Œéœ‡ç¶²ã€(Stuxnet) è •èŸ²ï¼Œæ˜¯ä¸–ç•Œé¦–å€‹é€ æˆå¤§è¦æ¨¡ç‰©ç†ç ´å£çš„æ•¸ä½æ­¦å™¨ã€‚å®ƒæˆåŠŸæ„ŸæŸ“ä¸¦æ‘§æ¯€äº†ä¼Šæœ—ç´å¦èŒ²æ ¸è¨­æ–½ä¸­ç´„1000å°é›¢å¿ƒæ©Ÿï¼Œæ¥µå¤§å»¶ç·©äº†å…¶æ ¸è¨ˆç•«ï¼Œä¸¦é–‹å•Ÿäº†åœ‹å®¶ç´šç¶²è·¯æˆ°çš„æ–°æ™‚ä»£ã€‚',
                    impactTitle: 'å…¨çƒå½±éŸ¿èˆ‡å„æ–¹ç«‹å ´',
                    impactSubtitle: 'é€™å ´å€åŸŸè¡çªçš„æ¼£æ¼ªæ•ˆæ‡‰ï¼Œè§¸åŠäº†å…¨çƒç¶“æ¿Ÿã€å¤§åœ‹åšå¼ˆèˆ‡äººé“å±æ©Ÿã€‚',
                    impactEconTitle: 'ç¶“æ¿Ÿè¡æ“Š',
                    impactEconDesc: 'è¡çªå°å…¨çƒç¶“æ¿Ÿæ§‹æˆé‡å¤§å¨è„…ï¼Œå°¤å…¶é«”ç¾åœ¨èƒ½æºå¸‚å ´ã€‚å°è·å§†èŒ²æµ·å³½ï¼ˆå…¨çƒ1/5çŸ³æ²¹é‹è¼¸è¦é“ï¼‰çš„ä»»ä½•å¹²æ“¾éƒ½å¯èƒ½å¼•ç™¼æ²¹åƒ¹é£†å‡ï¼ŒåŠ åŠ‡å…¨çƒé€šè†¨ã€‚',
                    spendingChartCaption: '2024å¹´åœ‹é˜²é–‹æ”¯é¡¯è‘—å¢åŠ ï¼Œæ“ å£“äº†å…©åœ‹çš„æ°‘ç”Ÿé ç®—ã€‚',
                    spendingChartLabel: '2024å¹´åœ‹é˜²é–‹æ”¯å¢é•· (ç¤ºæ„)',
                    spendingChartXAxis: 'å¹´åº¦å¢é•·ç‡ (%)',
                    spendingChartCountries: ['ä»¥è‰²åˆ—', 'ä¼Šæœ—'],
                    impactIntlTitle: 'åœ‹éš›åæ‡‰',
                    tabUSA: 'ğŸ‡ºğŸ‡¸ ç¾åœ‹', tabRussia: 'ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯', tabArab: 'ğŸ‡¸ğŸ‡¦ é˜¿æ‹‰ä¼¯åœ‹å®¶',
                    footerCredit: 'æœ¬äº’å‹•æ‡‰ç”¨ç¨‹å¼å…§å®¹æ ¹æ“šã€Œå¾é‚Šç·£åˆ°æ‡¸å´–ï¼šä¼Šæœ—-ä»¥è‰²åˆ—è¡çªçš„è©³ç›¡åˆ†æå ±å‘Šã€è£½ä½œã€‚',
                    footerDisclaimer: 'æ—¨åœ¨æä¾›ä¸€å€‹æ•™è‚²æ€§å’Œè³‡è¨Šæ€§çš„è¦–è§’ï¼Œä»¥ç†è§£è¤‡é›œçš„åœ°ç·£æ”¿æ²»å‹•æ…‹ã€‚',
                    langButton: 'English',
                    langButtonMobile: 'English'
                },
                en: {
                    pageTitle: 'From Shadow to Fire: An Interactive Analysis of the Iran-Israel Conflict',
                    headerTitle: 'Iran-Israel Conflict Analysis',
                    navTimeline: 'Timeline', navDrivers: 'Core Drivers', navArenas: 'Arenas of Conflict', navImpact: 'Global Impact',
                    mainTitle: 'From Shadow to Fire',
                    mainSubtitle: 'An interactive guide exploring how Iran and Israel devolved from covert allies to overt enemies on the brink of all-out war. This application will guide you through the key turning points, deep-seated motivations, and global ripples of this conflict.',
                    timelineTitle: 'Timeline of the Conflict\'s Evolution',
                    timelineSubtitle: 'Click on the different eras below to explore the dramatic shifts in the relationship.',
                    driversTitle: 'Core Drivers: Why Do They Fight?',
                    driversSubtitle: 'This is not just a territorial dispute, but a complex game woven from ideology, national security anxieties, and a nuclear arms race.',
                    driver1Title: 'Revolutionary Ideology',
                    driver1Desc: 'After the 1979 Islamic Revolution, Iran defined Israel as the "Little Satan," a "Zionist entity" planted by Western imperialism in the Muslim world. Anti-Israel sentiment became a cornerstone of the new regime\'s legitimacy and a tool to rally domestic support.',
                    driver2Title: 'National Security Anxiety',
                    driver2Desc: 'Both sides are trapped in a "security dilemma." Israel views Iran\'s proxy network and nuclear program as existential threats; Iran sees its nuclear capability and regional influence as necessary guarantees against Israeli and American aggression.',
                    driver3Title: 'The Nuclear Race',
                    driver3Desc: 'For Israel, a nuclear-armed Iran is an insurmountable red line. This has triggered decades of covert sabotage, assassinations, and cyberattacks, ultimately becoming the flashpoint for direct conflict in 2025.',
                    nuclearChartTitle: 'Progress of Iran\'s Nuclear Program',
                    nuclearChartCaption: 'This chart is illustrative, showing the impact of the Iran Nuclear Deal (JCPOA) on its uranium enrichment activities.',
                    nuclearChartYAxis: 'Enriched Uranium Stockpile (kg)',
                    nuclearChartLEU: 'Low-Enriched Uranium Stockpile (Illustrative)',
                    nuclearChartHEU: 'High-Enriched (60%) Uranium Stockpile (Illustrative)',
                    nuclearChartLabels: ['2014 (Pre-JCPOA)', '2017 (JCPOA in effect)', '2022 (Post-US withdrawal)'],
                    arenasTitle: 'Arenas of Conflict',
                    arenasSubtitle: 'From proxy wars to cyberattacks, this is a war fought simultaneously across multiple dimensions.',
                    arena1Title: 'Proxy War: The "Axis of Resistance"',
                    arena1Desc: 'Instead of direct military engagement, Iran funds and arms its network of proxies to create a constant threat on Israel\'s borders. This is a low-cost, high-leverage asymmetric strategy.',
                    arena1List: `<li><span class="font-bold">ğŸ‡±ğŸ‡§ Hezbollah:</span> Iran's most successful proxy, forming a formidable force in southern Lebanon.</li>
                                 <li><span class="font-bold">ğŸ‡µğŸ‡¸ Hamas & Islamic Jihad:</span> Opening a second front in Gaza, weaponizing the Palestinian issue.</li>
                                 <li><span class="font-bold">ğŸ‡¸ğŸ‡¾ Syria:</span> Serving as a critical land bridge and weapons transit hub connecting Iran to Hezbollah.</li>`,
                    arena2Title: 'Shadow War: Covert Operations',
                    arena2Desc: 'Beyond public view, Israel has long used covert operations to weaken Iran. This is a struggle in the dark, aimed at delaying Iran\'s nuclear and military development.',
                    arena2List: `<li><span class="font-bold">ğŸ¯ Targeted Assassinations:</span> Several high-level Iranian nuclear scientists have been assassinated within the country.</li>
                                 <li><span class="font-bold">ğŸ’¥ Facility Sabotage:</span> Mysterious explosions frequently occur at nuclear facilities and military bases.</li>
                                 <li><span class="font-bold">ğŸ§  Psychological Warfare:</span> Aimed at creating paranoia, distrust, and a sense of insecurity within Iran.</li>`,
                    arena3Title: 'Cyber War: The "Stuxnet" Virus',
                    arena3Desc: 'In 2010, the "Stuxnet" worm, believed to be developed by the US and Israel, was the world\'s first digital weapon to cause large-scale physical damage. It successfully infected and destroyed about 1,000 centrifuges at Iran\'s Natanz nuclear facility, significantly delaying its nuclear program and ushering in a new era of state-sponsored cyber warfare.',
                    impactTitle: 'Global Impact & Stances',
                    impactSubtitle: 'The ripple effects of this regional conflict touch the global economy, great power competition, and humanitarian crises.',
                    impactEconTitle: 'Economic Shock',
                    impactEconDesc: 'The conflict poses a significant threat to the global economy, particularly in energy markets. Any disruption to the Strait of Hormuz (where 1/5 of global oil transits) could trigger a spike in oil prices, exacerbating global inflation.',
                    spendingChartCaption: 'The significant increase in 2024 defense spending squeezes the domestic budgets of both nations.',
                    spendingChartLabel: '2024 Defense Spending Growth (Illustrative)',
                    spendingChartXAxis: 'Annual Growth Rate (%)',
                    spendingChartCountries: ['Israel', 'Iran'],
                    impactIntlTitle: 'International Reactions',
                    tabUSA: 'ğŸ‡ºğŸ‡¸ USA', tabRussia: 'ğŸ‡·ğŸ‡º Russia', tabArab: 'ğŸ‡¸ğŸ‡¦ Arab States',
                    footerCredit: 'Content for this interactive application is adapted from the "From the Brink to the Cliff: A Detailed Analysis of the Iran-Israel Conflict" report.',
                    footerDisclaimer: 'This is intended to provide an educational and informational perspective on complex geopolitical dynamics.',
                    langButton: 'ä¸­æ–‡',
                    langButtonMobile: 'ä¸­æ–‡'
                }
            };
            
            const timelineData = {
                zh: [
                    { id: 'alliance', year: '1948â€“1979', title: 'ä¸å¯èƒ½çš„è¯ç›Ÿ', summary: 'åŸºæ–¼å…±åŒå¨è„…ï¼ˆè˜‡è¯ã€æ³›é˜¿æ‹‰ä¼¯ä¸»ç¾©ï¼‰ï¼Œå¥‰è¡Œå·´å‹’ç¶­ç‹æœçš„ä¼Šæœ—èˆ‡ä»¥è‰²åˆ—å»ºç«‹äº†å‹™å¯¦çš„åŠç§˜å¯†è¯ç›Ÿã€‚', details: [ { icon: 'ğŸ¤', text: '<strong>äº‹å¯¦ä¸Šæ‰¿èª (1950):</strong> ä¼Šæœ—æˆç‚ºç¹¼åœŸè€³å…¶å¾Œç¬¬äºŒå€‹æ‰¿èªä»¥è‰²åˆ—çš„ç©†æ–¯æ—ä½”å¤šæ•¸åœ‹å®¶ã€‚' }, { icon: 'ğŸ›¢ï¸', text: '<strong>ç¶“æ¿Ÿåˆä½œ:</strong> é›™æ–¹åˆè³‡å»ºç«‹åŸƒæ‹‰ç‰¹-é˜¿ä»€å‡±éš†è¼¸æ²¹ç®¡é“ï¼Œè®“ä¼Šæœ—çŸ³æ²¹ç¹éè˜‡ä¼Šå£«é‹æ²³éŠ·å¾€æ­æ´²ï¼Œç‚ºå…©åœ‹å¸¶ä¾†å·¨å¤§åˆ©ç›Šã€‚' }, { icon: 'ğŸ¤«', text: '<strong>ç§˜å¯†è»äº‹æƒ…å ±åˆä½œ:</strong> ä»¥è‰²åˆ—å”åŠ©ä¼Šæœ—ç™¼å±•æ­¦å™¨ï¼ˆå¦‚ã€ŒèŠ±å‰è¨ˆç•«ã€ï¼‰ï¼Œä¸¦åœ¨å¾·é»‘è˜­è¨­æœ‰æƒ…å ±ç«™ã€‚' }] },
                    { id: 'rupture', year: '1979', title: 'é©å‘½æ€§çš„æ±ºè£‚', summary: 'ä½•æ¢…å°¼é ˜å°çš„ä¼Šæ–¯è˜­é©å‘½å¾¹åº•é¡›è¦†äº†ä¼Šæœ—ï¼Œå°‡å…¶å¾ç¾åœ‹çš„ç›Ÿå‹è®Šç‚ºæ•µäººï¼Œèˆ‡ä»¥è‰²åˆ—çš„é—œä¿‚ä¹Ÿéš¨ä¹‹æ±ºè£‚ã€‚', details: [ { icon: 'ğŸ‘¹', text: '<strong>ã€Œå°æ’’æ—¦ã€èª•ç”Ÿ:</strong> æ–°æ”¿æ¬Šå°‡ç¾åœ‹å®šç¾©ç‚ºã€Œå¤§æ’’æ—¦ã€ï¼Œä»¥è‰²åˆ—ç‚ºã€Œå°æ’’æ—¦ã€ï¼ŒåéŒ«å®‰ä¸»ç¾©æˆç‚ºåœ‹ç­–ã€‚' }, { icon: 'ğŸ‡µğŸ‡¸', text: '<strong>å¤–äº¤è½‰å‘:</strong> ä¼Šæœ—é—œé–‰ä»¥è‰²åˆ—å¤§ä½¿é¤¨ï¼Œä¸¦å°‡å…¶ç§»äº¤çµ¦å·´å‹’æ–¯å¦è§£æ”¾çµ„ç¹”ï¼ˆPLOï¼‰ï¼Œå¾¹åº•æ–·çµ•é—œä¿‚ã€‚' }, { icon: 'ğŸ¤”', text: '<strong>åœ‹å…§å‹•æ©Ÿ:</strong> æ¿€çƒˆçš„åä»¥è‰²åˆ—ç«‹å ´ï¼Œæ˜¯æ–°æ”¿æ¬Šéå›ºæ¬ŠåŠ›ã€èˆ‡è¢«æ¨ç¿»çš„è¦ªè¥¿æ–¹åœ‹ç‹åŠƒæ¸…ç•Œç·šçš„é—œéµæ‰‹æ®µã€‚' }] },
                    { id: 'proxy', year: '1982â€“2024', title: 'ä»£ç†äººæˆ°çˆ­æ™‚ä»£', summary: 'ä¼Šæœ—ç™¼å±•å‡ºã€ŒæŠµæŠ—è»¸å¿ƒã€ç­–ç•¥ï¼Œé€éè³‡åŠ©å’Œæ­¦è£å…¶åœ¨ä¸­æ±å„åœ°çš„ä»£ç†äººï¼Œå°ä»¥è‰²åˆ—ç™¼å‹•éå°ç¨±æˆ°çˆ­ã€‚', details: [ { icon: 'ğŸ‡±ğŸ‡§', text: '<strong>çœŸä¸»é»¨çš„å‰µå»º (1982):</strong> ä¼Šæœ—é©å‘½è¡›éšŠåœ¨é»å·´å«©çµ„ç¹”ã€è¨“ç·´ä¸¦è³‡åŠ©çœŸä¸»é»¨ï¼Œä½¿å…¶æˆç‚ºä»¥è‰²åˆ—åŒ—éƒ¨æœ€å¼·å¤§çš„å¨è„…ã€‚' }, { icon: 'ğŸ‡µğŸ‡¸', text: '<strong>æ”¯æŒå·´å‹’æ–¯å¦æ´¾ç³»:</strong> å¾1990å¹´ä»£èµ·ï¼Œä¼Šæœ—å‘å“ˆé¦¬æ–¯å’Œä¼Šæ–¯è˜­è–æˆ°çµ„ç¹”æä¾›è³‡é‡‘èˆ‡è»äº‹è¨“ç·´ï¼Œåœ¨åŠ è–©é–‹é—¢ç¬¬äºŒæˆ°ç·šã€‚' }, { icon: 'ğŸ‡¸ğŸ‡¾', text: '<strong>æ•˜åˆ©äºæˆ°å ´:</strong> æ•˜åˆ©äºæˆç‚ºä¼Šæœ—å‘çœŸä¸»é»¨é‹é€æ­¦å™¨çš„é—œéµé€šé“ã€‚ä»¥è‰²åˆ—ç‚ºé˜»æ­¢ä¼Šæœ—åœ¨æ•˜å»ºç«‹è»äº‹æ“šé»ï¼Œç™¼å‹•äº†æ•¸ç™¾æ¬¡ç©ºè¥²ã€‚' }] },
                    { id: 'shadow', year: '2010sâ€“2024', title: 'å½±å­æˆ°çˆ­èˆ‡æ ¸å°å³™', summary: 'ä¼Šæœ—æ ¸è¨ˆç•«æˆç‚ºè¡çªæ ¸å¿ƒã€‚ä»¥è‰²åˆ—è¦–å…¶ç‚ºç”Ÿå­˜å¨è„…ï¼Œç™¼å‹•äº†ä¸€å ´é•·æœŸçš„ç§˜å¯†æˆ°çˆ­ä»¥ç ´å£å’Œå»¶é²å…¶é€²ç¨‹ã€‚', details: [ { icon: 'âš›ï¸', text: '<strong>æ ¸è¨ˆç•«åŠ é€Ÿ:</strong> ç¾åœ‹2018å¹´é€€å‡ºã€Šä¼Šæœ—æ ¸å”è­°ã€‹(JCPOA)å¾Œï¼Œä¼Šæœ—åŠ é€Ÿéˆ¾æ¿ƒç¸®æ´»å‹•ï¼Œå°‡ã€Œçªç ´æ™‚é–“ã€ç¸®çŸ­è‡³æ•¸é€±ã€‚' }, { icon: 'ğŸ¯', text: '<strong>ç§˜å¯†è¡Œå‹•:</strong> ä»¥è‰²åˆ—æ‘©è–©å¾·è¢«æŒ‡æ§åœ¨ä¼Šæœ—å¢ƒå…§æš—æ®ºå¤šåæ ¸ç§‘å­¸å®¶ï¼Œä¸¦å°æ ¸è¨­æ–½é€²è¡Œç‰©ç†ç ´å£ã€‚' }, { icon: 'ğŸ’»', text: '<strong>éœ‡ç¶²ç—…æ¯’ (2010):</strong> ç¾ä»¥åˆä½œçš„é›»è…¦è •èŸ²ï¼ŒæˆåŠŸç ´å£ä¼Šæœ—ç´å¦èŒ²è¨­æ–½è¿‘åƒå°é›¢å¿ƒæ©Ÿï¼Œæ˜¯ç¶²è·¯æˆ°çš„é‡Œç¨‹ç¢‘äº‹ä»¶ã€‚' }] },
                    { id: 'open', year: '2024â€“2025', title: 'èµ°å‘å…¬é–‹æˆ°çˆ­', summary: 'é•·æœŸä»¥ä¾†çš„äº¤æˆ°è¦å‰‡è¢«æ‰“ç ´ï¼Œé›™æ–¹å¾ä»£ç†äººèˆ‡å½±å­æˆ°çˆ­ï¼Œå‡ç´šç‚ºå‰æ‰€æœªæœ‰çš„ç›´æ¥è»äº‹æ”»æ“Šã€‚', details: [ { icon: 'ğŸ’¥', text: '<strong>å¤§é¦¬å£«é©é‡è¥² (2024/4):</strong> ä»¥è‰²åˆ—ç©ºè¥²ä¼Šæœ—é§æ•˜åˆ©äºé ˜äº‹é¤¨ï¼Œç‚¸æ­»é©å‘½è¡›éšŠé«˜ç´šå°‡é ˜ï¼Œè¢«ä¼Šæœ—è¦–ç‚ºå°å…¶ä¸»æ¬Šçš„ç›´æ¥æ”»æ“Šã€‚' }, { icon: 'ğŸš€', text: '<strong>ä¼Šæœ—é¦–æ¬¡ç›´æ“Š (2024/4):</strong> ä¼Šæœ—ç™¼å°„è¶…é300æ¶ç„¡äººæ©Ÿå’Œé£›å½ˆç›´æ¥æ”»æ“Šä»¥è‰²åˆ—é ˜åœŸï¼Œè·¨è¶Šäº†ç›´æ¥è¡çªçš„é–€æª»ã€‚' }, { icon: 'ğŸ¦', text: '<strong>ã€Œé›„ç…å´›èµ·ã€è¡Œå‹• (2025/6):</strong> ä»¥è‰²åˆ—ä»¥ä¼Šæœ—å³å°‡æ“æ ¸ç‚ºç”±ï¼Œç™¼å‹•å¤§è¦æ¨¡å…ˆç™¼åˆ¶äººç©ºè¥²ï¼Œç›®æ¨™åŒ…æ‹¬æ ¸è¨­æ–½èˆ‡é ˜å°å±¤ï¼Œå°‡è¡çªæ¨å‘å…¨é¢æˆ°çˆ­ã€‚' }] }
                ],
                en: [
                    { id: 'alliance', year: '1948â€“1979', title: 'The Unlikely Alliance', summary: 'Based on shared threats (the Soviet Union, Pan-Arabism), Pahlavi-era Iran and Israel established a pragmatic, semi-covert alliance.', details: [ { icon: 'ğŸ¤', text: '<strong>De Facto Recognition (1950):</strong> Iran became the second Muslim-majority country after Turkey to recognize Israel.' }, { icon: 'ğŸ›¢ï¸', text: '<strong>Economic Cooperation:</strong> They jointly built the Eilat-Ashkelon pipeline, allowing Iranian oil to bypass the Suez Canal to Europe, bringing huge profits to both nations.' }, { icon: 'ğŸ¤«', text: '<strong>Covert Military-Intel Cooperation:</strong> Israel assisted Iran in weapons development (e.g., Project Flower) and maintained an intelligence station in Tehran.' }] },
                    { id: 'rupture', year: '1979', title: 'The Revolutionary Rupture', summary: 'The Islamic Revolution led by Khomeini completely upended Iran, turning it from a US ally into an enemy, and its relationship with Israel ruptured accordingly.', details: [ { icon: 'ğŸ‘¹', text: '<strong>Birth of the "Little Satan":</strong> The new regime defined the US as the "Great Satan" and Israel as the "Little Satan," making anti-Zionism a state policy.' }, { icon: 'ğŸ‡µğŸ‡¸', text: '<strong>Diplomatic Shift:</strong> Iran closed the Israeli embassy and handed it over to the Palestine Liberation Organization (PLO), completely severing ties.' }, { icon: 'ğŸ¤”', text: '<strong>Domestic Motivation:</strong> Fierce anti-Israel rhetoric was a key tool for the new regime to consolidate power and distance itself from the overthrown, pro-Western Shah.' }] },
                    { id: 'proxy', year: '1982â€“2024', title: 'The Era of Proxy Wars', summary: 'Iran developed its "Axis of Resistance" strategy, waging an asymmetric war against Israel by funding and arming its proxies across the Middle East.', details: [ { icon: 'ğŸ‡±ğŸ‡§', text: '<strong>Creation of Hezbollah (1982):</strong> Iran\'s IRGC organized, trained, and funded Hezbollah in Lebanon, making it the most potent threat on Israel\'s northern border.' }, { icon: 'ğŸ‡µğŸ‡¸', text: '<strong>Support for Palestinian Factions:</strong> From the 1990s, Iran provided funds and military training to Hamas and Islamic Jihad, opening a second front in Gaza.' }, { icon: 'ğŸ‡¸ğŸ‡¾', text: '<strong>The Syrian Arena:</strong> Syria became a crucial corridor for Iran to transfer weapons to Hezbollah. Israel launched hundreds of airstrikes to prevent Iran from establishing a military foothold there.' }] },
                    { id: 'shadow', year: '2010sâ€“2024', title: 'Shadow War & Nuclear Standoff', summary: 'Iran\'s nuclear program became the core of the conflict. Israel, viewing it as an existential threat, waged a long-term covert war to sabotage and delay its progress.', details: [ { icon: 'âš›ï¸', text: '<strong>Nuclear Acceleration:</strong> After the US withdrew from the JCPOA in 2018, Iran accelerated its uranium enrichment, reducing its "breakout time" to a matter of weeks.' }, { icon: 'ğŸ¯', text: '<strong>Covert Operations:</strong> Israel\'s Mossad is accused of assassinating several nuclear scientists inside Iran and physically sabotaging nuclear facilities.' }, { icon: 'ğŸ’»', text: '<strong>Stuxnet Virus (2010):</strong> A US-Israeli computer worm that successfully destroyed nearly 1,000 centrifuges at Iran\'s Natanz facility, a milestone in cyber warfare.' }] },
                    { id: 'open', year: '2024â€“2025', title: 'Towards Open War', summary: 'Long-standing rules of engagement were broken, as both sides escalated from proxy and shadow wars to unprecedented direct military attacks.', details: [ { icon: 'ğŸ’¥', text: '<strong>Damascus Strike (Apr 2024):</strong> An Israeli airstrike on the Iranian consulate in Syria killed senior IRGC commanders, seen by Iran as a direct attack on its sovereignty.' }, { icon: 'ğŸš€', text: '<strong>Iran\'s First Direct Hit (Apr 2024):</strong> Iran launched over 300 drones and missiles directly at Israeli territory, crossing the threshold of direct conflict.' }, { icon: 'ğŸ¦', text: '<strong>Operation Lion\'s Rise (Jun 2025):</strong> Citing Iran\'s imminent nuclear capability, Israel launched a massive preemptive airstrike targeting nuclear facilities and leadership, pushing the conflict towards all-out war.' }] }
                ]
            };
            
            const internationalPositions = {
                zh: {
                    usa: { title: "ğŸ‡ºğŸ‡¸ ç¾åœ‹ï¼šè¤‡é›œçš„ç›Ÿå‹", content: "ä½œç‚ºä»¥è‰²åˆ—æœ€é—œéµçš„ç›Ÿå‹ï¼Œç¾åœ‹æä¾›å·¨é¡è»äº‹æ´åŠ©ä¸¦ç›´æ¥åƒèˆ‡é˜²ç¦¦ã€‚ç„¶è€Œï¼Œè¯ç››é “ä¹Ÿæ¥µåŠ›é¿å…è¢«æ‹–å…¥ä¸€å ´æ›´å»£æ³›çš„ä¸­æ±æˆ°çˆ­ã€‚å…¶æ”¿ç­–åœ¨ã€å¤–äº¤è«‡åˆ¤ã€èˆ‡ã€æ¥µé™æ–½å£“ã€é–“æ–æ“ºï¼Œä¸”å°ä»¥è‰²åˆ—çš„ç´„æŸåŠ›æœ‰é™ï¼Œå°¤å…¶ç•¶ä»¥è‰²åˆ—æ„ŸçŸ¥åˆ°ç”Ÿå­˜å¨è„…æ™‚ã€‚" },
                    russia: { title: "ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯ï¼šæ¨¡ç³Šçš„ä»²è£è€…", content: "ä¿„ç¾…æ–¯èˆ‡è¡çªé›™æ–¹éƒ½ä¿æŒé—œä¿‚ï¼Œå°‡è‡ªå·±å®šä½ç‚ºæ½›åœ¨çš„èª¿è§£äººã€‚å®ƒè­´è²¬ä»¥è‰²åˆ—çš„æ”»æ“Šé•ååœ‹éš›æ³•ï¼Œä½†å…¶åœ¨æ•˜åˆ©äºèˆ‡ä¼Šæœ—çš„çµç›Ÿé—œä¿‚ï¼Œä»¥åŠæ™®éçš„åè¥¿æ–¹ç«‹å ´ï¼Œæ„å‘³è‘—å®ƒä¸¦éä¸­ç«‹ä¸€æ–¹ï¼Œå…¶ä¸»è¦ç›®æ¨™æ˜¯æå‡è‡ªèº«å€åŸŸå½±éŸ¿åŠ›ä¸¦åˆ¶è¡¡ç¾åœ‹ã€‚" },
                    arab: { title: "ğŸ‡¸ğŸ‡¦ é˜¿æ‹‰ä¼¯åœ‹å®¶ï¼šè¬¹æ…çš„æ—è§€è€…", content: "æ²™çƒåœ°é˜¿æ‹‰ä¼¯ã€é˜¿è¯é…‹ç­‰æµ·ç£åœ‹å®¶èˆ‡ä»¥è‰²åˆ—åŒæ¨£æ“”æ†‚ä¼Šæœ—çš„é‡å¿ƒã€‚ç„¶è€Œï¼Œå‡ºæ–¼ç¶“æ¿Ÿè‡ªæˆ‘ä¿è­·å’Œé¿å…å¼•ç«ç‡’èº«çš„ææ‡¼ï¼Œä»–å€‘å…¬é–‹è­´è²¬ä»¥è‰²åˆ—çš„æ”»æ“Šä¸¦å‘¼ç±²é™æº«ã€‚é€™æ˜¯ä¸€ç¨®ã€æˆ°ç•¥å°æ²–ã€ï¼šå…¬é–‹èˆ‡ä¼Šæœ—ç·©å’Œé—œä¿‚ï¼Œç§ä¸‹å‰‡ä¾è³´èˆ‡ç¾åœ‹çš„å®‰å…¨è¯ç¹«ã€‚" }
                },
                en: {
                    usa: { title: "ğŸ‡ºğŸ‡¸ USA: The Complicated Ally", content: "As Israel's most critical ally, the US provides massive military aid and directly participates in its defense. However, Washington is also desperate to avoid being dragged into a broader Middle East war. Its policy swings between 'diplomatic negotiation' and 'maximum pressure,' and its ability to restrain Israel is limited, especially when Israel perceives an existential threat." },
                    russia: { title: "ğŸ‡·ğŸ‡º Russia: The Ambiguous Arbiter", content: "Russia maintains relations with both sides, positioning itself as a potential mediator. It condemns Israeli attacks as violations of international law, but its alliance with Iran in Syria and its general anti-Western stance mean it is not a neutral party. Its main goal is to enhance its regional influence and counterbalance the US." },
                    arab: { title: "ğŸ‡¸ğŸ‡¦ Arab States: The Cautious Onlookers", content: "Gulf states like Saudi Arabia and the UAE share Israel's concerns about Iranian ambitions. However, out of economic self-preservation and fear of getting caught in the crossfire, they publicly condemn Israeli attacks and call for de-escalation. This is a 'strategic hedge': publicly easing tensions with Iran while privately relying on security ties with the US." }
                }
            };
            
            // --- DOM Elements ---
            const timelineNav = document.getElementById('timeline-nav');
            const timelineDisplay = document.getElementById('timeline-display');
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContent = document.getElementById('tab-content');
            
            // --- FUNCTIONS ---
            
            function updateTextContent(lang) {
                const t = translations[lang];
                document.documentElement.lang = lang === 'zh' ? 'zh-TW' : 'en';
                document.title = t.pageTitle;

                // Update all elements with data-key attributes
                document.querySelectorAll('[data-key]').forEach(el => {
                    const key = el.dataset.key;
                    if (t[key]) {
                        // Handle special cases like list content
                        if (key === 'arena1List' || key === 'arena2List') {
                             el.innerHTML = t[key];
                        } else {
                            el.textContent = t[key];
                        }
                    }
                });
                
                // Update mobile nav links separately as they have unique keys in the data model
                document.querySelector('[data-key="navTimelineMobile"]').textContent = t.navTimeline;
                document.querySelector('[data-key="navDriversMobile"]').textContent = t.navDrivers;
                document.querySelector('[data-key="navArenasMobile"]').textContent = t.navArenas;
                document.querySelector('[data-key="navImpactMobile"]').textContent = t.navImpact;
            }
            
            function renderTimeline(lang) {
                timelineNav.innerHTML = '';
                const data = timelineData[lang];
                
                data.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'timeline-item cursor-pointer p-4 rounded-lg transition hover:bg-stone-100';
                    div.dataset.id = item.id;
                    div.innerHTML = `
                        <div class="flex items-center">
                            <div class="timeline-dot w-4 h-4 bg-stone-300 rounded-full border-4 border-white shadow-md transition-transform duration-300"></div>
                            <div class="ml-4 timeline-content">
                                <h3 class="text-lg font-semibold text-stone-700 transition">${item.title}</h3>
                                <p class="text-sm text-stone-500">${item.year}</p>
                            </div>
                        </div>
                    `;
                    div.addEventListener('click', () => renderTimelineContent(item.id, lang));
                    timelineNav.appendChild(div);
                });
                
                // Initially render the first item
                if (data.length > 0) {
                    renderTimelineContent(data[0].id, lang);
                }
            }

            function renderTimelineContent(id, lang) {
                const item = timelineData[lang].find(d => d.id === id);
                if (!item) return;

                timelineDisplay.innerHTML = `
                    <div class="fade-in">
                        <h3 class="text-2xl font-bold mb-1 text-blue-900">${item.title}</h3>
                        <p class="text-sm text-stone-500 mb-4">${item.year}</p>
                        <p class="text-stone-700 mb-6">${item.summary}</p>
                        <ul class="space-y-3">
                            ${item.details.map(detail => `
                                <li class="flex items-start">
                                    <span class="text-xl mr-3 mt-1">${detail.icon}</span>
                                    <span class="text-stone-600">${detail.text}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;

                document.querySelectorAll('.timeline-item').forEach(el => {
                    el.classList.toggle('active', el.dataset.id === id);
                });
            }
            
            function renderTabContent(tabId, lang) {
                const data = internationalPositions[lang][tabId];
                if (!data) return;

                tabContent.innerHTML = `
                    <div class="p-4 bg-stone-50 rounded-lg fade-in">
                        <h4 class="font-bold text-lg mb-2 text-blue-900">${data.title}</h4>
                        <p class="text-stone-600">${data.content}</p>
                    </div>
                `;
                tabButtons.forEach(button => {
                    button.classList.toggle('active', button.dataset.tab === tabId);
                });
            }
            
            function createNuclearChart(lang) {
                if (nuclearChartInstance) nuclearChartInstance.destroy();
                const t = translations[lang];
                const nuclearCtx = document.getElementById('nuclearChart').getContext('2d');
                nuclearChartInstance = new Chart(nuclearCtx, {
                    type: 'bar',
                    data: {
                        labels: t.nuclearChartLabels,
                        datasets: [
                            { label: t.nuclearChartLEU, data: [7000, 300, 3800], backgroundColor: 'rgba(2, 132, 199, 0.6)', borderColor: 'rgba(2, 132, 199, 1)', borderWidth: 1 },
                            { label: t.nuclearChartHEU, data: [0, 0, 100], backgroundColor: 'rgba(217, 119, 6, 0.6)', borderColor: 'rgba(217, 119, 6, 1)', borderWidth: 1 },
                        ]
                    },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, stacked: true, title: { display: true, text: t.nuclearChartYAxis } }, x: { stacked: true } }, plugins: { tooltip: { mode: 'index', intersect: false }, title: { display: false } } }
                });
            }
            
            function createSpendingChart(lang) {
                if (spendingChartInstance) spendingChartInstance.destroy();
                const t = translations[lang];
                const spendingCtx = document.getElementById('spendingChart').getContext('2d');
                spendingChartInstance = new Chart(spendingCtx, {
                    type: 'bar',
                    data: {
                        labels: t.spendingChartCountries,
                        datasets: [{ label: t.spendingChartLabel, data: [65, 30], backgroundColor: ['rgba(30, 64, 175, 0.6)', 'rgba(0, 100, 80, 0.6)'], borderColor: ['rgba(30, 64, 175, 1)', 'rgba(0, 100, 80, 1)'], borderWidth: 1 }]
                    },
                    options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, scales: { x: { beginAtZero: true, title: { display: true, text: t.spendingChartXAxis } } }, plugins: { legend: { display: false }, title: { display: false } } }
                });
            }
            
            function switchLanguage() {
                currentLang = currentLang === 'zh' ? 'en' : 'zh';
                updateUIForLanguage(currentLang);
            }
            
            function updateUIForLanguage(lang) {
                 // 1. Update all static text
                updateTextContent(lang);
                
                // 2. Re-render dynamic components
                renderTimeline(lang);
                
                // 3. Re-create charts with new labels
                createNuclearChart(lang);
                createSpendingChart(lang);

                // 4. Update the active tab with the new language
                const activeTab = document.querySelector('.tab-button.active');
                if (activeTab) {
                    renderTabContent(activeTab.dataset.tab, lang);
                }
            }
            
            // --- EVENT LISTENERS ---
            
            // Language Switcher
            document.getElementById('lang-switcher').addEventListener('click', switchLanguage);
            document.getElementById('lang-switcher-mobile').addEventListener('click', switchLanguage);
            
            // Tabs
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    renderTabContent(button.dataset.tab, currentLang);
                });
            });
            
            // Mobile Menu
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            // Smooth Scrolling & Active Nav Link Highlighting
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                    if (!mobileMenu.classList.contains('hidden')) {
                       mobileMenu.classList.add('hidden');
                    }
                });
            });
            
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 80) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

            // --- INITIALIZATION ---
            updateUIForLanguage(currentLang);
        });
    </script>
</body>
</html>