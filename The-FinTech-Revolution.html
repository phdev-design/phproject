<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The FinTech Revolution: Reshaping Future Finance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .lang-zh {
            font-family: 'Noto Sans TC', sans-serif;
        }
        .lang-en {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12 relative">
            <h1 id="main-title" class="text-4xl md:text-6xl font-bold text-gray-900 mb-4"></h1>
            <p id="sub-title" class="text-xl md:text-2xl text-gray-700"></p>
            <button id="lang-switcher" class="absolute top-0 right-0 bg-white text-gray-800 font-semibold py-2 px-4 border border-gray-300 rounded-lg shadow-sm hover:bg-gray-100 transition-colors">
                ä¸­æ–‡
            </button>
        </header>

        <main class="space-y-12">

            <section id="transformation">
                <div class="text-center mb-8">
                    <h2 id="chap1-title" class="text-3xl font-bold text-gray-900"></h2>
                    <p id="chap1-desc" class="mt-2 text-lg text-gray-600"></p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 items-stretch">
                    <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col justify-center">
                        <h3 id="viz1-title" class="text-2xl font-bold text-center mb-4 text-gray-800"></h3>
                        <p id="viz1-desc" class="text-gray-600 mb-4 text-center"></p>
                        <div class="chart-container h-64 md:h-80">
                            <canvas id="investmentGrowthChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col justify-center">
                        <h3 id="viz2-title" class="text-2xl font-bold text-center mb-4 text-gray-800"></h3>
                        <p id="viz2-desc" class="text-gray-600 mb-6 text-center"></p>
                        <div class="space-y-4">
                            <div class="flex items-center bg-gray-50 p-3 rounded-lg">
                                <span class="text-2xl mr-4">ğŸ’¡</span>
                                <div>
                                    <h4 id="tech1-title" class="font-bold text-lg"></h4>
                                    <p id="tech1-desc" class="text-sm text-gray-600"></p>
                                </div>
                            </div>
                            <div class="flex items-center bg-gray-50 p-3 rounded-lg">
                                <span class="text-2xl mr-4">ğŸ”—</span>
                                <div>
                                    <h4 id="tech2-title" class="font-bold text-lg"></h4>
                                    <p id="tech2-desc" class="text-sm text-gray-600"></p>
                                </div>
                            </div>
                            <div class="flex items-center bg-gray-50 p-3 rounded-lg">
                                <span class="text-2xl mr-4">â˜ï¸</span>
                                <div>
                                    <h4 id="tech3-title" class="font-bold text-lg"></h4>
                                    <p id="tech3-desc" class="text-sm text-gray-600"></p>
                                </div>
                            </div>
                             <div class="flex items-center bg-gray-50 p-3 rounded-lg">
                                <span class="text-2xl mr-4">ğŸ”„</span>
                                <div>
                                    <h4 id="tech4-title" class="font-bold text-lg"></h4>
                                    <p id="tech4-desc" class="text-sm text-gray-600"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <hr class="border-gray-300 my-12">

            <section id="competition">
                <div class="text-center mb-8">
                    <h2 id="chap2-title" class="text-3xl font-bold text-gray-900"></h2>
                    <p id="chap2-desc" class="mt-2 text-lg text-gray-600"></p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 id="viz3-title" class="text-2xl font-bold text-center mb-4 text-gray-800"></h3>
                        <p id="viz3-desc" class="text-gray-600 mb-4 text-center"></p>
                        <div class="chart-container h-80">
                            <canvas id="fintechHubsChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
                        <h3 id="viz4-title" class="text-2xl font-bold text-center mb-4 text-gray-800"></h3>
                        <p id="viz4-desc" class="text-gray-600 mb-6 text-center"></p>
                        <div class="flex-grow flex flex-col justify-center space-y-4">
                            <div class="text-center p-4 bg-blue-50 rounded-lg">
                                <h4 id="strategy1-title" class="font-bold text-xl text-blue-800"></h4>
                                <p id="strategy1-desc" class="text-blue-700"></p>
                            </div>
                            <div class="text-center text-2xl font-bold text-gray-400 my-2">+</div>
                             <div class="text-center p-4 bg-green-50 rounded-lg">
                                <h4 id="strategy2-title" class="font-bold text-xl text-green-800"></h4>
                                <p id="strategy2-desc" class="text-green-700"></p>
                            </div>
                            <div class="text-center text-2xl font-bold text-gray-400 my-2">+</div>
                             <div class="text-center p-4 bg-yellow-50 rounded-lg">
                                <h4 id="strategy3-title" class="font-bold text-xl text-yellow-800"></h4>
                                <p id="strategy3-desc" class="text-yellow-700"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <hr class="border-gray-300 my-12">

            <section id="privacy-security">
                <div class="text-center mb-8">
                    <h2 id="chap3-title" class="text-3xl font-bold text-gray-900"></h2>
                    <p id="chap3-desc" class="mt-2 text-lg text-gray-600"></p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 id="viz5-title" class="text-2xl font-bold text-center mb-4 text-gray-800"></h3>
                        <p id="viz5-desc" class="text-gray-600 mb-4 text-center"></p>
                        <div class="chart-container h-80">
                            <canvas id="securityThreatsChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-6">
                         <h3 id="viz6-title" class="text-2xl font-bold text-center mb-4 text-gray-800"></h3>
                        <p id="viz6-desc" class="text-gray-600 mb-4 text-center"></p>
                        <div class="flex flex-col items-center justify-center space-y-4 p-4 bg-red-50 rounded-lg h-full">
                            <div class="text-center">
                                <p id="dilemma1-title" class="font-semibold"></p>
                                <p id="dilemma1-desc" class="text-sm text-gray-600"></p>
                            </div>
                            <div class="text-4xl text-red-400">â¬‡</div>
                             <div class="text-center p-3 bg-white rounded-md shadow">
                                <p class="font-bold text-lg">ğŸ¤– <span id="dilemma2-title"></span></p>
                            </div>
                            <div class="text-4xl text-red-400">â¬‡</div>
                            <div class="text-center">
                                <p id="dilemma3-title" class="font-semibold text-red-600"></p>
                                <p id="dilemma3-desc" class="text-sm text-red-500"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <hr class="border-gray-300 my-12">

            <section id="regulation">
                <div class="text-center mb-8">
                    <h2 id="chap4-title" class="text-3xl font-bold text-gray-900"></h2>
                    <p id="chap4-desc" class="mt-2 text-lg text-gray-600"></p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 overflow-x-auto">
                    <h3 id="viz7-title" class="text-2xl font-bold text-center mb-6 text-gray-800"></h3>
                    <table class="w-full min-w-max text-left">
                        <thead>
                            <tr class="border-b-2 border-gray-300">
                                <th id="table-head1" class="p-4 font-bold text-gray-700"></th>
                                <th class="p-4 font-bold text-gray-700">USA ğŸ‡ºğŸ‡¸</th>
                                <th class="p-4 font-bold text-gray-700">EU ğŸ‡ªğŸ‡º</th>
                                <th class="p-4 font-bold text-gray-700">Asia (Representative) ğŸ‡¸ğŸ‡¬ğŸ‡¨ğŸ‡³</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-200">
                                <td id="table-row1-head" class="p-4 font-semibold"></td>
                                <td id="table-row1-col1" class="p-4"></td>
                                <td id="table-row1-col2" class="p-4"></td>
                                <td id="table-row1-col3" class="p-4"></td>
                            </tr>
                            <tr class="border-b border-gray-200 bg-gray-50">
                                <td id="table-row2-head" class="p-4 font-semibold"></td>
                                <td id="table-row2-col1" class="p-4"></td>
                                <td id="table-row2-col2" class="p-4"></td>
                                <td id="table-row2-col3" class="p-4"></td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td id="table-row3-head" class="p-4 font-semibold"></td>
                                <td id="table-row3-col1" class="p-4"></td>
                                <td id="table-row3-col2" class="p-4"></td>
                                <td id="table-row3-col3" class="p-4"></td>
                            </tr>
                            <tr class="bg-gray-50">
                                <td id="table-row4-head" class="p-4 font-semibold"></td>
                                <td id="table-row4-col1" class="p-4"></td>
                                <td id="table-row4-col2" class="p-4"></td>
                                <td id="table-row4-col3" class="p-4"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <hr class="border-gray-300 my-12">

            <section id="future">
                 <div class="text-center mb-8">
                    <h2 id="chap5-title" class="text-3xl font-bold text-gray-900"></h2>
                    <p id="chap5-desc" class="mt-2 text-lg text-gray-600"></p>
                </div>
                 <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                    <h3 id="viz8-title" class="text-2xl font-bold text-center mb-6 text-gray-800"></h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                        <div class="p-4 border border-gray-200 rounded-lg">
                            <div class="text-4xl mb-3">ğŸ¤</div>
                            <h4 id="future1-title" class="text-xl font-bold mb-2"></h4>
                            <p id="future1-desc" class="text-gray-600"></p>
                        </div>
                        <div class="p-4 border border-gray-200 rounded-lg">
                            <div class="text-4xl mb-3">ğŸŒ¿</div>
                            <h4 id="future2-title" class="text-xl font-bold mb-2"></h4>
                            <p id="future2-desc" class="text-gray-600"></p>
                        </div>
                        <div class="p-4 border border-gray-200 rounded-lg">
                             <div class="text-4xl mb-3">ğŸ¦</div>
                            <h4 id="future3-title" class="text-xl font-bold mb-2"></h4>
                            <p id="future3-desc" class="text-gray-600"></p>
                        </div>
                    </div>
                 </div>
            </section>

        </main>

        <footer class="text-center mt-16 py-6 border-t border-gray-300">
            <p id="footer-source" class="text-gray-500"></p>
            <p id="footer-date" class="text-xs text-gray-400 mt-2"></p>
        </footer>

    </div>

<script>
const content = {
    en: {
        "main-title": "The FinTech Revolution",
        "sub-title": "Reshaping Traditional Finance & Navigating Privacy Challenges",
        "lang-switcher": "ä¸­æ–‡",
        "chap1-title": "Chapter 1: The Transformation of the Financial Landscape",
        "chap1-desc": "Technology is redefining the shape and boundaries of financial services with unprecedented force.",
        "viz1-title": "Explosive Growth in Global Investment",
        "viz1-desc": "FinTech has become a focal point for global capital. According to the report, global investment grew more than 22-fold from 2008 to 2015, demonstrating the market's immense confidence in its disruptive potential.",
        "viz1-label": "Global FinTech Investment (in Billions USD)",
        "viz2-title": "Core Technology Engines",
        "viz2-desc": "A series of enabling technologies form the cornerstone of financial innovation, collectively driving fundamental changes in service models.",
        "tech1-title": "AI & Big Data",
        "tech1-desc": "Enabling precise risk assessment and personalized services.",
        "tech2-title": "Blockchain & DLT",
        "tech2-desc": "Creating decentralized, secure transaction frameworks.",
        "tech3-title": "Cloud Computing",
        "tech3-desc": "Providing flexible, low-cost infrastructure.",
        "tech4-title": "APIs & Open Banking",
        "tech4-desc": "Fostering data interoperability and new ecosystems.",
        "chap2-title": "Chapter 2: A New Competitive Arena",
        "chap2-desc": "The wave of FinTech has changed the competitive landscape, evolving from simple disruption to a complex 'coopetition'.",
        "viz3-title": "Global FinTech Hub City Rankings",
        "viz3-desc": "Several leading FinTech hubs have formed globally, gathering top talent, capital, and innovative companies to lead industry development.",
        "viz3-label": "FinTech Hub Index (Score)",
        "viz3-cities": ['New York', 'London', 'Shanghai', 'Beijing', 'Shenzhen', 'Singapore'],
        "viz4-title": "Traditional Banks' Strategic Responses",
        "viz4-desc": "Facing challenges, traditional financial institutions are adopting diverse strategies, from internal transformation to external collaboration, to maintain competitiveness in the digital age.",
        "strategy1-title": "Build (Internal Transformation)",
        "strategy1-desc": "e.g., DBS Bank, internalizing tech capabilities and reshaping corporate culture.",
        "strategy2-title": "Partner (Collaboration & Enablement)",
        "strategy2-desc": "Partnering with tech companies to quickly acquire mature solutions.",
        "strategy3-title": "Foster/Buy (Ecosystem Cultivation)",
        "strategy3-desc": "e.g., JPMorgan Chase, positioning for the future through accelerators or acquisitions.",
        "chap3-title": "Chapter 3: The Double-Edged Sword of Data",
        "chap3-desc": "Behind the convenience of data-driven services lie increasingly severe privacy and security challenges.",
        "viz5-title": "Primary Cybersecurity Threat Sources",
        "viz5-desc": "FinTech's interconnected ecosystem makes it highly vulnerable to attacks. The report indicates that up to 40% of data breaches originate from the supply chain, which has become the most severe threat.",
        "viz5-label": "Threat Source Distribution",
        "viz5-sources": ['Third-Party/Supply Chain Attacks', 'API Vulnerabilities', 'Ransomware', 'Phishing & Credential Stuffing', 'Other'],
        "viz6-title": "The Algorithmic Fairness Dilemma",
        "viz6-desc": "While AI enhances credit efficiency, it can also replicate or even amplify societal biases, creating digital discrimination, which poses a profound challenge to financial fairness.",
        "dilemma1-title": "Biased Historical Data",
        "dilemma1-desc": "(e.g., higher default rates in certain areas)",
        "dilemma2-title": "AI Risk Model",
        "dilemma3-title": "Unfair Decision Outcomes",
        "dilemma3-desc": "(e.g., charging higher interest rates to specific groups)",
        "chap4-title": "Chapter 4: The Global Regulatory Maze",
        "chap4-desc": "Nations are seeking a balance between encouraging innovation and protecting consumers, leading to distinctly different regulatory paths.",
        "viz7-title": "Global Regulatory Framework Comparison",
        "table-head1": "Aspect",
        "table-row1-head": "Overall Style",
        "table-row1-col1": "Fragmented, Multi-layered",
        "table-row1-col2": "Harmonized, Rules-driven",
        "table-row1-col3": "Mixed (Innovation & Control)",
        "table-row2-head": "Data Privacy",
        "table-row2-col1": "State-level (e.g., CCPA)",
        "table-row2-col2": "Unified GDPR, strict standards",
        "table-row2-col3": "Varies, trending towards strict",
        "table-row3-head": "Open Banking",
        "table-row3-col1": "Market-driven, emerging",
        "table-row3-col2": "Mandated (PSD2), mature",
        "table-row3-col3": "Actively promoted by Singapore, etc.",
        "table-row4-head": "Crypto Assets",
        "table-row4-col1": "Unclear framework, high uncertainty",
        "table-row4-col2": "Comprehensive, unified MiCA regulation",
        "table-row4-col3": "Varies widely (ban vs. license)",
        "chap5-title": "Chapter 5: Future Trajectory & Strategic Imperatives",
        "chap5-desc": "Technological convergence and macro trends are shaping the next frontier of finance.",
        "viz8-title": "Forces Shaping the Future of Finance",
        "future1-title": "AI + Blockchain Convergence",
        "future1-desc": "Pioneering an era of 'Autonomous Finance' for more efficient, inclusive services.",
        "future2-title": "Sustainable Finance (ESG)",
        "future2-desc": "Leveraging technology to drive green finance and address climate risks.",
        "future3-title": "Central Bank Digital Currencies (CBDC)",
        "future3-desc": "Could fundamentally reshape the global payment system and banking industry.",
        "footer-source": "Source: Analysis of FinTech Disruption Reports. This infographic is for illustrative purposes only.",
        "footer-date": "Infographic generated on August 10, 2025."
    },
    zh: {
        "main-title": "é‡‘èç§‘æŠ€é©å‘½",
        "sub-title": "é‡å¡‘å‚³çµ±é‡‘èï¼Œé§•é¦­éš±ç§æŒ‘æˆ°",
        "lang-switcher": "English",
        "chap1-title": "ç¬¬ä¸€ç« ï¼šé‡‘èæ ¼å±€çš„è½‰å‹",
        "chap1-desc": "æŠ€è¡“æ­£ä»¥å‰æ‰€æœªæœ‰çš„åŠ›é‡ï¼Œé‡æ–°å®šç¾©é‡‘èæœå‹™çš„æ¨£è²Œèˆ‡é‚Šç•Œã€‚",
        "viz1-title": "å…¨çƒæŠ•è³‡é¡çˆ†ç‚¸æ€§å¢é•·",
        "viz1-desc": "é‡‘èç§‘æŠ€å·²æˆç‚ºå…¨çƒè³‡æœ¬è¿½é€çš„ç„¦é»ã€‚æ ¹æ“šå ±å‘Šï¼Œå…¨çƒæŠ•è³‡é¡å¾2008å¹´åˆ°2015å¹´å¢é•·è¶…é22å€ï¼Œé¡¯ç¤ºäº†å¸‚å ´å°å…¶é¡›è¦†æ€§æ½›åŠ›çš„å·¨å¤§ä¿¡å¿ƒã€‚",
        "viz1-label": "å…¨çƒé‡‘èç§‘æŠ€æŠ•è³‡é¡ (å„„ç¾å…ƒ)",
        "viz2-title": "æ ¸å¿ƒæŠ€è¡“å¼•æ“",
        "viz2-desc": "ä¸€ç³»åˆ—è³¦èƒ½æŠ€è¡“æ˜¯é‡‘èå‰µæ–°çš„åŸºçŸ³ï¼Œå®ƒå€‘å…±åŒé©…å‹•äº†æœå‹™æ¨¡å¼çš„æ ¹æœ¬æ€§è®Šé©ã€‚",
        "tech1-title": "AI èˆ‡å¤§æ•¸æ“š",
        "tech1-desc": "å¯¦ç¾ç²¾æº–é¢¨éšªè©•ä¼°èˆ‡å€‹äººåŒ–æœå‹™ã€‚",
        "tech2-title": "å€å¡Šéˆ & DLT",
        "tech2-desc": "æ‰“é€ å»ä¸­å¿ƒåŒ–ã€å®‰å…¨çš„äº¤æ˜“æ¡†æ¶ã€‚",
        "tech3-title": "é›²ç«¯é‹ç®—",
        "tech3-desc": "æä¾›å½ˆæ€§ã€ä½æˆæœ¬çš„åŸºç¤è¨­æ–½ã€‚",
        "tech4-title": "API èˆ‡é–‹æ”¾éŠ€è¡Œ",
        "tech4-desc": "ä¿ƒé€²æ•¸æ“šäº’é€šï¼Œå‚¬ç”Ÿæ–°ç”Ÿæ…‹ã€‚",
        "chap2-title": "ç¬¬äºŒç« ï¼šå…¨æ–°çš„ç«¶çˆ­èˆå°",
        "chap2-desc": "é‡‘èç§‘æŠ€çš„æµªæ½®æ”¹è®Šäº†ç«¶çˆ­æ ¼å±€ï¼Œå¾å–®ç´”é¡›è¦†æ¼”è®Šç‚ºè¤‡é›œçš„ã€Œç«¶åˆã€é—œä¿‚ã€‚",
        "viz3-title": "å…¨çƒé‡‘èç§‘æŠ€ä¸­å¿ƒåŸå¸‚æ’å",
        "viz3-desc": "å…¨çƒç¯„åœå…§å·²å½¢æˆæ•¸å€‹é ˜å…ˆçš„é‡‘èç§‘æŠ€æ¨ç´ï¼Œå®ƒå€‘èšé›†äº†é ‚å°–äººæ‰ã€è³‡æœ¬å’Œå‰µæ–°ä¼æ¥­ï¼Œå¼•é ˜ç”¢æ¥­ç™¼å±•æ–¹å‘ã€‚",
        "viz3-label": "é‡‘èç§‘æŠ€ä¸­å¿ƒæŒ‡æ•¸ (åˆ†æ•¸)",
        "viz3-cities": ['ç´ç´„', 'å€«æ•¦', 'ä¸Šæµ·', 'åŒ—äº¬', 'æ·±åœ³', 'æ–°åŠ å¡'],
        "viz4-title": "å‚³çµ±éŠ€è¡Œçš„ç­–ç•¥æ‡‰å°",
        "viz4-desc": "é¢å°æŒ‘æˆ°ï¼Œå‚³çµ±é‡‘èæ©Ÿæ§‹æ¡å–å¤šå…ƒç­–ç•¥ï¼Œå¾å…§éƒ¨è½‰å‹åˆ°å¤–éƒ¨åˆä½œï¼ŒåŠ›åœ–åœ¨æ•¸ä½æ™‚ä»£ä¿æŒç«¶çˆ­åŠ›ã€‚",
        "strategy1-title": "è‡ªå»ºè½‰å‹ (Build)",
        "strategy1-desc": "å¦‚æ˜Ÿå±•éŠ€è¡Œï¼Œå…§åŒ–æŠ€è¡“èƒ½åŠ›ï¼Œé‡å¡‘ä¼æ¥­æ–‡åŒ–ã€‚",
        "strategy2-title": "åˆä½œè³¦èƒ½ (Partner)",
        "strategy2-desc": "èˆ‡æŠ€è¡“å…¬å¸åˆä½œï¼Œå¿«é€Ÿç²å–æˆç†Ÿè§£æ±ºæ–¹æ¡ˆã€‚",
        "strategy3-title": "åŸ¹è‚²ç”Ÿæ…‹ (Foster/Buy)",
        "strategy3-desc": "å¦‚æ‘©æ ¹å¤§é€šï¼Œé€éåŠ é€Ÿå™¨æˆ–æ”¶è³¼ï¼Œä½ˆå±€æœªä¾†ã€‚",
        "chap3-title": "ç¬¬ä¸‰ç« ï¼šæ•¸æ“šçš„é›™é¢åˆƒ",
        "chap3-desc": "æ•¸æ“šé©…å‹•çš„ä¾¿åˆ©èƒŒå¾Œï¼Œæ˜¯æ—¥ç›Šåš´å³»çš„éš±ç§èˆ‡å®‰å…¨æŒ‘æˆ°ã€‚",
        "viz5-title": "ä¸»è¦ç¶²è·¯å®‰å…¨å¨è„…ä¾†æº",
        "viz5-desc": "é‡‘èç§‘æŠ€çš„äº’è¯ç”Ÿæ…‹ä½¿å…¶æ¥µæ˜“å—åˆ°æ”»æ“Šã€‚å ±å‘ŠæŒ‡å‡ºï¼Œé«˜é”40%çš„æ•¸æ“šæ´©éœ²æºæ–¼ä¾›æ‡‰éˆï¼Œé€™å·²æˆç‚ºæœ€åš´å³»çš„å¨è„…ã€‚",
        "viz5-label": "å¨è„…ä¾†æºåˆ†ä½ˆ",
        "viz5-sources": ['ç¬¬ä¸‰æ–¹/ä¾›æ‡‰éˆæ”»æ“Š', 'API æ¼æ´', 'å‹’ç´¢è»Ÿé«”', 'é‡£é­šèˆ‡æ†‘è­‰å¡«å……', 'å…¶ä»–'],
        "viz6-title": "æ¼”ç®—æ³•çš„å…¬å¹³æ€§å›°å¢ƒ",
        "viz6-desc": "AIåœ¨æå‡ä¿¡è²¸æ•ˆç‡çš„åŒæ™‚ï¼Œä¹Ÿå¯èƒ½è¤‡è£½ç”šè‡³æ”¾å¤§ç¤¾æœƒåè¦‹ï¼Œå½¢æˆæ•¸ä½æ­§è¦–ï¼Œé€™å°é‡‘èå…¬å¹³æ§‹æˆäº†æ·±åˆ»æŒ‘æˆ°ã€‚",
        "dilemma1-title": "å¸¶æœ‰åè¦‹çš„æ­·å²æ•¸æ“š",
        "dilemma1-desc": "(ä¾‹å¦‚ï¼šç‰¹å®šå€åŸŸé•ç´„ç‡è¼ƒé«˜)",
        "dilemma2-title": "AI é¢¨éšªæ¨¡å‹",
        "dilemma3-title": "ä¸å…¬å¹³çš„æ±ºç­–çµæœ",
        "dilemma3-desc": "(ä¾‹å¦‚ï¼šå°ç‰¹å®šç¾¤é«”æ”¶å–æ›´é«˜åˆ©ç‡)",
        "chap4-title": "ç¬¬å››ç« ï¼šå…¨çƒç›£ç®¡è¿·å®®",
        "chap4-desc": "å„åœ‹åœ¨é¼“å‹µå‰µæ–°èˆ‡ä¿è­·æ¶ˆè²»è€…ä¹‹é–“å°‹æ±‚å¹³è¡¡ï¼Œå½¢æˆäº†æˆªç„¶ä¸åŒçš„ç›£ç®¡è·¯å¾‘ã€‚",
        "viz7-title": "å…¨çƒç›£ç®¡æ¡†æ¶æ¯”è¼ƒ",
        "table-head1": "æ–¹é¢",
        "table-row1-head": "ç¸½é«”é¢¨æ ¼",
        "table-row1-col1": "åˆ†æ•£ã€å¤šå±¤æ¬¡",
        "table-row1-col2": "çµ±ä¸€ã€è¦å‰‡é©…å‹•",
        "table-row1-col3": "æ··åˆå‹ (å‰µæ–°èˆ‡æ§åˆ¶ä¸¦å­˜)",
        "table-row2-head": "æ•¸æ“šéš±ç§",
        "table-row2-col1": "å·ç´šç«‹æ³• (CCPA)",
        "table-row2-col2": "çµ±ä¸€çš„GDPRï¼Œæ¨™æº–åš´æ ¼",
        "table-row2-col3": "å„ä¸ç›¸åŒï¼Œè¶¨æ–¼åš´æ ¼",
        "table-row3-head": "é–‹æ”¾éŠ€è¡Œ",
        "table-row3-col1": "å¸‚å ´é©…å‹•ï¼Œæ–°èˆˆ",
        "table-row3-col2": "æ³•è¦å¼·åˆ¶ (PSD2)ï¼Œæˆç†Ÿ",
        "table-row3-col3": "æ–°åŠ å¡ç­‰ç©æ¥µæ¨å‹•",
        "table-row4-head": "åŠ å¯†è³‡ç”¢",
        "table-row4-col1": "æ¡†æ¶ä¸æ¸…æ™°ï¼Œä¸ç¢ºå®šæ€§é«˜",
        "table-row4-col2": "å…¨é¢çµ±ä¸€çš„MiCAæ³•è¦",
        "table-row4-col3": "å·®ç•°å·¨å¤§ (ç¦æ­¢ vs. ç‰Œç…§)",
        "chap5-title": "ç¬¬äº”ç« ï¼šæœªä¾†è»Œè·¡èˆ‡æˆ°ç•¥è¦å‹™",
        "chap5-desc": "æŠ€è¡“èåˆèˆ‡å®è§€è¶¨å‹¢æ­£å…±åŒå¡‘é€ é‡‘èçš„ä¸‹ä¸€å€‹å‰æ²¿ã€‚",
        "viz8-title": "å¡‘é€ é‡‘èçš„æœªä¾†åŠ›é‡",
        "future1-title": "AI + å€å¡Šéˆèåˆ",
        "future1-desc": "é–‹å‰µã€Œè‡ªä¸»é‡‘èã€æ™‚ä»£ï¼Œå¯¦ç¾æ›´é«˜æ•ˆã€æ™®æƒ çš„æœå‹™ã€‚",
        "future2-title": "æ°¸çºŒé‡‘è (ESG)",
        "future2-desc": "åˆ©ç”¨ç§‘æŠ€æ¨å‹•ç¶ è‰²é‡‘èï¼Œæ‡‰å°æ°£å€™é¢¨éšªã€‚",
        "future3-title": "å¤®è¡Œæ•¸ä½è²¨å¹£ (CBDC)",
        "future3-desc": "å¯èƒ½å¾æ ¹æœ¬ä¸Šé‡å¡‘å…¨çƒæ”¯ä»˜é«”ç³»èˆ‡éŠ€è¡Œæ¥­ã€‚",
        "footer-source": "è³‡æ–™ä¾†æºï¼šé‡‘èç§‘æŠ€é¡›è¦†å ±å‘Šåˆ†æã€‚æ­¤è³‡è¨Šåœ–è¡¨åƒ…ä¾›èªªæ˜ä¹‹ç”¨ã€‚",
        "footer-date": "è³‡è¨Šåœ–è¡¨ç”Ÿæˆæ–¼ 2025 å¹´ 8 æœˆ 10 æ—¥ã€‚"
    }
};

let currentLanguage = 'en';
let investmentGrowthChart, fintechHubsChart, securityThreatsChart;

function wrapLabels(label) {
    const maxLen = 16;
    if (typeof label !== 'string' || label.length <= maxLen) {
        return label;
    }
    const words = label.split(' ');
    const lines = [];
    let currentLine = '';
    for (const word of words) {
        if ((currentLine + ' ' + word).trim().length > maxLen && currentLine.length > 0) {
            lines.push(currentLine);
            currentLine = word;
        } else {
            currentLine = (currentLine + ' ' + word).trim();
        }
    }
    if (currentLine.length > 0) {
        lines.push(currentLine);
    }
    return lines;
}

const tooltipTitleCallback = (tooltipItems) => {
    const item = tooltipItems[0];
    let label = item.chart.data.labels[item.dataIndex];
    if (Array.isArray(label)) {
        return label.join(' ');
    }
    return label;
};

const sharedChartOptions = {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
        legend: {
            labels: {
                color: '#4b5563',
                font: {
                    size: 14
                }
            }
        },
        tooltip: {
            callbacks: {
                title: tooltipTitleCallback
            }
        }
    },
    scales: {
        y: {
            ticks: {
                color: '#6b7280'
            },
            grid: {
                color: '#e5e7eb'
            }
        },
        x: {
            ticks: {
                color: '#6b7280'
            },
            grid: {
                display: false
            }
        }
    }
};

const palette = {
    red: '#FF4E50',
    orange: '#FC913A',
    yellow: '#F9D423',
    lightGreen: '#EDE574',
    lighterGreen: '#E1F5C4'
};

function createInvestmentChart(lang) {
    const ctx = document.getElementById('investmentGrowthChart').getContext('2d');
    if (investmentGrowthChart) {
        investmentGrowthChart.destroy();
    }
    investmentGrowthChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['2008', '2010', '2012', '2014', '2015'],
            datasets: [{
                label: content[lang]['viz1-label'],
                data: [9.3, 18, 40, 120, 220],
                borderColor: palette.red,
                backgroundColor: 'rgba(255, 78, 80, 0.2)',
                fill: true,
                tension: 0.4
            }]
        },
        options: sharedChartOptions
    });
}

function createFintechHubsChart(lang) {
    const ctx = document.getElementById('fintechHubsChart').getContext('2d');
    if (fintechHubsChart) {
        fintechHubsChart.destroy();
    }
    fintechHubsChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: content[lang]['viz3-cities'].map(wrapLabels),
            datasets: [{
                label: content[lang]['viz3-label'],
                data: [85, 82, 79, 77, 75, 74],
                backgroundColor: [palette.red, palette.orange, palette.yellow, palette.lightGreen, palette.lighterGreen, '#a8d8b9'],
                borderColor: '#ffffff',
                borderWidth: 2
            }]
        },
        options: { ...sharedChartOptions, indexAxis: 'y' }
    });
}

function createSecurityThreatsChart(lang) {
    const ctx = document.getElementById('securityThreatsChart').getContext('2d');
    if (securityThreatsChart) {
        securityThreatsChart.destroy();
    }
    securityThreatsChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: content[lang]['viz5-sources'].map(wrapLabels),
            datasets: [{
                label: content[lang]['viz5-label'],
                data: [40, 25, 15, 15, 5],
                backgroundColor: [palette.red, palette.orange, palette.yellow, palette.lightGreen, palette.lighterGreen],
                hoverOffset: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        color: '#4b5563',
                        font: { size: 12 },
                        padding: 20
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            }
        }
    });
}

function renderContent(lang) {
    document.documentElement.lang = lang;
    document.body.className = `bg-gray-100 text-gray-800 lang-${lang}`;

    for (const key in content[lang]) {
        const element = document.getElementById(key);
        if (element) {
            element.innerHTML = content[lang][key];
        }
    }
    
    const font = lang === 'zh' ? "'Noto Sans TC', sans-serif" : "'Inter', sans-serif";
    Chart.defaults.font.family = font;

    createInvestmentChart(lang);
    createFintechHubsChart(lang);
    createSecurityThreatsChart(lang);
}

document.addEventListener('DOMContentLoaded', function () {
    const langSwitcher = document.getElementById('lang-switcher');
    
    langSwitcher.addEventListener('click', () => {
        currentLanguage = currentLanguage === 'en' ? 'zh' : 'en';
        renderContent(currentLanguage);
    });

    renderContent(currentLanguage);
});
</script>

</body>
</html>
